2011-11-23 14:08:39,012 [http-w05 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 14:08:39,012 [http-w05 [container2-14]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 14:08:39,012 [http-w05 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 14:08:39,012 [http-w05 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 14:08:39,012 [http-w05 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 14:08:39,012 [http-w05 [container2-14]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 14:08:39,012 [http-w05 [container2-14]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 14:08:39,028 [http-w05 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 14:08:41,266 [http-w05 [container2-14]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 14:08:41,266 [http-w05 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 14:08:41,266 [http-w05 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 14:08:41,266 [http-w05 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 14:08:41,281 [http-w05 [container2-14]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 14:08:41,281 [http-w05 [container2-14]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 14:08:41,281 [http-w05 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 14:08:41,281 [http-w05 [container2-14]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 14:08:41,281 [http-w05 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 14:08:41,281 [http-w05 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 14:08:41,281 [http-w05 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 14:08:41,281 [http-w05 [container2-14]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 14:08:41,281 [http-w05 [container2-14]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 14:08:41,281 [http-w05 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 14:10:42,826 [JMXMP-9 [container2-23]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-23 14:10:42,904 [JMXMP-9 [container2-23]] INFO  ConnectionPool  - Start release pool...
2011-11-23 14:10:43,028 [JMXMP-9 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-23 14:10:43,028 [JMXMP-9 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-23 14:10:43,028 [JMXMP-9 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-23 14:10:43,044 [JMXMP-9 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-23 14:10:43,044 [JMXMP-9 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-23 14:10:43,060 [JMXMP-9 [container2-23]] INFO  ConnectionPool  - End release pool.
2011-11-23 14:10:45,540 [JMXMP-9 [container2-23]] INFO  server  - Released all resources
2011-11-23 14:10:45,540 [JMXMP-9 [container2-23]] INFO  server  - Fine.
2011-11-23 14:46:39,872 [http-w00 [container2-14]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-23 14:46:39,872 [http-w00 [container2-14]] INFO  server  - Set XML parser properties.
2011-11-23 14:46:39,888 [http-w00 [container2-14]] INFO  XML-License-Loader  - [.xml] loader
2011-11-23 14:46:39,888 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 14:46:39,888 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 14:46:40,044 [http-w00 [container2-14]] INFO  resource  - Start initialize OZ
2011-11-23 14:46:40,044 [http-w00 [container2-14]] DEBUG resource  - Send mail function is not activated.
2011-11-23 14:46:40,044 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 14:46:40,044 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 14:46:40,044 [http-w00 [container2-14]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-23 14:46:40,044 [http-w00 [container2-14]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-23 14:46:40,044 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 14:46:40,044 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-23 14:46:40,091 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 14:46:40,106 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 14:46:40,106 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 14:46:40,106 [http-w00 [container2-14]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-23 14:46:40,106 [http-w00 [container2-14]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-23 14:46:40,106 [http-w00 [container2-14]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-23 14:46:40,106 [http-w00 [container2-14]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-23 14:46:40,106 [http-w00 [container2-14]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-23 14:46:40,106 [http-w00 [container2-14]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-23 14:46:40,106 [http-w00 [container2-14]] INFO  ConnectionPool  - Start initialize...
2011-11-23 14:46:40,106 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-23 14:46:40,106 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-23 14:46:40,106 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 14:46:40,106 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 14:46:42,868 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 14:46:42,868 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 14:46:42,868 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 14:46:44,569 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 14:46:44,569 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 14:46:44,585 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 14:46:51,372 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 14:46:51,372 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 14:46:51,372 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 14:46:53,557 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 14:46:53,557 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 14:46:53,557 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 14:47:00,890 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 14:47:00,890 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 14:47:00,890 [http-w00 [container2-14]] INFO  ConnectionPool  - End initialize.
2011-11-23 14:47:00,984 [http-w00 [container2-14]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-23 14:47:01,015 [http-w00 [container2-14]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-23 14:47:01,015 [http-w00 [container2-14]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-23 14:47:01,140 [http-w00 [container2-14]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-23 14:47:01,140 [http-w00 [container2-14]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-23 14:47:01,140 [http-w00 [container2-14]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-23 14:47:01,140 [http-w00 [container2-14]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-23 14:47:01,140 [http-w00 [container2-14]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-23 14:47:01,171 [http-w00 [container2-14]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-23 14:47:01,171 [http-w00 [container2-14]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-23 14:47:01,171 [http-w00 [container2-14]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-23 14:47:01,171 [http-w00 [container2-14]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-23 14:47:01,171 [http-w00 [container2-14]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-23 14:47:01,171 [http-w00 [container2-14]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-23 14:47:01,171 [http-w00 [container2-14]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-23 14:47:01,171 [http-w00 [container2-14]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-23 14:47:01,187 [http-w00 [container2-14]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-23 14:47:01,187 [http-w00 [container2-14]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-23 14:47:01,187 [http-w00 [container2-14]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-23 14:47:01,187 [http-w00 [container2-14]] DEBUG resource  - java script init loading.
2011-11-23 14:47:01,281 [http-w00 [container2-14]] INFO  resource  - Loading REPORT frameworks ....
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG server  - OS Name            : Windows 7
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG server  - OS Version         : 6.1
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG server  - CPU Count          : 8
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -   ------------------------------------------------  
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -   OZ Version Info.
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -   ------------------------------------------------  
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -    OZ Common Protocol
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -       Protocol              : 2007
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -    OZ DataModule
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -       Streaming Protocol    : 2040
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  -   ------------------------------------------------  
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  - 
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  - This product includes Hypersonic SQL.
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  - 
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  - OZ Servlet is ready up.
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 14:47:01,405 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 14:47:01,405 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 14:47:01,421 [http-w00 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 14:47:01,421 [http-w00 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 14:47:01,421 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 14:47:01,421 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 14:47:01,421 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 14:47:01,421 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 14:47:01,421 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 14:47:01,421 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 14:47:01,421 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 14:47:01,421 [http-w00 [container2-14]] ERROR LocalRepositoryAdapter  - File Not Found :C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF\repository_files\reader\deliveryList.ozr
File Not Found :C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF\repository_files\reader\deliveryList.ozr
	at oz.framework.repositoryex.adapter.local.cozo8.getItems(DashoA12957:453)
	at oz.framework.repositoryex.adapter.cozb0.a(DashoA12957:399)
	at oz.framework.cp.message.repositoryex.OZRepositoryRequestItem.fetchMessage(DashoA12957:618)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 14:47:01,421 [http-w00 [container2-14]] DEBUG OZStream  - write zip Item stream null.
2011-11-23 14:47:01,421 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:00:52,174 [http-w04] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:00:52,174 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:00:52,174 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:00:52,174 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:00:52,174 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:00:52,174 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:00:52,174 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:00:52,174 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:00:52,174 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:00:52,174 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:00:52,174 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:00:52,190 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:00:52,190 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:00:52,190 [http-w04 [container2-17]] ERROR LocalRepositoryAdapter  - File Not Found :C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF\repository_files\reader\deliveryList.ozr
File Not Found :C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF\repository_files\reader\deliveryList.ozr
	at oz.framework.repositoryex.adapter.local.cozo8.getItems(DashoA12957:453)
	at oz.framework.repositoryex.adapter.cozb0.a(DashoA12957:399)
	at oz.framework.cp.message.repositoryex.OZRepositoryRequestItem.fetchMessage(DashoA12957:618)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:00:52,190 [http-w04 [container2-17]] DEBUG OZStream  - write zip Item stream null.
2011-11-23 15:00:52,190 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:38,240 [http-w08] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:38,240 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:38,240 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-23 15:02:38,240 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:38,240 [http-w08 [container2-18]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-23 15:02:38,255 [http-w08 [container2-18]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-23 15:02:38,255 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,232 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,232 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,232 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 15:02:39,232 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,232 [http-w08 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 15:02:39,232 [http-w08 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 15:02:39,247 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,247 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,247 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,247 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 15:02:39,247 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,247 [http-w08 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 15:02:39,247 [http-w08 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 15:02:39,247 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,247 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,247 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,247 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG OZStream  - read Item size = 3617
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:02:39,263 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,263 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,278 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,278 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:02:39,278 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,278 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:02:39,279 [http-w08 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 15:02:39,279 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,279 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,279 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,279 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:02:39,279 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,279 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:02:39,279 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:02:39,279 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:39,295 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:39,295 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:39,295 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:02:39,295 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:39,295 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:02:39,295 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:02:39,295 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:41,370 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:41,370 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:41,370 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:02:41,370 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:41,370 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:02:41,370 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:02:41,385 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:41,385 [http-w08 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:02:41,385 [http-w08 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:41,385 [http-w08 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:02:41,385 [http-w08 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:41,385 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:02:41,385 [http-w08 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:02:41,385 [http-w08 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:57,330 [http-w02] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:02:57,330 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:57,330 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:02:57,330 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:57,330 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:02:57,330 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:02:57,345 [http-w02 [container2-20]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:02:57,345 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:57,377 [http-w02 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:02:57,377 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:57,377 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:02:57,377 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:57,377 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:02:57,377 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:02:57,377 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:02:57,377 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /reader/deliveryList.odi
2011-11-23 15:02:57,393 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:02:57,393 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:02:57,424 [http-w02 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:02:57,455 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:02:57,455 [http-w02 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:02:57,455 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:02:57,455 [http-w02 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:02:57,455 [http-w02 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:02:57,455 [http-w02 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:02:57,487 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:02:57,487 [http-w02 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:02:57,487 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:02:57,487 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:02:57,549 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:02:57,565 [http-w02 [container2-20]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:02:57,565 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 15:02:57,565 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:02:57,565 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:02:57,658 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:02:57,658 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:02:57,658 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:02:57,658 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:02:57,783 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:02:57,830 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 47msec> Success to execute query.
2011-11-23 15:02:58,703 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 954rows, 873msec> data-binding complete.
2011-11-23 15:02:58,703 [http-w02 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:02:58,719 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:02:58,719 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:02:58,719 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:02:58,719 [http-w02 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:02:58,719 [http-w02 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:02:58,719 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:02:58,719 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:09,076 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:09,076 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:09,076 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:04:09,076 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:09,076 [http-w00 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:04:09,076 [http-w00 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:04:09,076 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:09,076 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:09,076 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:09,076 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:04:09,076 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:09,092 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:04:09,092 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:04:09,108 [http-w00 [container2-14]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 15:04:09,108 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:09,124 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:09,124 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:09,124 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:04:09,124 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:09,124 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:04:09,124 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:04:09,124 [http-w00 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 15:04:09,139 [http-w00 [container2-14]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /output/giroBill.odi
2011-11-23 15:04:09,139 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:04:09,139 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:04:09,139 [http-w00 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG OZStream  - write Item size = 1390
2011-11-23 15:04:09,155 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:09,155 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:09,155 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:04:09,155 [http-w00 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:04:09,155 [http-w00 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 15:04:09,155 [http-w00 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:04:09,171 [http-w00 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:04:09,171 [http-w00 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:04:09,171 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:04:09,171 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:04:09,171 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:04:09,171 [http-w00 [container2-14]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:04:09,171 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 15:04:09,171 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:04:09,171 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:04:09,405 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:04:09,405 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:04:09,405 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:04:09,405 [http-w00 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
query = query + "       SUM(X.BILLAMT) BILLAMT,";
query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 15:04:09,436 [http-w00 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       SUM(X.BILLAMT) BILLAMT,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','0')            AND A.SGGBCD IN('011','0')           AND B.READTYPECD IN('011','0')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 15:04:09,545 [http-w00 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 109msec> Success to execute query.
2011-11-23 15:04:09,545 [http-w00 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-23 15:04:09,545 [http-w00 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:04:09,545 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:04:09,545 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:04:09,545 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:04:09,545 [http-w00 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:04:09,545 [http-w00 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 15:04:09,545 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:30,238 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:30,238 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:30,238 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:04:30,238 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:30,238 [http-w00 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:04:30,238 [http-w00 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:04:30,238 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:30,238 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:30,238 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:30,238 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:04:30,238 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:04:30,253 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:30,253 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:30,253 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:04:30,253 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:04:30,253 [http-w00 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:04:30,253 [http-w00 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:04:30,253 [http-w00 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:04:30,269 [http-w00 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:04:30,269 [http-w00 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:04:30,269 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:04:30,269 [http-w00 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:04:30,270 [http-w00 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:04:30,270 [http-w00 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:04:30,270 [http-w00 [container2-14]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:04:30,270 [http-w00 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:04:30,270 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:04:30,270 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:04:30,270 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:04:30,270 [http-w00 [container2-14]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:04:30,270 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 15:04:30,270 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:04:30,270 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:04:30,426 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:04:30,426 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:04:30,426 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:04:30,426 [http-w00 [container2-14]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:04:30,426 [http-w00 [container2-14]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:04:30,457 [http-w00 [container2-14]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 31msec> Success to execute query.
2011-11-23 15:04:30,676 [http-w00 [container2-14]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 388rows, 219msec> data-binding complete.
2011-11-23 15:04:30,676 [http-w00 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:04:30,676 [http-w00 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:04:30,676 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:04:30,676 [http-w00 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:04:30,676 [http-w00 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:04:30,676 [http-w00 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:04:30,691 [http-w00 [container2-14]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:04:30,691 [http-w00 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:03,482 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:03,482 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:03,482 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:06:03,482 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:03,482 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:06:03,482 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:06:03,498 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:03,498 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:03,498 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 15:06:03,498 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:03,498 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:03,498 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:06:03,498 [http-w04 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 15:06:03,513 [http-w04 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG OZStream  - write Item size = 1390
2011-11-23 15:06:03,514 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:03,514 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:03,514 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:06:03,514 [http-w04 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 15:06:03,514 [http-w04 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:06:03,514 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:06:03,514 [http-w04 [container2-17]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:06:03,514 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:06:03,514 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:06:03,639 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:06:03,639 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:06:03,639 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:06:03,639 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
query = query + "       SUM(X.BILLAMT) BILLAMT,";
query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 15:06:03,655 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       SUM(X.BILLAMT) BILLAMT,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','0')            AND A.SGGBCD IN('011','0')           AND B.READTYPECD IN('011','0')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 15:06:03,702 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 47msec> Success to execute query.
2011-11-23 15:06:03,702 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-23 15:06:03,702 [http-w04 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:06:03,702 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:06:03,702 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:06:03,702 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:06:03,702 [http-w04 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:06:03,702 [http-w04 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 15:06:03,702 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:19,862 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:19,862 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:19,862 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:06:19,862 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:19,862 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:06:19,862 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:06:19,862 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:19,862 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:19,862 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:19,862 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:06:19,862 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 15:06:19,878 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:19,878 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:19,878 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 15:06:19,878 [http-w04 [container2-17]] DEBUG OZStream  - write Item size = 1390
2011-11-23 15:06:19,894 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:19,895 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:19,895 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:06:19,895 [http-w04 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 15:06:19,895 [http-w04 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:06:19,895 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:06:19,895 [http-w04 [container2-17]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:06:19,895 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:06:19,895 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:06:20,035 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:06:20,035 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:06:20,035 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:06:20,035 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
query = query + "       SUM(X.BILLAMT) BILLAMT,";
query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 15:06:20,035 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       SUM(X.BILLAMT) BILLAMT,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','0')            AND A.SGGBCD IN('011','012','0')           AND B.READTYPECD IN('011','012','0')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 15:06:20,144 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 109msec> Success to execute query.
2011-11-23 15:06:20,175 [http-w04 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 19rows, 31msec> data-binding complete.
2011-11-23 15:06:20,175 [http-w04 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:06:20,175 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:06:20,175 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:06:20,175 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:06:20,175 [http-w04 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:06:20,175 [http-w04 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 15:06:20,175 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:42,984 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:06:42,984 [http-w04 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:06:42,999 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:06:42,999 [http-w04 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:06:42,999 [http-w04 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:06:42,999 [http-w04 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:06:42,999 [http-w04 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:06:42,999 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:06:42,999 [http-w04 [container2-17]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:06:43,015 [http-w04 [container2-17]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 16msec> Success to execute query.
2011-11-23 15:06:43,202 [http-w04 [container2-17]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 388rows, 187msec> data-binding complete.
2011-11-23 15:06:43,202 [http-w04 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:06:43,202 [http-w04 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:06:43,202 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:06:43,202 [http-w04 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:06:43,202 [http-w04 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:06:43,202 [http-w04 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:06:43,202 [http-w04 [container2-17]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:06:43,202 [http-w04 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:09:04,186 [JMXMP-3 [container2-22]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-23 15:09:04,186 [JMXMP-3 [container2-22]] INFO  ConnectionPool  - Start release pool...
2011-11-23 15:09:04,202 [JMXMP-3 [container2-22]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 15:09:04,202 [JMXMP-3 [container2-22]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 15:09:04,202 [JMXMP-3 [container2-22]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 15:09:04,202 [JMXMP-3 [container2-22]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 15:09:04,217 [JMXMP-3 [container2-22]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 15:09:04,217 [JMXMP-3 [container2-22]] INFO  ConnectionPool  - End release pool.
2011-11-23 15:09:04,701 [JMXMP-3 [container2-22]] INFO  server  - Released all resources
2011-11-23 15:09:04,701 [JMXMP-3 [container2-22]] INFO  server  - Fine.
2011-11-23 15:14:51,258 [http-w08 [container2-12]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-23 15:14:51,274 [http-w08 [container2-12]] INFO  server  - Set XML parser properties.
2011-11-23 15:14:51,274 [http-w08 [container2-12]] INFO  XML-License-Loader  - [.xml] loader
2011-11-23 15:14:51,274 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 15:14:51,274 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 15:14:51,352 [http-w08 [container2-12]] INFO  resource  - Start initialize OZ
2011-11-23 15:14:51,352 [http-w08 [container2-12]] DEBUG resource  - Send mail function is not activated.
2011-11-23 15:14:51,352 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 15:14:51,352 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 15:14:51,352 [http-w08 [container2-12]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-23 15:14:51,352 [http-w08 [container2-12]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-23 15:14:51,352 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 15:14:51,352 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 15:14:51,367 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-23 15:14:51,367 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 15:14:51,367 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 15:14:51,367 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-23 15:14:51,367 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 15:14:51,367 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-23 15:14:51,367 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 15:14:51,383 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 15:14:51,383 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-23 15:14:51,383 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 15:14:51,383 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 15:14:51,383 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 15:14:51,383 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-23 15:14:51,383 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-23 15:14:51,383 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-23 15:14:51,383 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-23 15:14:51,383 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-23 15:14:51,383 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-23 15:14:51,383 [http-w08 [container2-12]] INFO  ConnectionPool  - Start initialize...
2011-11-23 15:14:51,383 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-23 15:14:51,398 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-23 15:14:51,398 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:14:51,398 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:14:52,256 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:14:52,256 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:14:52,256 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:14:52,367 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:14:52,367 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:14:52,367 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:14:52,491 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:14:52,491 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:14:52,491 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:14:52,616 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:14:52,616 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:14:52,616 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:14:52,725 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:14:52,725 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:14:52,725 [http-w08 [container2-12]] INFO  ConnectionPool  - End initialize.
2011-11-23 15:14:52,772 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-23 15:14:52,788 [http-w08 [container2-12]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-23 15:14:52,788 [http-w08 [container2-12]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-23 15:14:52,819 [http-w08 [container2-12]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-23 15:14:52,819 [http-w08 [container2-12]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-23 15:14:52,819 [http-w08 [container2-12]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-23 15:14:52,819 [http-w08 [container2-12]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-23 15:14:52,819 [http-w08 [container2-12]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-23 15:14:52,819 [http-w08 [container2-12]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-23 15:14:52,835 [http-w08 [container2-12]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-23 15:14:52,835 [http-w08 [container2-12]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-23 15:14:52,835 [http-w08 [container2-12]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-23 15:14:52,835 [http-w08 [container2-12]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-23 15:14:52,835 [http-w08 [container2-12]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-23 15:14:52,835 [http-w08 [container2-12]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-23 15:14:52,835 [http-w08 [container2-12]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-23 15:14:52,835 [http-w08 [container2-12]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-23 15:14:52,835 [http-w08 [container2-12]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-23 15:14:52,835 [http-w08 [container2-12]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-23 15:14:52,835 [http-w08 [container2-12]] DEBUG resource  - java script init loading.
2011-11-23 15:14:52,944 [http-w08 [container2-12]] INFO  resource  - Loading REPORT frameworks ....
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG server  - OS Name            : Windows 7
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG server  - OS Version         : 6.1
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG server  - CPU Count          : 8
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -   ------------------------------------------------  
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -   OZ Version Info.
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -   ------------------------------------------------  
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -    OZ Common Protocol
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -       Protocol              : 2007
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -    OZ DataModule
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -       Streaming Protocol    : 2040
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  -   ------------------------------------------------  
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  - 
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  - This product includes Hypersonic SQL.
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  - 
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  - OZ Servlet is ready up.
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:53,069 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:53,069 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-23 15:14:53,084 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-23 15:14:53,084 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,079 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,079 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,079 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 15:14:56,079 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,079 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 15:14:56,095 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 15:14:56,095 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,095 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,095 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,095 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 15:14:56,095 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,095 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 15:14:56,095 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 15:14:56,112 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,112 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,127 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 15:14:56,127 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,127 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,127 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 3550
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-11-23 15:14:56,127 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,127 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,127 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:14:56,127 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 15:14:56,143 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,143 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,143 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 15:14:56,143 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,143 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,143 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:14:56,143 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:14:56,143 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:56,158 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:56,158 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:56,158 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:14:56,158 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:56,158 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:14:56,158 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:14:56,158 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:58,233 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:58,233 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:58,233 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:14:58,233 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:58,233 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:14:58,233 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:14:58,249 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:14:58,249 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 15:14:58,249 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:14:58,249 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 15:14:58,249 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:14:58,264 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 15:14:58,264 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 15:14:58,264 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:15:46,876 [http-w04] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:15:46,876 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:15:46,876 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:15:46,876 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:15:46,876 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:15:46,876 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:15:46,876 [http-w04 [container2-15]] DEBUG OZStream  - write Item zip size = 3550
2011-11-23 15:15:46,876 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:15:46,892 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:15:46,892 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:15:46,892 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:15:46,892 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:15:46,892 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:15:46,892 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:15:46,908 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:15:46,908 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:15:46,908 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:15:46,924 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:15:46,924 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:15:46,955 [http-w04 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:15:46,971 [http-w04 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:15:46,986 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:15:46,986 [http-w04 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:15:46,986 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:15:46,986 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:15:47,033 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:15:47,049 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:15:47,049 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:15:47,049 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:15:47,142 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '108' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('093', 3, '0') ) OR(GNO = '130' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('149', 3, '0') ) OR(GNO = '131' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('105', 3, '0') ) OR(GNO = '132' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('085', 3, '0') ) OR(GNO = '135' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('408', 3, '0') ) OR(GNO = '152' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('124', 3, '0') ) OR(GNO = '17' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('002', 3, '0') ) OR(GNO = '171' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('078', 3, '0') ) OR(GNO = '172' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('017', 3, '0') ) OR(GNO = '174' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('060', 3, '0') ) OR(GNO = '175' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('083', 3, '0') ) OR(GNO = '176' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('074', 3, '0') ) OR(GNO = '177' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('048', 3, '0') ) OR(GNO = '178' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:15:47,283 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 141msec> Success to execute query.
2011-11-23 15:15:48,063 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 2228rows, 780msec> data-binding complete.
2011-11-23 15:15:48,078 [http-w04 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:15:48,078 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:15:48,078 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:15:48,078 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:15:48,078 [http-w04 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:15:48,078 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:15:48,078 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:15:48,078 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:00,778 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:00,778 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:00,778 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:16:00,778 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:00,778 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:16:00,778 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:16:00,778 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:00,778 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:00,778 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:00,778 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:16:00,778 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG OZStream  - write Item zip size = 3550
2011-11-23 15:16:00,793 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:00,793 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:00,793 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:16:00,793 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:00,793 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:00,793 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:16:00,793 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:00,809 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:16:00,809 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:16:00,809 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:16:00,809 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:16:00,809 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:16:00,810 [http-w04 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:16:00,810 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:16:00,810 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '108' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('093', 3, '0') ) OR(GNO = '130' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('149', 3, '0') ) OR(GNO = '131' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('105', 3, '0') ) OR(GNO = '132' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('085', 3, '0') ) OR(GNO = '135' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('408', 3, '0') ) OR(GNO = '152' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('124', 3, '0') ) OR(GNO = '17' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('002', 3, '0') ) OR(GNO = '171' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('078', 3, '0') ) OR(GNO = '172' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('017', 3, '0') ) OR(GNO = '174' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('060', 3, '0') ) OR(GNO = '175' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('083', 3, '0') ) OR(GNO = '176' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('074', 3, '0') ) OR(GNO = '177' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('048', 3, '0') ) OR(GNO = '178' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:16:00,841 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 31msec> Success to execute query.
2011-11-23 15:16:01,418 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 2228rows, 577msec> data-binding complete.
2011-11-23 15:16:01,418 [http-w04 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:16:01,434 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:16:01,434 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:16:01,434 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:16:01,434 [http-w04 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:16:01,434 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:16:01,450 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:16:01,450 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:18,922 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:18,922 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:18,922 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:16:18,922 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:18,922 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:16:18,922 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:16:18,922 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:18,922 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:18,922 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:18,922 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:16:18,922 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:16:18,937 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:18,937 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:18,937 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:16:18,937 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:16:18,937 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:16:18,937 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:16:18,937 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:16:18,953 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:16:18,953 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:16:18,953 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:16:18,953 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:16:18,953 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:16:18,954 [http-w04 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:16:18,954 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:16:18,954 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '108' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('093', 3, '0') ) OR(GNO = '130' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('149', 3, '0') ) OR(GNO = '131' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('105', 3, '0') ) OR(GNO = '132' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('085', 3, '0') ) OR(GNO = '135' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('408', 3, '0') ) OR(GNO = '152' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('124', 3, '0') ) OR(GNO = '17' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('002', 3, '0') ) OR(GNO = '171' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('078', 3, '0') ) OR(GNO = '172' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('017', 3, '0') ) OR(GNO = '174' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('060', 3, '0') ) OR(GNO = '175' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('083', 3, '0') ) OR(GNO = '176' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('074', 3, '0') ) OR(GNO = '177' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('048', 3, '0') ) OR(GNO = '178' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:16:19,001 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 47msec> Success to execute query.
2011-11-23 15:16:19,687 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 2228rows, 686msec> data-binding complete.
2011-11-23 15:16:19,687 [http-w04 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:16:19,687 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:16:19,687 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:16:19,687 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:16:19,687 [http-w04 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:16:19,687 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:16:19,687 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:16:19,687 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:05,193 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:05,193 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:17:05,193 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:05,193 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:05,193 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:17:05,193 [http-w04 [container2-15]] DEBUG OZStream  - write Item zip size = 3550
2011-11-23 15:17:05,193 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:17:05,209 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:17:05,209 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:17:05,224 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:17:05,224 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:17:05,224 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:17:05,224 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '108' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('093', 3, '0') ) OR(GNO = '130' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('149', 3, '0') ) OR(GNO = '131' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('105', 3, '0') ) OR(GNO = '132' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('085', 3, '0') ) OR(GNO = '135' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('408', 3, '0') ) OR(GNO = '152' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('124', 3, '0') ) OR(GNO = '17' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('002', 3, '0') ) OR(GNO = '171' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('078', 3, '0') ) OR(GNO = '172' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('017', 3, '0') ) OR(GNO = '174' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('060', 3, '0') ) OR(GNO = '175' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('083', 3, '0') ) OR(GNO = '176' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('074', 3, '0') ) OR(GNO = '177' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('048', 3, '0') ) OR(GNO = '178' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:17:05,287 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 63msec> Success to execute query.
2011-11-23 15:17:05,864 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 2228rows, 577msec> data-binding complete.
2011-11-23 15:17:05,864 [http-w04 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:17:05,864 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:17:05,880 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:17:05,880 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:17:05,880 [http-w04 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:17:05,880 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:17:05,880 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:17:05,880 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:52,900 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:52,916 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:17:52,916 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:52,916 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:52,916 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:17:52,916 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:52,916 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:52,916 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:17:52,916 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:17:52,931 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:17:52,931 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:17:52,931 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:17:52,931 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:17:52,931 [http-w04 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:17:52,931 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:17:52,931 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:17:52,947 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:17:52,947 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:17:52,947 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:17:52,947 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '108' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('093', 3, '0') ) OR(GNO = '130' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('149', 3, '0') ) OR(GNO = '131' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('105', 3, '0') ) OR(GNO = '132' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('085', 3, '0') ) OR(GNO = '135' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('408', 3, '0') ) OR(GNO = '152' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('124', 3, '0') ) OR(GNO = '17' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('002', 3, '0') ) OR(GNO = '171' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('078', 3, '0') ) OR(GNO = '172' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('017', 3, '0') ) OR(GNO = '174' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('060', 3, '0') ) OR(GNO = '175' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('083', 3, '0') ) OR(GNO = '176' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('074', 3, '0') ) OR(GNO = '177' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('048', 3, '0') ) OR(GNO = '178' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:17:52,978 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 31msec> Success to execute query.
2011-11-23 15:17:53,633 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 2228rows, 655msec> data-binding complete.
2011-11-23 15:17:53,633 [http-w04 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:17:53,633 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:17:53,633 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:17:53,633 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:17:53,633 [http-w04 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:17:53,633 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:17:53,633 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:17:53,633 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:00,139 [http-w02] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:00,139 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:19:00,139 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:00,139 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:00,139 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:19:00,139 [http-w02 [container2-16]] DEBUG OZStream  - write Item zip size = 3550
2011-11-23 15:19:00,139 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:00,155 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:00,155 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:19:00,155 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:00,155 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:00,155 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:19:00,155 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:19:00,155 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:19:00,170 [http-w02 [container2-16]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:19:00,170 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:19:00,170 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:19:00,186 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:19:00,217 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 31msec> Success to execute query.
2011-11-23 15:19:00,763 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 646rows, 546msec> data-binding complete.
2011-11-23 15:19:00,763 [http-w02 [container2-16]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:19:00,763 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:19:00,763 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:19:00,763 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:19:00,763 [http-w02 [container2-16]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:19:00,763 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:19:00,779 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:19:00,779 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:48,441 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:48,441 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:19:48,441 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:48,441 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:48,441 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:19:48,441 [http-w02 [container2-16]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:19:48,441 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:19:48,457 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:19:48,457 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:19:48,472 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:19:48,472 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:19:48,472 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:19:48,472 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:19:48,472 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 0msec> Success to execute query.
2011-11-23 15:19:48,628 [http-w02 [container2-16]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 646rows, 156msec> data-binding complete.
2011-11-23 15:19:48,628 [http-w02 [container2-16]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:19:48,628 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:19:48,628 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:19:48,628 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:19:48,628 [http-w02 [container2-16]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:19:48,628 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:19:48,628 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:19:48,628 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:24:53,339 [http-w05] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:24:53,339 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:24:53,339 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:24:53,339 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:24:53,339 [http-w05 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:24:53,339 [http-w05 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:24:53,339 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:24:53,339 [http-w05 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:24:53,339 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:24:53,339 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:24:53,339 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:24:53,355 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:24:53,355 [http-w05 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:24:53,355 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:24:53,355 [http-w05 [container2-19]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:24:53,355 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:24:53,372 [http-w05 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:24:53,372 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:24:53,372 [http-w05 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:24:53,372 [http-w05 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:24:53,372 [http-w05 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:24:53,372 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:24:53,465 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:24:53,465 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:24:53,465 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:24:53,481 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','106','102','113','108','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:24:53,543 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 62msec> Success to execute query.
2011-11-23 15:24:53,543 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-23 15:24:53,543 [http-w05 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:24:53,543 [http-w05 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:24:53,543 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:24:53,543 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:24:53,543 [http-w05 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:24:53,543 [http-w05 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:24:53,543 [http-w05 [container2-19]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:24:53,543 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:25:04,728 [http-w05 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:25:04,728 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:25:04,728 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:25:04,728 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:25:04,744 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:25:04,744 [http-w05 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:25:04,744 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 15:25:04,744 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:25:04,744 [http-w05 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:25:04,744 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:25:04,744 [http-w05 [container2-19]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:25:04,760 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:25:04,761 [http-w05 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:25:04,761 [http-w05 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:25:04,761 [http-w05 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:25:04,761 [http-w05 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:25:04,761 [http-w05 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:25:04,761 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','106','102','113','108','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:25:04,776 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 15msec> Success to execute query.
2011-11-23 15:25:04,807 [http-w05 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 154rows, 31msec> data-binding complete.
2011-11-23 15:25:04,807 [http-w05 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:25:04,807 [http-w05 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:25:04,807 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:25:04,807 [http-w05 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:25:04,807 [http-w05 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:25:04,807 [http-w05 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:25:04,823 [http-w05 [container2-19]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:25:04,823 [http-w05 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:29:42,207 [http-w01 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:29:42,207 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:29:42,207 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:29:42,207 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:29:42,207 [http-w01 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:29:42,207 [http-w01 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:29:42,207 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:29:42,207 [http-w01 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:29:42,207 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:29:42,207 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:29:42,207 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG OZStream  - write Item zip size = 3550
2011-11-23 15:29:42,223 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:29:42,223 [http-w01 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:29:42,223 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG OZStream  - write Item size = 1095
2011-11-23 15:29:42,223 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:29:42,223 [http-w01 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:29:42,223 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:29:42,223 [http-w01 [container2-13]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 15:29:42,223 [http-w01 [container2-13]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:29:42,238 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:29:42,238 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:29:42,239 [http-w01 [container2-13]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:29:42,239 [http-w01 [container2-13]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:29:42,239 [http-w01 [container2-13]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:29:42,239 [http-w01 [container2-13]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:29:42,239 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:29:42,239 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:29:42,239 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:29:42,255 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:29:42,255 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:29:42,255 [http-w01 [container2-13]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 15:29:42,255 [http-w01 [container2-13]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','106','102','113','108','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 15:29:42,271 [http-w01 [container2-13]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 16msec> Success to execute query.
2011-11-23 15:29:42,349 [http-w01 [container2-13]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 154rows, 78msec> data-binding complete.
2011-11-23 15:29:42,349 [http-w01 [container2-13]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:29:42,349 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:29:42,349 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:29:42,349 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:29:42,349 [http-w01 [container2-13]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:29:42,349 [http-w01 [container2-13]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 15:29:42,349 [http-w01 [container2-13]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 15:29:42,349 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:06,358 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:06,358 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:06,358 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:38:06,358 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:06,358 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:38:06,358 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:38:06,358 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:06,358 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:06,358 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:06,358 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 15:38:06,374 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:06,374 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:06,374 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG OZStream  - write Item size = 1390
2011-11-23 15:38:06,374 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:06,374 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:06,374 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:38:06,374 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:38:06,374 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:38:06,391 [http-w02 [container2-16]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:38:06,391 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 15:38:06,391 [http-w02 [container2-16]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:38:06,391 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:38:06,391 [http-w02 [container2-16]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:38:06,391 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:38:06,391 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:38:06,391 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:38:06,406 [http-w02 [container2-16]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:38:06,406 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 15:38:06,406 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:38:06,406 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:38:06,578 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:38:06,578 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:38:06,578 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:38:06,578 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
query = query + "       SUM(X.BILLAMT) BILLAMT,";
query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 15:38:06,593 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       SUM(X.BILLAMT) BILLAMT,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 15:38:06,703 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 110msec> Success to execute query.
2011-11-23 15:38:06,749 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 28rows, 46msec> data-binding complete.
2011-11-23 15:38:06,749 [http-w02 [container2-16]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:38:06,749 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:38:06,749 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:38:06,749 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:38:06,749 [http-w02 [container2-16]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:38:06,749 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 15:38:06,749 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:37,778 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:37,778 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:37,778 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 15:38:37,778 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 15:38:37,793 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:37,793 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:37,793 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 15:38:37,793 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:37,793 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:37,793 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 15:38:37,793 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 15:38:37,809 [http-w02 [container2-16]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG OZStream  - write Item size = 1390
2011-11-23 15:38:37,810 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 15:38:37,810 [http-w02 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 15:38:37,810 [http-w02 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 15:38:37,810 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 15:38:37,810 [http-w02 [container2-16]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 15:38:37,810 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 15:38:37,810 [http-w02 [container2-16]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 15:38:37,810 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 15:38:37,810 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 15:38:37,950 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 15:38:37,950 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 15:38:37,950 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 15:38:37,950 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
query = query + "       SUM(X.BILLAMT) BILLAMT,";
query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 15:38:37,966 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       SUM(X.BILLAMT) BILLAMT,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 15:38:38,106 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 140msec> Success to execute query.
2011-11-23 15:38:38,247 [http-w02 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 149rows, 141msec> data-binding complete.
2011-11-23 15:38:38,247 [http-w02 [container2-16]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 15:38:38,247 [http-w02 [container2-16]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 15:38:38,247 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 15:38:38,247 [http-w02 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 15:38:38,247 [http-w02 [container2-16]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 15:38:38,247 [http-w02 [container2-16]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 15:38:38,247 [http-w02 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:25:58,926 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:25:58,926 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:25:58,926 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 16:25:58,926 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:25:58,926 [http-w06 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 16:25:58,926 [http-w06 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 16:25:58,926 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:25:58,926 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:25:58,926 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:25:58,926 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:25:58,926 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG OZStream  - write Item zip size = 3550
2011-11-23 16:25:58,942 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:25:58,942 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:25:58,942 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG OZStream  - write Item size = 1095
2011-11-23 16:25:58,942 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:25:58,942 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:25:58,942 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 16:25:58,942 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:25:58,957 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 16:25:58,957 [http-w06 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 16:25:58,957 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 16:25:58,957 [http-w06 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 16:25:58,957 [http-w06 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 16:25:58,958 [http-w06 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 16:25:58,958 [http-w06 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 16:25:58,958 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 16:25:58,958 [http-w06 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 16:25:58,958 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 16:25:58,958 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 16:25:58,958 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 16:25:58,958 [http-w06 [container2-22]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 16:25:58,958 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 16:25:58,958 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 16:25:58,958 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 16:26:00,456 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 16:26:00,456 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 16:26:00,456 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 16:26:00,456 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 16:26:00,456 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '108' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('093', 3, '0') ) OR(GNO = '130' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('149', 3, '0') ) OR(GNO = '131' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('105', 3, '0') ) OR(GNO = '132' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('085', 3, '0') ) OR(GNO = '135' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('408', 3, '0') ) OR(GNO = '152' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('124', 3, '0') ) OR(GNO = '17' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('002', 3, '0') ) OR(GNO = '171' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('078', 3, '0') ) OR(GNO = '172' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('017', 3, '0') ) OR(GNO = '174' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('060', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 16:26:00,925 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 469msec> Success to execute query.
2011-11-23 16:26:19,886 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 1670rows, 18961msec> data-binding complete.
2011-11-23 16:26:19,886 [http-w06 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 16:26:19,886 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 16:26:19,886 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 16:26:19,886 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 16:26:19,886 [http-w06 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 16:26:19,886 [http-w06 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 16:26:19,886 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 16:26:19,886 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:31:11,515 [http-w00 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:31:11,515 [http-w00 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:31:11,515 [http-w00 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 16:31:11,515 [http-w00 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:31:11,515 [http-w00 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 16:31:11,515 [http-w00 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 16:31:11,515 [http-w00 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:31:11,515 [http-w00 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:31:11,515 [http-w00 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:31:11,515 [http-w00 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:31:11,515 [http-w00 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG OZStream  - write Item zip size = 3617
2011-11-23 16:31:11,530 [http-w00 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:31:11,530 [http-w00 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:31:11,530 [http-w00 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 16:31:11,530 [http-w00 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 16:31:11,546 [http-w00 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG OZStream  - write Item size = 1095
2011-11-23 16:31:11,547 [http-w00 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:31:11,547 [http-w00 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 16:31:11,547 [http-w00 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 16:31:11,547 [http-w00 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 16:31:11,547 [http-w00 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 16:31:11,547 [http-w00 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 16:31:11,547 [http-w00 [container2-20]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 16:31:11,547 [http-w00 [container2-20]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 16:31:11,547 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 16:31:12,951 [http-w00 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 16:31:12,951 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 16:31:12,951 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 16:31:12,951 [http-w00 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.GNO,";
query = query + "         A.BNO, ";
query = query + "         A.READNM,";
query = query + "         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,";
query = query + "         B.YNAME NEWS";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;

query = query + "     AND A.STDT IS NULL";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 16:31:12,966 [http-w00 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.GNO,         A.BNO,          A.READNM,         NVL2(A.DLVSTRNM,A.DLVSTRNM||' '||A.DLVADRS2,A.DLVADRS1||' '||A.DLVADRS2) ADDR,         B.YNAME NEWS    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR(GNO = '108' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('093', 3, '0') ) OR(GNO = '130' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('149', 3, '0') ) OR(GNO = '131' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('105', 3, '0') ) OR(GNO = '132' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('085', 3, '0') ) OR(GNO = '135' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('408', 3, '0') ) OR(GNO = '152' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('124', 3, '0') ) OR(GNO = '17' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('002', 3, '0') ) OR(GNO = '171' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('078', 3, '0') ) OR(GNO = '172' AND BNO BETWEEN LPAD('003', 3, '0')  AND LPAD('017', 3, '0') ) OR(GNO = '174' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('060', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL   ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 16:31:13,244 [http-w00 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 278msec> Success to execute query.
2011-11-23 16:31:31,308 [http-w00 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 1670rows, 18064msec> data-binding complete.
2011-11-23 16:31:31,308 [http-w00 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 16:31:31,308 [http-w00 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 16:31:31,308 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 16:31:31,308 [http-w00 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 16:31:31,308 [http-w00 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 16:31:31,308 [http-w00 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 16:31:31,308 [http-w00 [container2-20]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 16:31:31,308 [http-w00 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:09,462 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:09,462 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:09,462 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-23 16:57:09,462 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:09,462 [http-w06 [container2-22]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-23 16:57:09,462 [http-w06 [container2-22]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-23 16:57:09,462 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,883 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,883 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,883 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 16:57:10,899 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,899 [http-w06 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 16:57:10,899 [http-w06 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 16:57:10,899 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,914 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,914 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,914 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 16:57:10,914 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,914 [http-w06 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 16:57:10,914 [http-w06 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 16:57:10,914 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,931 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,931 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 16:57:10,931 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,931 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,931 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:57:10,931 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 16:57:10,946 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,962 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,962 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,962 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:57:10,962 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,962 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:57:10,962 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 16:57:10,962 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,962 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,962 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,962 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:57:10,962 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,962 [http-w06 [container2-22]] DEBUG OZStream  - read Item size = 1261
2011-11-23 16:57:10,978 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:57:10,978 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-23 16:57:10,978 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,993 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,993 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-23 16:57:10,993 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:10,993 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:10,993 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:57:10,993 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 16:57:11,009 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:11,009 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:11,009 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 16:57:11,009 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:11,009 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:11,009 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 16:57:11,009 [http-w06 [container2-22]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 16:57:11,024 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 16:57:11,040 [http-w06 [container2-22]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 16:57:11,040 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 16:57:11,040 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 16:57:11,040 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 16:57:11,040 [http-w06 [container2-22]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 16:57:11,040 [http-w06 [container2-22]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 16:57:11,040 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:19,944 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:19,944 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:19,944 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-23 17:02:19,944 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:19,944 [http-w09 [container2-18]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-23 17:02:19,944 [http-w09 [container2-18]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-23 17:02:19,944 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,193 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,193 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,193 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:02:21,193 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,193 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:02:21,193 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 17:02:21,193 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,193 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,193 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,209 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,209 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,241 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,241 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,241 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,241 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,241 [http-w09 [container2-18]] DEBUG OZStream  - read Item size = 1261
2011-11-23 17:02:21,241 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,241 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-23 17:02:21,241 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,241 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,241 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,241 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,257 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,257 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZStream  - read Item size = 3686
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:02:21,272 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 17:02:21,272 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZStream  - read Item size = 3555
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,288 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,288 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 17:02:21,304 [http-w09 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 17:02:21,304 [http-w09 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:21,761 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:21,761 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:21,761 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:04:21,761 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:21,761 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:04:21,761 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:04:21,761 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:21,761 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:21,761 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:21,761 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:04:21,761 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG OZStream  - write Item zip size = 3555
2011-11-23 17:04:21,777 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:21,777 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:21,777 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /reader/deliveryList.odi
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:04:21,777 [http-w08 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:04:21,793 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:21,793 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:21,793 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:04:21,793 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:04:21,793 [http-w08 [container2-12]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:04:21,793 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:04:21,793 [http-w08 [container2-12]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 17:04:21,793 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:04:21,793 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:04:21,996 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:04:21,996 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:04:21,996 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:04:21,996 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:04:22,012 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:04:22,090 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 78msec> Success to execute query.
2011-11-23 17:04:22,402 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 587rows, 312msec> data-binding complete.
2011-11-23 17:04:22,402 [http-w08 [container2-12]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:04:22,402 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:04:22,402 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:04:22,402 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:04:22,402 [http-w08 [container2-12]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:04:22,402 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:04:22,402 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:04:22,402 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:35,865 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:35,865 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:35,865 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:04:35,865 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:35,865 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:04:35,865 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:04:35,865 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:35,865 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:35,865 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:35,865 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:04:35,865 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG OZStream  - write Item zip size = 3686
2011-11-23 17:04:35,881 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:35,881 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:35,881 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:04:35,881 [http-w08 [container2-12]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:04:35,897 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:35,898 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:35,898 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:04:35,898 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:04:35,898 [http-w08 [container2-12]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:04:35,898 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:04:35,898 [http-w08 [container2-12]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 17:04:35,898 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:04:35,898 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:04:36,334 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:04:36,334 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:04:36,334 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:04:36,334 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:04:36,350 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:04:36,366 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 16msec> Success to execute query.
2011-11-23 17:04:36,740 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 587rows, 374msec> data-binding complete.
2011-11-23 17:04:36,740 [http-w08 [container2-12]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:04:36,740 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:04:36,740 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:04:36,740 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:04:36,740 [http-w08 [container2-12]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:04:36,740 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:04:36,756 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:04:36,756 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:55,367 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:55,367 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:55,367 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:04:55,367 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:55,367 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:04:55,367 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:04:55,367 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:55,367 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:55,367 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:55,367 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:04:55,367 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG OZStream  - write Item zip size = 3686
2011-11-23 17:04:55,383 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:55,383 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:55,383 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:04:55,383 [http-w08 [container2-12]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:04:55,383 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:04:55,400 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:04:55,400 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:04:55,400 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:04:55,400 [http-w08 [container2-12]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:04:55,400 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:04:55,400 [http-w08 [container2-12]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 17:04:55,400 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:04:55,400 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:04:55,618 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:04:55,618 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:04:55,618 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:04:55,618 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:04:55,618 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:04:55,665 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 47msec> Success to execute query.
2011-11-23 17:04:56,289 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 895rows, 624msec> data-binding complete.
2011-11-23 17:04:56,289 [http-w08 [container2-12]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:04:56,289 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:04:56,289 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:04:56,289 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:04:56,289 [http-w08 [container2-12]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:04:56,289 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:04:56,289 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:04:56,304 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:19,548 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:19,548 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:19,548 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:05:19,548 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:19,548 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:05:19,548 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:05:19,548 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:19,548 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:19,548 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:19,548 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:05:19,548 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG OZStream  - write Item zip size = 3686
2011-11-23 17:05:19,564 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:19,564 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:19,564 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:05:19,564 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:19,564 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:19,564 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:05:19,564 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:05:19,564 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:05:19,580 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:05:19,580 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:05:19,581 [http-w08 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:05:19,581 [http-w08 [container2-12]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:05:19,581 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:05:19,581 [http-w08 [container2-12]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:05:19,581 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:05:19,581 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:05:19,581 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:05:19,581 [http-w08 [container2-12]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 17:05:19,581 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 17:05:19,581 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:05:19,581 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:05:19,939 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:05:19,939 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:05:19,939 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:05:19,939 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:05:19,939 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '200' AND BNO BETWEEN LPAD('000', 3, '0')  AND LPAD('000', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:05:19,971 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 32msec> Success to execute query.
2011-11-23 17:05:20,283 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 895rows, 312msec> data-binding complete.
2011-11-23 17:05:20,283 [http-w08 [container2-12]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:05:20,283 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:05:20,283 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:05:20,283 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:05:20,283 [http-w08 [container2-12]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:05:20,283 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:05:20,283 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:05:20,283 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:36,725 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:36,725 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:36,725 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:05:36,725 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:36,725 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:05:36,725 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:05:36,725 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:36,725 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:36,725 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:36,725 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:05:36,725 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG OZStream  - write Item zip size = 3686
2011-11-23 17:05:36,741 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:36,741 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:36,741 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:05:36,741 [http-w08 [container2-12]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:05:36,741 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:05:36,756 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:05:36,757 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:05:36,757 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:05:36,757 [http-w08 [container2-12]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:05:36,757 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:05:36,757 [http-w08 [container2-12]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 17:05:36,757 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:05:36,757 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:05:36,960 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:05:36,960 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:05:36,960 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:05:36,960 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:05:36,960 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:05:36,976 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 16msec> Success to execute query.
2011-11-23 17:05:37,412 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 587rows, 421msec> data-binding complete.
2011-11-23 17:05:37,412 [http-w08 [container2-12]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:05:37,412 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:05:37,412 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:05:37,412 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:05:37,412 [http-w08 [container2-12]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:05:37,412 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:05:37,412 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:05:37,412 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:06:18,356 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:06:18,356 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:06:18,356 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:06:18,356 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:06:18,356 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:06:18,356 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:06:18,356 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:06:18,356 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:06:18,356 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:06:18,356 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:06:18,356 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG OZStream  - write Item zip size = 3686
2011-11-23 17:06:18,371 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:06:18,371 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:06:18,371 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:06:18,371 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:06:18,371 [http-w08 [container2-12]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:06:18,371 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:06:18,371 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:06:18,371 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:06:18,387 [http-w08 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:06:18,388 [http-w08 [container2-12]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:06:18,388 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:06:18,388 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('', 3, '0')  AND LPAD('', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:06:18,403 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 15msec> Success to execute query.
2011-11-23 17:06:18,513 [http-w08 [container2-12]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 154rows, 110msec> data-binding complete.
2011-11-23 17:06:18,513 [http-w08 [container2-12]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:06:18,513 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:06:18,513 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:06:18,513 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:06:18,513 [http-w08 [container2-12]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:06:18,513 [http-w08 [container2-12]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:06:18,513 [http-w08 [container2-12]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:06:18,513 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:09:10,191 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:09:10,206 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:09:10,206 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:09:10,206 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:09:10,206 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:09:10,206 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:09:10,206 [http-w06 [container2-22]] DEBUG OZStream  - write Item zip size = 3686
2011-11-23 17:09:10,206 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:09:10,206 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:09:10,206 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:09:10,206 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:09:10,222 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:09:10,222 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:09:10,222 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:09:10,222 [http-w06 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:09:10,222 [http-w06 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:09:10,222 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:09:10,222 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('0', 3, '0')  AND LPAD('999', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:09:10,239 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 17msec> Success to execute query.
2011-11-23 17:09:10,239 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-23 17:09:10,239 [http-w06 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:09:10,239 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:09:10,239 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:09:10,239 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:09:10,239 [http-w06 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:09:10,239 [http-w06 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:09:10,239 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:09:10,239 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:09:26,837 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:09:26,837 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:09:26,837 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:09:26,837 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:09:26,837 [http-w06 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:09:26,837 [http-w06 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:09:26,837 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:09:26,837 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:09:26,837 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:09:26,837 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:09:26,837 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG OZStream  - write Item zip size = 3686
2011-11-23 17:09:26,853 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:09:26,853 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:09:26,853 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:09:26,853 [http-w06 [container2-22]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:09:26,868 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:09:26,869 [http-w06 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:09:26,869 [http-w06 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:09:26,869 [http-w06 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:09:26,869 [http-w06 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:09:26,869 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:09:26,869 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:09:26,900 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 31msec> Success to execute query.
2011-11-23 17:09:27,088 [http-w06 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 388rows, 188msec> data-binding complete.
2011-11-23 17:09:27,088 [http-w06 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:09:27,088 [http-w06 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:09:27,088 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:09:27,088 [http-w06 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:09:27,088 [http-w06 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:09:27,088 [http-w06 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:09:27,088 [http-w06 [container2-22]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:09:27,088 [http-w06 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:10:49,987 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:10:49,987 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:10:49,987 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:10:49,987 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:10:49,987 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:10:49,987 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:10:49,987 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:10:49,987 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:10:49,987 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:10:49,987 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:10:49,987 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG OZStream  - write Item zip size = 3555
2011-11-23 17:10:50,002 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:10:50,002 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:10:50,002 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:10:50,002 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:10:50,002 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:10:50,002 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:10:50,002 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:10:50,002 [http-w04 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:10:50,018 [http-w04 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:10:50,018 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:10:50,018 [http-w04 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:10:50,018 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:10:50,018 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:10:50,018 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:10:50,097 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:10:50,097 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:10:50,097 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:10:50,097 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:10:50,206 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 109msec> Success to execute query.
2011-11-23 17:10:50,393 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 388rows, 187msec> data-binding complete.
2011-11-23 17:10:50,393 [http-w04 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:10:50,393 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:10:50,393 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:10:50,393 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:10:50,393 [http-w04 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:10:50,393 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:10:50,393 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:10:50,393 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:11:01,953 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:11:01,969 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:11:01,969 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 17:11:01,969 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:11:01,969 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 17:11:01,969 [http-w04 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 17:11:01,969 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:11:01,969 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:11:01,969 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:11:01,969 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:11:01,969 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG OZStream  - write Item zip size = 3555
2011-11-23 17:11:01,984 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:11:01,984 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:11:01,984 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG OZStream  - write Item size = 1119
2011-11-23 17:11:01,984 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:11:01,984 [http-w04 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 17:11:01,984 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 17:11:01,984 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 17:11:01,984 [http-w04 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 17:11:02,000 [http-w04 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 17:11:02,000 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 17:11:02,000 [http-w04 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 17:11:02,000 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 17:11:02,000 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 17:11:02,000 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 17:11:02,094 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 17:11:02,094 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 17:11:02,094 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 17:11:02,094 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','101','')             AND ((GNO = '1' AND BNO BETWEEN LPAD('0', 3, '0')  AND LPAD('999', 3, '0') ) OR(GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 17:11:02,157 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 63msec> Success to execute query.
2011-11-23 17:11:02,344 [http-w04 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 646rows, 187msec> data-binding complete.
2011-11-23 17:11:02,344 [http-w04 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 17:11:02,344 [http-w04 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 17:11:02,344 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 17:11:02,344 [http-w04 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:11:02,344 [http-w04 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 17:11:02,344 [http-w04 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 17:11:02,344 [http-w04 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 17:11:02,344 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:23:41,353 [JMXMP-5 [container2-23]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-23 17:23:41,353 [JMXMP-5 [container2-23]] INFO  ConnectionPool  - Start release pool...
2011-11-23 17:23:41,353 [JMXMP-5 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy39.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-23 17:23:41,368 [JMXMP-5 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 17:23:41,368 [JMXMP-5 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 17:23:41,368 [JMXMP-5 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 17:23:41,385 [JMXMP-5 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 17:23:41,385 [JMXMP-5 [container2-23]] INFO  ConnectionPool  - End release pool.
2011-11-23 17:23:41,837 [JMXMP-5 [container2-23]] INFO  server  - Released all resources
2011-11-23 17:23:41,837 [JMXMP-5 [container2-23]] INFO  server  - Fine.
2011-11-23 17:49:24,772 [http-w01 [container2-13]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-23 17:49:24,772 [http-w01 [container2-13]] INFO  server  - Set XML parser properties.
2011-11-23 17:49:24,772 [http-w01 [container2-13]] INFO  XML-License-Loader  - [.xml] loader
2011-11-23 17:49:24,772 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 17:49:24,772 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 17:49:24,866 [http-w01 [container2-13]] INFO  resource  - Start initialize OZ
2011-11-23 17:49:24,866 [http-w01 [container2-13]] DEBUG resource  - Send mail function is not activated.
2011-11-23 17:49:24,866 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 17:49:24,866 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 17:49:24,866 [http-w01 [container2-13]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-23 17:49:24,866 [http-w01 [container2-13]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-23 17:49:24,866 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-23 17:49:24,866 [http-w01 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-23 17:49:24,912 [http-w01 [container2-13]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-23 17:49:24,912 [http-w01 [container2-13]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-23 17:49:24,912 [http-w01 [container2-13]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-23 17:49:24,912 [http-w01 [container2-13]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-23 17:49:24,912 [http-w01 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-23 17:49:24,912 [http-w01 [container2-13]] INFO  ConnectionPool  - Start initialize...
2011-11-23 17:49:24,928 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-23 17:49:24,944 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-23 17:49:24,944 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:49:24,944 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:49:25,287 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:49:25,287 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:49:25,287 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:49:25,427 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:49:25,427 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:49:25,427 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:49:25,521 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:49:25,521 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:49:25,521 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:49:25,646 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:49:25,646 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 17:49:25,646 [http-w01 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 17:49:25,803 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 17:49:25,803 [http-w01 [container2-13]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 17:49:25,803 [http-w01 [container2-13]] INFO  ConnectionPool  - End initialize.
2011-11-23 17:49:25,834 [http-w01 [container2-13]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-23 17:49:25,849 [http-w01 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-23 17:49:25,849 [http-w01 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-23 17:49:25,896 [http-w01 [container2-13]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-23 17:49:25,896 [http-w01 [container2-13]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-23 17:49:25,896 [http-w01 [container2-13]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-23 17:49:25,896 [http-w01 [container2-13]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-23 17:49:25,896 [http-w01 [container2-13]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-23 17:49:25,896 [http-w01 [container2-13]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-23 17:49:25,912 [http-w01 [container2-13]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-23 17:49:25,912 [http-w01 [container2-13]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-23 17:49:25,912 [http-w01 [container2-13]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-23 17:49:25,912 [http-w01 [container2-13]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-23 17:49:25,912 [http-w01 [container2-13]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-23 17:49:25,912 [http-w01 [container2-13]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-23 17:49:25,912 [http-w01 [container2-13]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-23 17:49:25,912 [http-w01 [container2-13]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-23 17:49:25,912 [http-w01 [container2-13]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-23 17:49:25,912 [http-w01 [container2-13]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-23 17:49:25,912 [http-w01 [container2-13]] DEBUG resource  - java script init loading.
2011-11-23 17:49:26,083 [http-w01 [container2-13]] INFO  resource  - Loading REPORT frameworks ....
2011-11-23 17:49:26,224 [http-w01 [container2-13]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-23 17:49:26,224 [http-w01 [container2-13]] DEBUG server  - OS Name            : Windows 7
2011-11-23 17:49:26,224 [http-w01 [container2-13]] DEBUG server  - OS Version         : 6.1
2011-11-23 17:49:26,224 [http-w01 [container2-13]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-23 17:49:26,224 [http-w01 [container2-13]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-23 17:49:26,224 [http-w01 [container2-13]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-23 17:49:26,224 [http-w01 [container2-13]] DEBUG server  - CPU Count          : 8
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -   OZ Version Info.
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -    OZ Common Protocol
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -       Protocol              : 2007
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -    OZ DataModule
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -       Streaming Protocol    : 2040
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  - 
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  - This product includes Hypersonic SQL.
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  - 
2011-11-23 17:49:26,224 [http-w01 [container2-13]] INFO  server  - OZ Servlet is ready up.
2011-11-23 17:49:26,239 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:26,239 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:26,239 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-23 17:49:26,239 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:26,239 [http-w01 [container2-13]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-23 17:49:26,239 [http-w01 [container2-13]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-23 17:49:26,255 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,065 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,065 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,065 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:49:28,065 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,065 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 17:49:28,080 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,080 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,080 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 17:49:28,080 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,080 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,080 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,080 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 17:49:28,097 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,097 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,097 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,097 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,097 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,097 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,097 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,097 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZStream  - read Item size = 3687
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:49:28,112 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 17:49:28,112 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZStream  - read Item size = 3555
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,128 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-23 17:49:28,128 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 17:49:28,144 [http-w01 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 17:49:28,144 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 17:49:28,159 [http-w01 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 17:49:28,159 [http-w01 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-23 17:49:28,159 [http-w01 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 17:49:28,159 [http-w01 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 17:49:28,159 [http-w01 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 17:49:28,159 [http-w01 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 17:49:28,159 [http-w01 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:04:28,356 [http-w06] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-23 18:04:28,372 [http-w06 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:04:28,372 [http-w06 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:04:28,372 [http-w06 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:04:28,372 [http-w06 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:04:28,372 [http-w06 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [189 : LOGOUT_USER]
2011-11-23 18:04:28,387 [http-w06 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:37,831 [http-w04] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:37,831 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:37,846 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 18:26:37,846 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:37,846 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 18:26:37,846 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 18:26:37,846 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:37,846 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:37,846 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:37,846 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 18:26:37,846 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:37,846 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 18:26:37,862 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 18:26:37,862 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:43,105 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:43,120 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:43,120 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-23 18:26:43,120 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:43,120 [http-w04 [container2-15]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-23 18:26:43,120 [http-w04 [container2-15]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-23 18:26:43,120 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,260 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,260 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,260 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 18:26:44,260 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,260 [http-w04 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 18:26:44,260 [http-w04 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-23 18:26:44,260 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,260 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,260 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,260 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-23 18:26:44,260 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-23 18:26:44,276 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,276 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,276 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-23 18:26:44,276 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,276 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,276 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:26:44,276 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 18:26:44,276 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG OZStream  - read Item size = 2203
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,292 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:26:44,292 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 18:26:44,308 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 18:26:44,308 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:44,323 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:44,323 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:44,323 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 18:26:44,323 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:44,323 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 18:26:44,323 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 18:26:44,323 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:51,515 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:51,515 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:51,515 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 18:26:51,515 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:51,531 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 18:26:51,531 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 18:26:51,531 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:26:51,531 [http-w04 [container2-15]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-23 18:26:51,531 [http-w04 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:26:51,531 [http-w04 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-23 18:26:51,531 [http-w04 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:26:51,546 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-23 18:26:51,546 [http-w04 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-23 18:26:51,546 [http-w04 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:27:58,584 [http-w02] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:27:58,584 [http-w02 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:27:58,584 [http-w02 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:27:58,584 [http-w02 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:27:58,584 [http-w02 [container2-18]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:27:58,584 [http-w02 [container2-18]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:27:58,584 [http-w02 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:27:58,584 [http-w02 [container2-18]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:27:58,584 [http-w02 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:27:58,584 [http-w02 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:27:58,584 [http-w02 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:27:58,599 [http-w02 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:27:58,599 [http-w02 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:27:58,616 [http-w02 [container2-18]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:27:58,616 [http-w02 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:27:58,663 [http-w02 [container2-18]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:27:58,663 [http-w02 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:27:58,663 [http-w02 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:27:58,663 [http-w02 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:27:58,663 [http-w02 [container2-18]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:27:58,663 [http-w02 [container2-18]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:27:58,663 [http-w02 [container2-18]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:27:58,663 [http-w02 [container2-18]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /output/giroBill.odi
2011-11-23 18:27:58,678 [http-w02 [container2-18]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:27:58,678 [http-w02 [container2-18]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:27:58,725 [http-w02 [container2-18]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:27:58,756 [http-w02 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:27:58,756 [http-w02 [container2-18]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:27:58,756 [http-w02 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:27:58,756 [http-w02 [container2-18]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:27:58,756 [http-w02 [container2-18]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:27:58,772 [http-w02 [container2-18]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:27:58,772 [http-w02 [container2-18]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:27:58,787 [http-w02 [container2-18]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:27:58,803 [http-w02 [container2-18]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:27:58,803 [http-w02 [container2-18]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:27:58,803 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:27:58,850 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:27:58,865 [http-w02 [container2-18]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 18:27:58,865 [http-w02 [container2-18]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 18:27:58,865 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 18:27:58,865 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 18:27:58,975 [http-w02 [container2-18]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 18:27:58,975 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:27:58,975 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:27:58,990 [http-w02 [container2-18]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:27:59,115 [http-w02 [container2-18]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -8), 'YYYYMM')  AND A.YYMM < '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:27:59,255 [http-w02 [container2-18]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 140msec> Success to execute query.
2011-11-23 18:27:59,396 [http-w02 [container2-18]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 156rows, 141msec> data-binding complete.
2011-11-23 18:27:59,396 [http-w02 [container2-18]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:27:59,396 [http-w02 [container2-18]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:27:59,396 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:27:59,396 [http-w02 [container2-18]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:27:59,396 [http-w02 [container2-18]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:27:59,396 [http-w02 [container2-18]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:27:59,396 [http-w02 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:30:53,338 [http-w08] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:30:53,338 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:30:53,338 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:30:53,338 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:30:53,338 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:30:53,338 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:30:53,338 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:30:53,338 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:30:53,338 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:30:53,338 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:30:53,338 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:30:53,354 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:30:53,354 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:30:53,354 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:30:53,354 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:30:53,369 [http-w08 [container2-20]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:30:53,369 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:30:53,370 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:30:53,370 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:30:53,370 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:30:53,370 [http-w08 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:30:53,370 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:30:53,370 [http-w08 [container2-20]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 18:30:53,370 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 18:30:53,370 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 18:30:53,495 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 18:30:53,495 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:30:53,495 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:30:53,495 [http-w08 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:30:53,511 [http-w08 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '01') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -7), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:30:53,635 [http-w08 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 124msec> Success to execute query.
2011-11-23 18:30:53,713 [http-w08 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 156rows, 78msec> data-binding complete.
2011-11-23 18:30:53,713 [http-w08 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:30:53,713 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:30:53,713 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:30:53,713 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:30:53,713 [http-w08 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:30:53,713 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:30:53,713 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:32:02,713 [http-w06 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:32:02,713 [http-w06 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:32:02,713 [http-w06 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:32:02,713 [http-w06 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:32:02,713 [http-w06 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:32:02,713 [http-w06 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:32:02,713 [http-w06 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:32:02,729 [http-w06 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:32:02,729 [http-w06 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:32:02,729 [http-w06 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:32:02,729 [http-w06 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:32:02,729 [http-w06 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:32:02,729 [http-w06 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:32:02,745 [http-w06 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:32:02,745 [http-w06 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:32:02,745 [http-w06 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:32:02,745 [http-w06 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:32:02,745 [http-w06 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:32:02,745 [http-w06 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:32:02,745 [http-w06 [container2-14]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 18:32:02,745 [http-w06 [container2-14]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 18:32:02,745 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 18:32:02,854 [http-w06 [container2-14]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 18:32:02,854 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:32:02,854 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:32:02,854 [http-w06 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:32:02,854 [http-w06 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,X.YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0)         || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))          || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '01') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -7), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ,X.YYMM  ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:32:02,979 [http-w06 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 125msec> Success to execute query.
2011-11-23 18:32:03,213 [http-w06 [container2-14]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 392rows, 234msec> data-binding complete.
2011-11-23 18:32:03,213 [http-w06 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:32:03,213 [http-w06 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:32:03,213 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:32:03,213 [http-w06 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:32:03,213 [http-w06 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:32:03,213 [http-w06 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:32:03,213 [http-w06 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:33:28,997 [http-w00 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:33:28,997 [http-w00 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:33:28,997 [http-w00 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:33:28,997 [http-w00 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:33:28,997 [http-w00 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:33:28,997 [http-w00 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:33:28,997 [http-w00 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:33:28,997 [http-w00 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:33:28,997 [http-w00 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:33:28,997 [http-w00 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:33:28,997 [http-w00 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:33:29,013 [http-w00 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:33:29,013 [http-w00 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:33:29,013 [http-w00 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:33:29,013 [http-w00 [container2-16]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:33:29,013 [http-w00 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:33:29,029 [http-w00 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:33:29,029 [http-w00 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:33:29,029 [http-w00 [container2-16]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:33:29,029 [http-w00 [container2-16]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:33:29,029 [http-w00 [container2-16]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:33:29,029 [http-w00 [container2-16]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 18:33:29,029 [http-w00 [container2-16]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 18:33:29,029 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 18:33:29,154 [http-w00 [container2-16]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 18:33:29,154 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:33:29,154 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:33:29,154 [http-w00 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:33:29,154 [http-w00 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:33:29,170 [http-w00 [container2-16]] ERROR DataModule  - [Error Code :10102007] Fail to execute the query.
[ /output/giroBill.odi Set Name : SQL_1 ]
[Query : SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO]

java.sql.SQLException: ORA-00936: 누락된 표현식

	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:331)
	at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:288)
	at oracle.jdbc.driver.T4C8Oall.receive(T4C8Oall.java:743)
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:207)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:790)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeQuery(OracleStatement.java:1272)
	at oz.dm.meta.OZDBQuerySet.c(DashoA12957:308)
	at oz.dm.meta.OZDBQuerySet.getResultSet(DashoA12957:98)
	at oz.dm.meta.OZRSDataSet.BindRealTimeReport(DashoA12957:700)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:809)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 18:33:29,170 [http-w00 [container2-16]] ERROR DataModule  - Binding Job Failure - Removed cache data.
2011-11-23 18:33:29,170 [http-w00 [container2-16]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:33:29,170 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:33:29,170 [http-w00 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:33:29,170 [http-w00 [container2-16]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:33:29,170 [http-w00 [container2-16]] ERROR FrameworkRequestDataModule  - Bind Error occured during fetching
Fail to execute the query.
ORA-00936: 누락된 표현식

[Query : SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO] 
	at oz.framework.policy.cozdh.a(DashoA12957:44)
	at oz.dm.meta.OZDBQuerySet.c(DashoA12957:336)
	at oz.dm.meta.OZDBQuerySet.getResultSet(DashoA12957:98)
	at oz.dm.meta.OZRSDataSet.BindRealTimeReport(DashoA12957:700)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:809)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 18:33:29,170 [http-w00 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:13,618 [http-w07] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:13,618 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:13,618 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:37:13,618 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:13,618 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:37:13,618 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:37:13,618 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:13,618 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:13,633 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:37:13,633 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:13,633 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:13,633 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:37:13,633 [http-w07 [container2-22]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:37:13,633 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:13,649 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:13,649 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:37:13,649 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:37:13,649 [http-w07 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:37:13,649 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:37:13,649 [http-w07 [container2-22]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-23 18:37:13,649 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-23 18:37:13,649 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-23 18:37:13,758 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-23 18:37:13,758 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:37:13,758 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:37:13,758 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:37:13,758 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM = '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:37:13,852 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 94msec> Success to execute query.
2011-11-23 18:37:13,852 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-23 18:37:13,852 [http-w07 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:37:13,852 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:37:13,852 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:37:13,852 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:37:13,852 [http-w07 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:37:13,852 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:37:13,852 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:30,623 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:30,623 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:30,623 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:37:30,623 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:30,623 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:37:30,623 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:37:30,623 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:30,623 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:30,623 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:30,623 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:37:30,623 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:37:30,639 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:30,639 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:30,639 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:37:30,639 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:37:30,654 [http-w07 [container2-22]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:37:30,654 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:30,655 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:30,655 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:37:30,655 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:37:30,655 [http-w07 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:37:30,655 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:37:30,655 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:37:30,671 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -7), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:37:30,780 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 109msec> Success to execute query.
2011-11-23 18:37:30,858 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 156rows, 78msec> data-binding complete.
2011-11-23 18:37:30,858 [http-w07 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:37:30,858 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:37:30,858 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:37:30,858 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:37:30,858 [http-w07 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:37:30,858 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:37:30,858 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:49,485 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:49,485 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:49,485 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:37:49,485 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:49,485 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:37:49,485 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:37:49,485 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:49,485 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:49,485 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:49,485 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:37:49,485 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:37:49,500 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:49,500 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:49,500 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:37:49,500 [http-w07 [container2-22]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:37:49,500 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:37:49,517 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:37:49,517 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:37:49,517 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:37:49,517 [http-w07 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:37:49,517 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:37:49,517 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:37:49,548 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:37:49,548 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:37:49,548 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:37:49,564 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -7), 'YYYYMM')  AND A.YYMM < '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:37:49,688 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 124msec> Success to execute query.
2011-11-23 18:37:49,766 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 156rows, 78msec> data-binding complete.
2011-11-23 18:37:49,766 [http-w07 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:37:49,766 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:37:49,766 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:37:49,766 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:37:49,766 [http-w07 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:37:49,766 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:37:49,766 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:05,444 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:05,444 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:05,444 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:38:05,460 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:05,460 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:05,460 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:38:05,460 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:05,460 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:05,460 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:38:05,460 [http-w07 [container2-22]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:38:05,476 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:05,477 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:05,477 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:38:05,477 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:38:05,477 [http-w07 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:38:05,477 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:38:05,477 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:38:05,648 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:38:05,648 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:38:05,648 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:38:05,664 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,X.YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0)         || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))          || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM < '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ,X.YYMM  ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:38:05,898 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 234msec> Success to execute query.
2011-11-23 18:38:06,085 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 403rows, 187msec> data-binding complete.
2011-11-23 18:38:06,085 [http-w07 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:38:06,085 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:38:06,085 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:38:06,085 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:38:06,085 [http-w07 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:38:06,085 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:38:06,085 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:27,410 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:27,410 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:27,410 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:38:27,410 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:27,410 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:38:27,410 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:38:27,410 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:27,410 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:27,410 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:27,410 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:38:27,410 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:38:27,426 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:27,426 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:27,426 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:38:27,426 [http-w07 [container2-22]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:38:27,441 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:27,442 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:27,442 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:38:27,442 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:38:27,442 [http-w07 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:38:27,442 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:38:27,442 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:38:27,458 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,X.YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0)         || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))          || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ,X.YYMM  ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:38:27,567 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 109msec> Success to execute query.
2011-11-23 18:38:27,770 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 403rows, 203msec> data-binding complete.
2011-11-23 18:38:27,770 [http-w07 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:38:27,770 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:38:27,770 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:38:27,770 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:38:27,770 [http-w07 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:38:27,770 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:38:27,770 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:36,538 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:36,538 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:36,538 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:38:36,538 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:36,538 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:38:36,538 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:38:36,538 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:36,538 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:36,538 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:36,538 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:38:36,538 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG OZStream  - write Item zip size = 2236
2011-11-23 18:38:36,554 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:36,554 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:36,554 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-23 18:38:36,554 [http-w07 [container2-22]] DEBUG OZStream  - write Item size = 1394
2011-11-23 18:38:36,554 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:38:36,569 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:38:36,569 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:38:36,569 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:38:36,569 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:38:36,570 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-23 18:38:36,570 [http-w07 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:38:36,570 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-23 18:38:36,570 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM = '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-23 18:38:36,633 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 63msec> Success to execute query.
2011-11-23 18:38:36,633 [http-w07 [container2-22]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-23 18:38:36,633 [http-w07 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:38:36,633 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:38:36,633 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:38:36,633 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:38:36,633 [http-w07 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:38:36,633 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-23 18:38:36,633 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:39:22,593 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:39:22,593 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:39:22,593 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-23 18:39:22,593 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:39:22,593 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-23 18:39:22,593 [http-w07 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-23 18:39:22,593 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:39:22,593 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:39:22,593 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:39:22,593 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:39:22,593 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG OZStream  - write Item zip size = 3687
2011-11-23 18:39:22,609 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:39:22,609 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:39:22,609 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG OZStream  - write Item size = 1119
2011-11-23 18:39:22,609 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:39:22,609 [http-w07 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-23 18:39:22,609 [http-w07 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-23 18:39:22,609 [http-w07 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-23 18:39:22,624 [http-w07 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-23 18:39:22,624 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-23 18:39:22,624 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-23 18:39:22,624 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-23 18:39:22,624 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-23 18:39:22,625 [http-w07 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-23 18:39:22,625 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-23 18:39:22,625 [http-w07 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-23 18:39:22,657 [http-w07 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 32msec> Success to execute query.
2011-11-23 18:39:22,813 [http-w07 [container2-22]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 587rows, 156msec> data-binding complete.
2011-11-23 18:39:22,813 [http-w07 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-23 18:39:22,813 [http-w07 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-23 18:39:22,813 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-23 18:39:22,813 [http-w07 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-23 18:39:22,813 [http-w07 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-23 18:39:22,813 [http-w07 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-23 18:39:22,813 [http-w07 [container2-22]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-23 18:39:22,813 [http-w07 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-23 18:40:06,994 [JMXMP-4 [container2-23]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-23 18:40:06,994 [JMXMP-4 [container2-23]] INFO  ConnectionPool  - Start release pool...
2011-11-23 18:40:06,994 [JMXMP-4 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 18:40:07,009 [JMXMP-4 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 18:40:07,009 [JMXMP-4 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 18:40:07,009 [JMXMP-4 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 18:40:07,009 [JMXMP-4 [container2-23]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-23 18:40:07,009 [JMXMP-4 [container2-23]] INFO  ConnectionPool  - End release pool.
2011-11-23 18:40:07,415 [JMXMP-4 [container2-23]] INFO  server  - Released all resources
2011-11-23 18:40:07,415 [JMXMP-4 [container2-23]] INFO  server  - Fine.
2011-11-24 09:05:42,823 [http-w02 [container2-20]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-24 09:05:42,855 [http-w02 [container2-20]] INFO  server  - Set XML parser properties.
2011-11-24 09:05:42,855 [http-w02 [container2-20]] INFO  XML-License-Loader  - [.xml] loader
2011-11-24 09:05:42,855 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-24 09:05:42,855 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-24 09:05:42,933 [http-w02 [container2-20]] INFO  resource  - Start initialize OZ
2011-11-24 09:05:42,933 [http-w02 [container2-20]] DEBUG resource  - Send mail function is not activated.
2011-11-24 09:05:42,933 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-24 09:05:42,933 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-24 09:05:42,933 [http-w02 [container2-20]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-24 09:05:42,948 [http-w02 [container2-20]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-24 09:05:42,948 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-24 09:05:42,948 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 09:05:42,979 [http-w02 [container2-20]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-24 09:05:42,979 [http-w02 [container2-20]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-24 09:05:42,979 [http-w02 [container2-20]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-24 09:05:42,979 [http-w02 [container2-20]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-24 09:05:42,979 [http-w02 [container2-20]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-24 09:05:42,979 [http-w02 [container2-20]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-24 09:05:42,995 [http-w02 [container2-20]] INFO  ConnectionPool  - Start initialize...
2011-11-24 09:05:42,995 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-24 09:05:42,995 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-24 09:05:42,995 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 09:05:42,995 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 09:05:45,647 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 09:05:45,647 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 09:05:45,647 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 09:05:52,855 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 09:05:52,855 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 09:05:52,855 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 09:05:55,103 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 09:05:55,103 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 09:05:55,103 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 09:05:56,773 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 09:05:56,773 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 09:05:56,789 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 09:05:58,537 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 09:05:58,537 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-24 09:05:58,537 [http-w02 [container2-20]] INFO  ConnectionPool  - End initialize.
2011-11-24 09:05:58,631 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-24 09:05:58,663 [http-w02 [container2-20]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-24 09:05:58,663 [http-w02 [container2-20]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-24 09:05:58,709 [http-w02 [container2-20]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-24 09:05:58,709 [http-w02 [container2-20]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-24 09:05:58,709 [http-w02 [container2-20]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-24 09:05:58,709 [http-w02 [container2-20]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-24 09:05:58,725 [http-w02 [container2-20]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-24 09:05:58,741 [http-w02 [container2-20]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-24 09:05:58,741 [http-w02 [container2-20]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-24 09:05:58,741 [http-w02 [container2-20]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-24 09:05:58,741 [http-w02 [container2-20]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-24 09:05:58,741 [http-w02 [container2-20]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-24 09:05:58,756 [http-w02 [container2-20]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-24 09:05:58,756 [http-w02 [container2-20]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-24 09:05:58,756 [http-w02 [container2-20]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-24 09:05:58,772 [http-w02 [container2-20]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-24 09:05:58,772 [http-w02 [container2-20]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-24 09:05:58,772 [http-w02 [container2-20]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-24 09:05:58,772 [http-w02 [container2-20]] DEBUG resource  - java script init loading.
2011-11-24 09:05:58,865 [http-w02 [container2-20]] INFO  resource  - Loading REPORT frameworks ....
2011-11-24 09:05:59,006 [http-w02 [container2-20]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-24 09:05:59,006 [http-w02 [container2-20]] DEBUG server  - OS Name            : Windows 7
2011-11-24 09:05:59,006 [http-w02 [container2-20]] DEBUG server  - OS Version         : 6.1
2011-11-24 09:05:59,006 [http-w02 [container2-20]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-24 09:05:59,006 [http-w02 [container2-20]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-24 09:05:59,006 [http-w02 [container2-20]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-24 09:05:59,006 [http-w02 [container2-20]] DEBUG server  - CPU Count          : 8
2011-11-24 09:05:59,006 [http-w02 [container2-20]] INFO  server  -   ------------------------------------------------  
2011-11-24 09:05:59,006 [http-w02 [container2-20]] INFO  server  -   OZ Version Info.
2011-11-24 09:05:59,006 [http-w02 [container2-20]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-24 09:05:59,006 [http-w02 [container2-20]] INFO  server  -   ------------------------------------------------  
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  -    OZ Common Protocol
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  -       Protocol              : 2007
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  -    OZ DataModule
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  -       Streaming Protocol    : 2040
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  -   ------------------------------------------------  
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  - 
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  - This product includes Hypersonic SQL.
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  - 
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  - OZ Servlet is ready up.
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:05:59,021 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:05:59,021 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 09:05:59,053 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:05:59,053 [http-w02 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 09:05:59,053 [http-w02 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-24 09:05:59,053 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:05:59,053 [http-w02 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:05:59,053 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:05:59,053 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:05:59,053 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:05:59,053 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:05:59,053 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 09:05:59,115 [http-w02 [container2-20]] DEBUG OZStream  - write Item zip size = 2236
2011-11-24 09:05:59,115 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:05:59,146 [http-w02 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:05:59,146 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:05:59,146 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:05:59,146 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:05:59,146 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:05:59,146 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 09:05:59,162 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-24 09:05:59,177 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-24 09:05:59,177 [http-w02 [container2-20]] DEBUG OZStream  - write Item size = 1394
2011-11-24 09:05:59,177 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:05:59,193 [http-w02 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:05:59,193 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:05:59,193 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-24 09:05:59,193 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:05:59,193 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-24 09:05:59,193 [http-w02 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-24 09:05:59,193 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-24 09:05:59,224 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-24 09:05:59,224 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-24 09:05:59,271 [http-w02 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-24 09:05:59,287 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-24 09:05:59,287 [http-w02 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-24 09:05:59,318 [http-w02 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-24 09:05:59,318 [http-w02 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-24 09:05:59,318 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-24 09:05:59,318 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-24 09:05:59,380 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-24 09:05:59,677 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-24 09:05:59,677 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-24 09:05:59,677 [http-w02 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-24 09:05:59,802 [http-w02 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','106','102','113','108','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-24 09:06:00,848 [http-w02 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 1046msec> Success to execute query.
2011-11-24 09:06:00,880 [http-w02 [container2-20]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 6rows, 32msec> data-binding complete.
2011-11-24 09:06:00,880 [http-w02 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-24 09:06:00,880 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-24 09:06:00,880 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-24 09:06:00,880 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-24 09:06:00,880 [http-w02 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-24 09:06:00,880 [http-w02 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-24 09:06:00,880 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:07:38,793 [http-w08 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:07:38,793 [http-w08 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:07:38,793 [http-w08 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 09:07:38,793 [http-w08 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:07:38,793 [http-w08 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 09:07:38,793 [http-w08 [container2-16]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-24 09:07:38,793 [http-w08 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:07:38,793 [http-w08 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:07:38,793 [http-w08 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:07:38,793 [http-w08 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:07:38,793 [http-w08 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG OZStream  - write Item zip size = 2236
2011-11-24 09:07:38,809 [http-w08 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:07:38,809 [http-w08 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:07:38,809 [http-w08 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-24 09:07:38,809 [http-w08 [container2-16]] DEBUG OZStream  - write Item size = 1394
2011-11-24 09:07:38,825 [http-w08 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:07:38,826 [http-w08 [container2-16]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:07:38,826 [http-w08 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-24 09:07:38,826 [http-w08 [container2-16]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-24 09:07:38,826 [http-w08 [container2-16]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-24 09:07:38,826 [http-w08 [container2-16]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-24 09:07:38,826 [http-w08 [container2-16]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-24 09:07:39,060 [http-w08 [container2-16]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-24 09:07:39,060 [http-w08 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-24 09:07:39,060 [http-w08 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-24 09:07:39,091 [http-w08 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-24 09:07:39,528 [http-w08 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 437msec> Success to execute query.
2011-11-24 09:07:39,528 [http-w08 [container2-16]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 6rows, 0msec> data-binding complete.
2011-11-24 09:07:39,528 [http-w08 [container2-16]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-24 09:07:39,528 [http-w08 [container2-16]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-24 09:07:39,528 [http-w08 [container2-16]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-24 09:07:39,528 [http-w08 [container2-16]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-24 09:07:39,528 [http-w08 [container2-16]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-24 09:07:39,528 [http-w08 [container2-16]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-24 09:07:39,528 [http-w08 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:18:06,613 [http-w06 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:18:06,613 [http-w06 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:18:06,613 [http-w06 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 09:18:06,613 [http-w06 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:18:06,613 [http-w06 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 09:18:06,613 [http-w06 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-24 09:18:06,613 [http-w06 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:18:06,613 [http-w06 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:18:06,613 [http-w06 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:18:06,613 [http-w06 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:18:06,613 [http-w06 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG OZStream  - write Item zip size = 2236
2011-11-24 09:18:06,629 [http-w06 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:18:06,629 [http-w06 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:18:06,629 [http-w06 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-24 09:18:06,629 [http-w06 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-24 09:18:06,645 [http-w06 [container2-19]] DEBUG OZStream  - write Item size = 1394
2011-11-24 09:18:06,646 [http-w06 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:18:06,646 [http-w06 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 09:18:06,646 [http-w06 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-24 09:18:06,646 [http-w06 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-24 09:18:06,646 [http-w06 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-24 09:18:06,646 [http-w06 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-24 09:18:06,646 [http-w06 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-24 09:18:06,880 [http-w06 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-24 09:18:06,895 [http-w06 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-24 09:18:06,895 [http-w06 [container2-19]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND B.STDT IS NULL";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-24 09:18:06,895 [http-w06 [container2-19]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND B.STDT IS NULL           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('999', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-24 09:18:07,332 [http-w06 [container2-19]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 437msec> Success to execute query.
2011-11-24 09:18:07,348 [http-w06 [container2-19]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 0rows, 16msec> data-binding complete.
2011-11-24 09:18:07,348 [http-w06 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-24 09:18:07,348 [http-w06 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-24 09:18:07,348 [http-w06 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-24 09:18:07,348 [http-w06 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-24 09:18:07,348 [http-w06 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-24 09:18:07,348 [http-w06 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-24 09:18:07,348 [http-w06 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:53,745 [http-w04] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:53,745 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:53,745 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestUSL]
2011-11-24 09:28:53,745 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:53,745 [http-w04 [container2-21]] DEBUG FrameworkRequestUSL  - Reading Message is successfully completed
2011-11-24 09:28:53,745 [http-w04 [container2-21]] DEBUG FrameworkRequestUSL  - Function Type [900 : GET_USL]
2011-11-24 09:28:53,745 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:53,745 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:53,745 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:53,745 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 09:28:53,745 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:53,761 [http-w04 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 09:28:53,761 [http-w04 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-24 09:28:53,761 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:53,761 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:53,761 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:53,761 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-24 09:28:53,761 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:53,761 [http-w04 [container2-21]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-24 09:28:53,761 [http-w04 [container2-21]] DEBUG OZRepositoryRequestUser  - Function Type [256 : ACCESS_GET_IS_CHECK_ADMIN]
2011-11-24 09:28:53,761 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG OZRepositoryRequestUser  - Function Type [64 : ACCESS_CHECK_USER_PWD]
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:53,777 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:53,777 [http-w04 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 09:28:53,793 [http-w04 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 09:28:53,793 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:53,793 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:53,793 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:53,793 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 09:28:53,793 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:53,793 [http-w04 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 09:28:53,793 [http-w04 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 09:28:53,793 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:55,462 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:55,462 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:55,462 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestItem]
2011-11-24 09:28:55,462 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:55,462 [http-w04 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:28:55,462 [http-w04 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [0]
2011-11-24 09:28:55,462 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:28:55,462 [http-w04 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:28:55,462 [http-w04 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:28:55,462 [http-w04 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 09:28:55,478 [http-w04 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:28:55,478 [http-w04 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 09:28:55,478 [http-w04 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 09:28:55,478 [http-w04 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:38,462 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:38,462 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:38,462 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-24 09:45:38,462 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:38,462 [http-w02 [container2-20]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-24 09:45:38,462 [http-w02 [container2-20]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-24 09:45:38,462 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,430 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,430 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-24 09:45:39,430 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,430 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,430 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 09:45:39,430 [http-w02 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 09:45:39,446 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,446 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,446 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-24 09:45:39,446 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,446 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,446 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:45:39,446 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-24 09:45:39,446 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,461 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,461 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,461 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:45:39,461 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,461 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:45:39,461 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-24 09:45:39,461 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,524 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,524 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,524 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:45:39,524 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,524 [http-w02 [container2-20]] DEBUG OZStream  - read Item size = 2191
2011-11-24 09:45:39,524 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:45:39,524 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-24 09:45:39,524 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,539 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,539 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-24 09:45:39,539 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,539 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,539 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:45:39,539 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-24 09:45:39,539 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,555 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,556 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-24 09:45:39,556 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,556 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,556 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 09:45:39,556 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 09:45:39,572 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,572 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,572 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,572 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 09:45:39,572 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,572 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 09:45:39,572 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 09:45:39,587 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,587 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,587 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,587 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 09:45:39,587 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,587 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 09:45:39,587 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 09:45:39,587 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 09:45:39,587 [http-w02 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 09:45:39,603 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 09:45:39,603 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 09:45:39,603 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 09:45:39,603 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 09:45:39,603 [http-w02 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 09:45:39,603 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 14:56:41,393 [http-w09 [container2-13]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-24 14:56:41,409 [http-w09 [container2-13]] INFO  server  - Set XML parser properties.
2011-11-24 14:56:41,409 [http-w09 [container2-13]] INFO  XML-License-Loader  - [.xml] loader
2011-11-24 14:56:41,409 [http-w09 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-24 14:56:41,409 [http-w09 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-24 14:56:41,658 [http-w09 [container2-13]] INFO  resource  - Start initialize OZ
2011-11-24 14:56:41,658 [http-w09 [container2-13]] DEBUG resource  - Send mail function is not activated.
2011-11-24 14:56:41,674 [http-w09 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-24 14:56:41,674 [http-w09 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-24 14:56:41,690 [http-w09 [container2-13]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-24 14:56:41,721 [http-w09 [container2-13]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-24 14:56:41,721 [http-w09 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-24 14:56:41,721 [http-w09 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 14:56:41,799 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-24 14:56:41,830 [http-w09 [container2-13]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-24 14:56:41,830 [http-w09 [container2-13]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-24 14:56:41,830 [http-w09 [container2-13]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-24 14:56:41,830 [http-w09 [container2-13]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-24 14:56:41,830 [http-w09 [container2-13]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-24 14:56:41,830 [http-w09 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-24 14:56:41,861 [http-w09 [container2-13]] INFO  ConnectionPool  - Start initialize...
2011-11-24 14:56:42,081 [http-w09 [container2-13]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-24 14:56:42,112 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-24 14:56:42,112 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 14:56:42,112 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 14:56:42,595 [http-w09 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 14:56:42,595 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 14:56:42,595 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 14:56:42,751 [http-w09 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 14:56:42,751 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 14:56:42,751 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 14:56:47,853 [http-w09 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 14:56:47,853 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 14:56:47,853 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 14:56:47,978 [http-w09 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 14:56:47,978 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-24 14:56:47,978 [http-w09 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-24 14:56:48,119 [http-w09 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-24 14:56:48,119 [http-w09 [container2-13]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-24 14:56:48,119 [http-w09 [container2-13]] INFO  ConnectionPool  - End initialize.
2011-11-24 14:56:48,353 [http-w09 [container2-13]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-24 14:56:48,446 [http-w09 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-24 14:56:48,446 [http-w09 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-24 14:56:48,618 [http-w09 [container2-13]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-24 14:56:48,618 [http-w09 [container2-13]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-24 14:56:48,634 [http-w09 [container2-13]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-24 14:56:48,634 [http-w09 [container2-13]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-24 14:56:48,634 [http-w09 [container2-13]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-24 14:56:48,680 [http-w09 [container2-13]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-24 14:56:48,680 [http-w09 [container2-13]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-24 14:56:48,680 [http-w09 [container2-13]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-24 14:56:48,680 [http-w09 [container2-13]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-24 14:56:48,680 [http-w09 [container2-13]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-24 14:56:48,696 [http-w09 [container2-13]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-24 14:56:48,696 [http-w09 [container2-13]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-24 14:56:48,696 [http-w09 [container2-13]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-24 14:56:48,712 [http-w09 [container2-13]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-24 14:56:48,712 [http-w09 [container2-13]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-24 14:56:48,712 [http-w09 [container2-13]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-24 14:56:48,712 [http-w09 [container2-13]] DEBUG resource  - java script init loading.
2011-11-24 14:56:48,930 [http-w09 [container2-13]] INFO  resource  - Loading REPORT frameworks ....
2011-11-24 14:56:49,118 [http-w09 [container2-13]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-24 14:56:49,118 [http-w09 [container2-13]] DEBUG server  - OS Name            : Windows 7
2011-11-24 14:56:49,118 [http-w09 [container2-13]] DEBUG server  - OS Version         : 6.1
2011-11-24 14:56:49,118 [http-w09 [container2-13]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-24 14:56:49,118 [http-w09 [container2-13]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-24 14:56:49,118 [http-w09 [container2-13]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-24 14:56:49,118 [http-w09 [container2-13]] DEBUG server  - CPU Count          : 8
2011-11-24 14:56:49,118 [http-w09 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-24 14:56:49,118 [http-w09 [container2-13]] INFO  server  -   OZ Version Info.
2011-11-24 14:56:49,118 [http-w09 [container2-13]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-24 14:56:49,118 [http-w09 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-24 14:56:49,118 [http-w09 [container2-13]] INFO  server  -    OZ Common Protocol
2011-11-24 14:56:49,118 [http-w09 [container2-13]] INFO  server  -       Protocol              : 2007
2011-11-24 14:56:49,118 [http-w09 [container2-13]] INFO  server  -    OZ DataModule
2011-11-24 14:56:49,134 [http-w09 [container2-13]] INFO  server  -       Streaming Protocol    : 2040
2011-11-24 14:56:49,134 [http-w09 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-24 14:56:49,134 [http-w09 [container2-13]] INFO  server  - 
2011-11-24 14:56:49,134 [http-w09 [container2-13]] INFO  server  - This product includes Hypersonic SQL.
2011-11-24 14:56:49,134 [http-w09 [container2-13]] INFO  server  - 
2011-11-24 14:56:49,134 [http-w09 [container2-13]] INFO  server  - OZ Servlet is ready up.
2011-11-24 14:56:49,149 [http-w09 [container2-13]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 14:56:49,149 [http-w09 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-24 14:56:49,149 [http-w09 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestItem]
2011-11-24 14:56:49,165 [http-w09 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 14:56:49,165 [http-w09 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 14:56:49,165 [http-w09 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [0]
2011-11-24 14:56:49,165 [http-w09 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-24 14:56:49,227 [http-w09 [container2-13]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 14:56:49,227 [http-w09 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-24 14:56:49,227 [http-w09 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 14:56:49,227 [http-w09 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 14:56:49,227 [http-w09 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 14:56:49,227 [http-w09 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 14:56:49,227 [http-w09 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-24 15:07:22,392 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 15:07:22,392 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 15:07:22,392 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 15:07:22,392 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 15:07:22,392 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 15:07:22,392 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-24 15:07:22,439 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 15:07:22,455 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 15:07:22,455 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 15:07:22,455 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 15:07:22,455 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 15:07:22,455 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 15:07:22,455 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 15:07:22,486 [http-w01 [container2-19]] DEBUG OZStream  - write Item zip size = 3687
2011-11-24 15:07:22,502 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 15:07:22,517 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 15:07:22,517 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 15:07:22,517 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 15:07:22,517 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 15:07:22,517 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 15:07:22,517 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-24 15:07:22,549 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-24 15:07:22,564 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-24 15:07:22,564 [http-w01 [container2-19]] DEBUG OZStream  - write Item size = 1119
2011-11-24 15:07:22,564 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 15:07:22,564 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-24 15:07:22,564 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 15:07:22,564 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-24 15:07:22,580 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 15:07:22,580 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-24 15:07:22,580 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-24 15:07:22,580 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-24 15:07:22,627 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-24 15:07:22,627 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-24 15:07:22,673 [http-w01 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-24 15:07:22,705 [http-w01 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-24 15:07:22,751 [http-w01 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-24 15:07:22,751 [http-w01 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-24 15:07:22,751 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-24 15:07:22,751 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-24 15:07:22,814 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-24 15:07:22,845 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-24 15:07:22,845 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-24 15:07:22,861 [http-w01 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-24 15:07:22,970 [http-w01 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR(GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR(GNO = '106' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('208', 3, '0') ) OR(GNO = '107' AND BNO BETWEEN LPAD('002', 3, '0')  AND LPAD('072', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-24 15:07:23,017 [http-w01 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 47msec> Success to execute query.
2011-11-24 15:07:23,251 [http-w01 [container2-19]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 646rows, 234msec> data-binding complete.
2011-11-24 15:07:23,251 [http-w01 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-24 15:07:23,251 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-24 15:07:23,251 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-24 15:07:23,251 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-24 15:07:23,251 [http-w01 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-24 15:07:23,251 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-24 15:07:23,251 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-24 15:07:23,251 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:11,079 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:11,079 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:11,079 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-24 16:50:11,079 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:11,079 [http-w05 [container2-21]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-24 16:50:11,079 [http-w05 [container2-21]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-24 16:50:11,079 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,234 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,234 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,234 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 16:50:12,234 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,234 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 16:50:12,234 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-24 16:50:12,234 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,234 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,234 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,234 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 16:50:12,234 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,250 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 16:50:12,250 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 16:50:12,250 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,250 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,250 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,250 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 16:50:12,250 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,250 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 16:50:12,250 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-24 16:50:12,250 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,282 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,282 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,282 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 16:50:12,282 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,282 [http-w05 [container2-21]] DEBUG OZStream  - read Item size = 2221
2011-11-24 16:50:12,282 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 16:50:12,282 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-11-24 16:50:12,282 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,282 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,282 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,282 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 16:50:12,282 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-24 16:50:12,297 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,297 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,297 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-24 16:50:12,297 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,297 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,297 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 16:50:12,297 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 16:50:12,313 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:12,313 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:12,313 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:12,313 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 16:50:12,313 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:12,313 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 16:50:12,313 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 16:50:12,313 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:13,530 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:13,530 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:13,530 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 16:50:13,530 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:13,530 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 16:50:13,530 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 16:50:13,530 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:50:13,530 [http-w05 [container2-21]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:50:13,530 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:50:13,530 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-24 16:50:13,545 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:50:13,545 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-24 16:50:13,545 [http-w05 [container2-21]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-24 16:50:13,545 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 16:51:16,602 [http-w03 [container2-20]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-24 16:51:16,602 [http-w03 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-24 16:51:16,602 [http-w03 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 16:51:16,602 [http-w03 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 16:51:16,602 [http-w03 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 16:51:16,602 [http-w03 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [189 : LOGOUT_USER]
2011-11-24 16:51:16,602 [http-w03 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-24 17:57:25,134 [http-w05 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 17:57:25,134 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 17:57:25,134 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestUSL]
2011-11-24 17:57:25,134 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 17:57:25,134 [http-w05 [container2-21]] DEBUG FrameworkRequestUSL  - Reading Message is successfully completed
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG FrameworkRequestUSL  - Function Type [900 : GET_USL]
2011-11-24 17:57:25,149 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 17:57:25,149 [http-w05 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 17:57:25,149 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-24 17:57:25,149 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 17:57:25,149 [http-w05 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 17:57:25,149 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-24 17:57:25,149 [http-w05 [container2-21]] DEBUG OZRepositoryRequestUser  - Function Type [256 : ACCESS_GET_IS_CHECK_ADMIN]
2011-11-24 17:57:25,149 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 17:57:25,228 [http-w05 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 17:57:25,228 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG OZRepositoryRequestUser  - Function Type [64 : ACCESS_CHECK_USER_PWD]
2011-11-24 17:57:25,228 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 17:57:25,228 [http-w05 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 17:57:25,228 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-24 17:57:25,228 [http-w05 [container2-21]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-24 17:57:25,244 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 17:57:25,244 [http-w05 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 17:57:25,244 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 17:57:25,244 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 17:57:25,244 [http-w05 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 17:57:25,244 [http-w05 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-24 17:57:25,244 [http-w05 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-24 17:57:25,244 [http-w05 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-24 21:09:58,176 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-24 21:09:58,176 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-24 21:09:58,176 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-24 21:09:58,176 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-24 21:09:58,176 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-24 21:09:58,317 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [189 : LOGOUT_USER]
2011-11-24 21:09:58,332 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:24:28,667 [http-w00 [container2-13]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-25 09:24:28,679 [http-w00 [container2-13]] INFO  server  - Set XML parser properties.
2011-11-25 09:24:28,684 [http-w00 [container2-13]] INFO  XML-License-Loader  - [.xml] loader
2011-11-25 09:24:28,684 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-25 09:24:28,684 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-25 09:24:28,784 [http-w00 [container2-13]] INFO  resource  - Start initialize OZ
2011-11-25 09:24:28,784 [http-w00 [container2-13]] DEBUG resource  - Send mail function is not activated.
2011-11-25 09:24:28,784 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-25 09:24:28,784 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-25 09:24:28,787 [http-w00 [container2-13]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-25 09:24:28,792 [http-w00 [container2-13]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-25 09:24:28,792 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-25 09:24:28,792 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-25 09:24:28,814 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-25 09:24:28,814 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-25 09:24:28,814 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-25 09:24:28,814 [http-w00 [container2-13]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-25 09:24:28,814 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-25 09:24:28,817 [http-w00 [container2-13]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-25 09:24:28,817 [http-w00 [container2-13]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-25 09:24:28,817 [http-w00 [container2-13]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-25 09:24:28,817 [http-w00 [container2-13]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-25 09:24:28,817 [http-w00 [container2-13]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-25 09:24:28,817 [http-w00 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-25 09:24:28,822 [http-w00 [container2-13]] INFO  ConnectionPool  - Start initialize...
2011-11-25 09:24:28,827 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-25 09:24:28,917 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-25 09:24:28,919 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 09:24:28,919 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 09:24:36,718 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 09:24:36,721 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 09:24:36,721 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 09:24:39,116 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 09:24:39,116 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 09:24:39,119 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 09:24:40,865 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 09:24:40,865 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 09:24:40,865 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 09:24:48,712 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 09:24:48,712 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 09:24:48,714 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 09:24:55,478 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 09:24:55,478 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:24:55,478 [http-w00 [container2-13]] INFO  ConnectionPool  - End initialize.
2011-11-25 09:24:55,524 [http-w00 [container2-13]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-25 09:24:55,549 [http-w00 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-25 09:24:55,549 [http-w00 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-25 09:24:55,609 [http-w00 [container2-13]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-25 09:24:55,609 [http-w00 [container2-13]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-25 09:24:55,609 [http-w00 [container2-13]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-25 09:24:55,612 [http-w00 [container2-13]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-25 09:24:55,617 [http-w00 [container2-13]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-25 09:24:55,637 [http-w00 [container2-13]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-25 09:24:55,639 [http-w00 [container2-13]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-25 09:24:55,639 [http-w00 [container2-13]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-25 09:24:55,642 [http-w00 [container2-13]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-25 09:24:55,642 [http-w00 [container2-13]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-25 09:24:55,644 [http-w00 [container2-13]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-25 09:24:55,644 [http-w00 [container2-13]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-25 09:24:55,649 [http-w00 [container2-13]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-25 09:24:55,662 [http-w00 [container2-13]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-25 09:24:55,662 [http-w00 [container2-13]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-25 09:24:55,662 [http-w00 [container2-13]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-25 09:24:55,662 [http-w00 [container2-13]] DEBUG resource  - java script init loading.
2011-11-25 09:24:55,807 [http-w00 [container2-13]] INFO  resource  - Loading REPORT frameworks ....
2011-11-25 09:24:55,929 [http-w00 [container2-13]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-25 09:24:55,929 [http-w00 [container2-13]] DEBUG server  - OS Name            : Windows 7
2011-11-25 09:24:55,929 [http-w00 [container2-13]] DEBUG server  - OS Version         : 6.1
2011-11-25 09:24:55,929 [http-w00 [container2-13]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-25 09:24:55,929 [http-w00 [container2-13]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-25 09:24:55,932 [http-w00 [container2-13]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-25 09:24:55,932 [http-w00 [container2-13]] DEBUG server  - CPU Count          : 8
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -   OZ Version Info.
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -    OZ Common Protocol
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -       Protocol              : 2007
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -    OZ DataModule
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -       Streaming Protocol    : 2040
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  - 
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  - This product includes Hypersonic SQL.
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  - 
2011-11-25 09:24:55,932 [http-w00 [container2-13]] INFO  server  - OZ Servlet is ready up.
2011-11-25 09:24:55,939 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:24:55,942 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:24:55,942 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestUSL]
2011-11-25 09:24:55,952 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:24:55,954 [http-w00 [container2-13]] DEBUG FrameworkRequestUSL  - Reading Message is successfully completed
2011-11-25 09:24:55,957 [http-w00 [container2-13]] DEBUG FrameworkRequestUSL  - Function Type [900 : GET_USL]
2011-11-25 09:24:55,962 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:24:55,972 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:24:55,972 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:24:55,972 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:24:55,972 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:24:55,972 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:24:55,974 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:24:55,977 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:24:55,979 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:24:55,979 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:24:55,979 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-25 09:24:55,979 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:24:55,979 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-25 09:24:55,979 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUser  - Function Type [256 : ACCESS_GET_IS_CHECK_ADMIN]
2011-11-25 09:24:55,982 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:24:55,999 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:24:55,999 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:24:55,999 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-25 09:24:55,999 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:24:55,999 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-25 09:24:55,999 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUser  - Function Type [64 : ACCESS_CHECK_USER_PWD]
2011-11-25 09:24:56,002 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:24:56,007 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:24:56,007 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:24:56,007 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 09:24:56,007 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:24:56,007 [http-w00 [container2-13]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 09:24:56,007 [http-w00 [container2-13]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 09:24:56,007 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:24:56,009 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:24:56,009 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:24:56,009 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:24:56,009 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:24:56,009 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:24:56,012 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 09:24:56,014 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:24:56,019 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:24:56,019 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:24:56,019 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:24:56,019 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:24:56,019 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:24:56,019 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 09:24:56,019 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:01,349 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:01,349 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:01,351 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 09:25:01,351 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:01,351 [http-w00 [container2-13]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 09:25:01,351 [http-w00 [container2-13]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 09:25:01,354 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,661 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,661 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,664 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:25:02,664 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,664 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:25:02,666 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 09:25:02,670 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,672 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,675 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,675 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:25:02,675 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,677 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:25:02,677 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 09:25:02,680 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,680 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,682 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,682 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,682 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,682 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,685 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 09:25:02,685 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,685 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,687 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,687 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,687 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,687 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,687 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:25:02,690 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,692 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,692 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,692 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,692 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,692 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,695 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:25:02,695 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,697 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,697 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,697 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,697 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,697 [http-w00 [container2-13]] DEBUG OZStream  - read Item size = 2417
2011-11-25 09:25:02,730 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,730 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 09:25:02,732 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,735 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,735 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,735 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,735 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,735 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,735 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 09:25:02,735 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,737 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,737 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,737 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,737 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,737 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,737 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:25:02,740 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,750 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,750 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,750 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,750 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,750 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,750 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:25:02,750 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,752 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,755 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,755 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:25:02,755 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,755 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:25:02,755 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 09:25:02,755 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,757 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,757 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,757 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:25:02,757 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,757 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:25:02,757 [http-w00 [container2-13]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 09:25:02,760 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,760 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,760 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,760 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,760 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,760 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,762 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 09:25:02,762 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,765 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,765 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,765 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,765 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,765 [http-w00 [container2-13]] DEBUG OZStream  - read Item size = 2519
2011-11-25 09:25:02,765 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,765 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-11-25 09:25:02,767 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,767 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,767 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,767 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,767 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,770 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,770 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:25:02,770 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,772 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,772 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,772 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:25:02,772 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,772 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:25:02,772 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:25:02,772 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,775 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,775 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,775 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:25:02,777 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,777 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:25:02,777 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:25:02,782 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,785 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,785 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,785 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:25:02,785 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,785 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:25:02,787 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:25:02,792 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,797 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,797 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,797 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:25:02,797 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,797 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:25:02,797 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:25:02,800 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:02,802 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:02,805 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:02,805 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:25:02,805 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:02,805 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:25:02,805 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:25:02,807 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:05,754 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:05,754 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:05,754 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:25:05,754 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:05,754 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:25:05,756 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:25:05,760 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:25:05,762 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:25:05,765 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:25:05,765 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:25:05,765 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:25:05,765 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:25:05,765 [http-w00 [container2-13]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:25:05,772 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:17,736 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:17,736 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:17,736 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:29:17,736 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:17,736 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:29:17,736 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:29:17,736 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:17,736 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:17,736 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:17,736 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:29:17,736 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:17,752 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:29:17,752 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:29:17,784 [http-w06 [container2-17]] DEBUG OZStream  - write Item zip size = 2236
2011-11-25 09:29:17,784 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:17,815 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:17,815 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:17,815 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:29:17,815 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:17,815 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:29:17,815 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:29:17,815 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-25 09:29:17,831 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /output/giroBill.odi
2011-11-25 09:29:17,862 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:29:17,862 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:29:17,909 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:29:17,924 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-25 09:29:17,924 [http-w06 [container2-17]] DEBUG OZStream  - write Item size = 1394
2011-11-25 09:29:17,924 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:17,924 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:17,924 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:17,924 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:29:17,940 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:17,940 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:29:17,940 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-25 09:29:17,940 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:29:17,940 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:29:17,940 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:29:17,940 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:29:17,940 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:29:17,940 [http-w06 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:29:17,971 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:29:17,971 [http-w06 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:29:17,987 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:29:17,987 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:29:18,033 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:29:18,314 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:29:18,314 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:29:18,330 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:29:18,470 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:29:19,469 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 999msec> Success to execute query.
2011-11-25 09:29:19,641 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 13rows, 172msec> data-binding complete.
2011-11-25 09:29:19,641 [http-w06 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:29:19,641 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:29:19,641 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:29:19,641 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:29:19,641 [http-w06 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:29:19,641 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-25 09:29:19,641 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:52,313 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:52,313 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:52,313 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:29:52,313 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:52,313 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:29:52,313 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:29:52,313 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:52,313 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:52,313 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:29:52,328 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:52,328 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:52,328 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /output/visitBill.odi
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:29:52,328 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:29:52,375 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:29:52,375 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:29:52,375 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:29:52,375 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:29:52,375 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:29:52,391 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:29:52,391 [http-w06 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:29:52,391 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:29:52,391 [http-w06 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:29:52,391 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:29:52,391 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:29:52,391 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:29:52,500 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:29:52,500 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:29:52,500 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:29:52,500 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,201107) LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = 03) NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR(201107,1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = 512009           AND B.NEWSCD IN(100)            AND A.SGGBCD IN(011,012)           AND B.READTYPECD IN(011)           AND (B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0')  OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= 201107 AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:29:53,592 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 1092msec> Success to execute query.
2011-11-25 09:29:53,592 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-25 09:29:53,607 [http-w06 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:29:53,607 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:29:53,607 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:29:53,607 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:29:53,607 [http-w06 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:29:53,607 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [visitBill.odi]
2011-11-25 09:29:53,607 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-25 09:29:53,607 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:07,907 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:07,907 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:07,907 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:30:07,907 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:07,907 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:30:07,907 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:30:07,923 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:07,923 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:07,923 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:30:07,923 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:07,923 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:07,923 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:30:07,923 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:30:07,938 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:30:07,939 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:07,939 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:07,939 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:30:07,939 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:30:07,939 [http-w06 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:30:07,939 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:30:07,939 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:30:08,080 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:30:08,080 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:30:08,080 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:30:08,095 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,201107) LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = 03) NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR(201107,1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = 512009           AND B.NEWSCD IN(100)            AND A.SGGBCD IN(011,012)           AND B.READTYPECD IN(011)           AND (B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0')  OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= 201107 AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:30:09,063 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 968msec> Success to execute query.
2011-11-25 09:30:09,063 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-25 09:30:09,063 [http-w06 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:30:09,063 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:30:09,063 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:30:09,063 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:30:09,063 [http-w06 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:30:09,063 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [visitBill.odi]
2011-11-25 09:30:09,078 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-25 09:30:09,078 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:25,040 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:25,040 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:25,040 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:30:25,040 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:25,040 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:30:25,040 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:30:25,040 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:25,055 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:25,055 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:30:25,055 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:25,055 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:25,055 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:30:25,055 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:30:25,071 [http-w06 [container2-17]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:30:25,071 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:25,072 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:25,072 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:30:25,072 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:30:25,072 [http-w06 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:30:25,072 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:30:25,072 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:30:25,275 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:30:25,275 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:30:25,275 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:30:25,306 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,201107) LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = 03) NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR(201107,1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = 512009           AND B.NEWSCD IN(100)            AND A.SGGBCD IN(011,012)           AND B.READTYPECD IN(011)           AND (B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0')  OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= 201107 AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:30:26,304 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 998msec> Success to execute query.
2011-11-25 09:30:26,304 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-25 09:30:26,304 [http-w06 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:30:26,304 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:30:26,304 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:30:26,304 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:30:26,320 [http-w06 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:30:26,320 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [visitBill.odi]
2011-11-25 09:30:26,320 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-25 09:30:26,320 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:37,103 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:37,103 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:37,103 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:30:37,103 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:37,103 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:30:37,103 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:30:37,103 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:37,103 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:37,103 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:37,103 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:30:37,103 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:30:37,118 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:37,118 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:37,118 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:30:37,118 [http-w06 [container2-17]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:30:37,134 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:30:37,135 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:30:37,135 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:30:37,135 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:30:37,135 [http-w06 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:30:37,135 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:30:37,135 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:30:37,260 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:30:37,260 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:30:37,260 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:30:37,275 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,201107) LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = 03) NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR(201107,1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = 512009           AND B.NEWSCD IN(100)            AND A.SGGBCD IN(011,012)           AND B.READTYPECD IN(011)           AND (B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0')  OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('998', 3, '0') ))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE(201107,'YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= 201107 AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:30:38,196 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 921msec> Success to execute query.
2011-11-25 09:30:38,196 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-25 09:30:38,196 [http-w06 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:30:38,196 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:30:38,196 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:30:38,196 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:30:38,196 [http-w06 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:30:38,196 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [visitBill.odi]
2011-11-25 09:30:38,196 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-25 09:30:38,211 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:35:48,546 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:35:48,546 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:35:48,546 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestItem]
2011-11-25 09:35:48,546 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:35:48,546 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:35:48,561 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [0]
2011-11-25 09:35:48,561 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:35:48,561 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:35:48,561 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:35:48,561 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:35:48,561 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:35:48,561 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:35:48,561 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 09:35:48,561 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:37:11,353 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:37:11,353 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:37:11,353 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:37:11,353 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:37:11,353 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:37:11,353 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:37:11,368 [http-w01 [container2-19]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:37:11,368 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:37:11,368 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:37:11,384 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:37:11,384 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:37:11,384 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:37:11,384 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:37:11,384 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:37:11,384 [http-w01 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:37:11,384 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:37:11,384 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:37:11,400 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:37:11,602 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:37:11,602 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:37:11,602 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:37:11,618 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:37:12,211 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 593msec> Success to execute query.
2011-11-25 09:37:12,321 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 13rows, 110msec> data-binding complete.
2011-11-25 09:37:12,321 [http-w01 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:37:12,321 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:37:12,321 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:37:12,321 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:37:12,321 [http-w01 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:37:12,321 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:37:12,321 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:02,192 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:02,192 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:02,192 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:40:02,192 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:02,192 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:40:02,192 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:40:02,192 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:02,192 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:02,192 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:02,192 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:02,192 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:40:02,207 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:02,207 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:02,207 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:40:02,207 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:40:02,223 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:40:02,223 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:02,224 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:02,224 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:40:02,224 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:40:02,224 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:40:02,224 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:40:02,224 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:40:02,364 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:40:02,364 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:40:02,364 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:40:02,364 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:40:02,661 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 297msec> Success to execute query.
2011-11-25 09:40:02,754 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 13rows, 93msec> data-binding complete.
2011-11-25 09:40:02,754 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:40:02,754 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:40:02,754 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:40:02,754 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:40:02,754 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:40:02,754 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:40:02,754 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:23,534 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:23,534 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:23,534 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:40:23,534 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:23,534 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:40:23,534 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:40:23,534 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:23,534 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:23,534 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:23,534 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:23,534 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:40:23,549 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:23,549 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:23,549 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:40:23,549 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:23,549 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:23,549 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:40:23,549 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:40:23,549 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:40:23,565 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:40:23,566 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:40:23,566 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:40:23,566 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:40:23,566 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:40:23,566 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:40:23,566 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:40:23,566 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:40:23,597 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:40:23,613 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:40:23,613 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:40:23,628 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:40:23,815 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 187msec> Success to execute query.
2011-11-25 09:40:23,847 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 13rows, 32msec> data-binding complete.
2011-11-25 09:40:23,847 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:40:23,847 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:40:23,847 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:40:23,847 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:40:23,847 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:40:23,847 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:40:23,847 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:31,038 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:31,038 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:31,038 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:40:31,038 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:31,038 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:40:31,038 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:40:31,038 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:31,038 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:31,038 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:31,038 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:31,038 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:40:31,054 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:31,054 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:31,054 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:40:31,054 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:40:31,054 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:31,069 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:31,069 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:31,069 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:40:31,070 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:40:31,070 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:40:31,070 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:40:31,070 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:40:31,180 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:40:31,180 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:40:31,180 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:40:31,195 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:40:31,398 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 203msec> Success to execute query.
2011-11-25 09:40:31,476 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 13rows, 78msec> data-binding complete.
2011-11-25 09:40:31,476 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:40:31,476 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:40:31,476 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:40:31,476 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:40:31,476 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:40:31,476 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:40:31,476 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:38,387 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:38,387 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:38,387 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:40:38,387 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:38,387 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:40:38,387 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:40:38,387 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:38,387 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:38,387 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:38,387 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:38,387 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:40:38,402 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:38,402 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:38,402 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:40:38,402 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:40:38,402 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:40:38,419 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:40:38,419 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:40:38,419 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:40:38,419 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:40:38,419 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:40:38,419 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:40:38,544 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:40:38,544 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:40:38,544 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:40:38,544 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')             AND A.YYMM < '201110' AND A.SGBBCD = '044')           OR (A.YYMM = '201110' ))         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:40:38,887 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 343msec> Success to execute query.
2011-11-25 09:40:39,074 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 20rows, 187msec> data-binding complete.
2011-11-25 09:40:39,074 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:40:39,074 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:40:39,074 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:40:39,074 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:40:39,074 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:40:39,074 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:40:39,074 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:42:07,887 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:42:07,887 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:42:07,887 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:42:07,887 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:42:07,887 [http-w05 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
