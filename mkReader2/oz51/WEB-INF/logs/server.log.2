2011-11-25 09:42:07,935 [http-w05 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:42:07,935 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:42:07,935 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:42:07,935 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:42:07,935 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:42:07,935 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:42:07,935 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:42:07,935 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:42:07,950 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:42:07,950 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:42:07,950 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:42:07,950 [http-w05 [container2-22]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:42:07,950 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:42:07,950 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:42:07,950 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:42:07,966 [http-w05 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:42:07,966 [http-w05 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:42:07,966 [http-w05 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:42:07,966 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:42:08,122 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:42:08,122 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:42:08,122 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:42:08,138 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM < '201110'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:42:08,496 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 358msec> Success to execute query.
2011-11-25 09:42:08,590 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 13rows, 94msec> data-binding complete.
2011-11-25 09:42:08,590 [http-w05 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:42:08,590 [http-w05 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:42:08,590 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:42:08,590 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:42:08,590 [http-w05 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:42:08,590 [http-w05 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:42:08,590 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:44:37,713 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:44:37,713 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:44:37,713 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:44:37,713 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:44:37,713 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:44:37,713 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:44:37,713 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:44:37,713 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:44:37,713 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:44:37,713 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:44:37,713 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 09:44:37,728 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:44:37,728 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:44:37,728 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:44:37,728 [http-w01 [container2-19]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:44:37,728 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:44:37,745 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:44:37,745 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:44:37,745 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:44:37,745 [http-w01 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:44:37,745 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:44:37,745 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:44:37,792 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:44:37,792 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:44:37,792 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:44:37,807 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')             AND A.YYMM < '201110' AND A.SGBBCD = '044')           OR (A.YYMM = '201110' ))         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:44:38,166 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 359msec> Success to execute query.
2011-11-25 09:44:38,447 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 56rows, 281msec> data-binding complete.
2011-11-25 09:44:38,447 [http-w01 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:44:38,447 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:44:38,447 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:44:38,447 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:44:38,447 [http-w01 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:44:38,447 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:44:38,447 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:43,126 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:43,126 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:43,126 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 09:48:43,126 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:43,126 [http-w04 [container2-14]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 09:48:43,126 [http-w04 [container2-14]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 09:48:43,126 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,718 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,718 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,718 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:48:44,718 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,718 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:48:44,718 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 09:48:44,718 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,718 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,718 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,718 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:48:44,718 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:48:44,734 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:48:44,734 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,750 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZStream  - read Item size = 2516
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,751 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:48:44,751 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:48:44,766 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:48:44,782 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:48:44,782 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:48:44,782 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:48:44,782 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:48:44,782 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:48:44,782 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:48:44,782 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:08,416 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:08,416 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:08,416 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:49:08,416 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:08,416 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:49:08,416 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:49:08,416 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:08,416 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:08,416 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:08,416 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:49:08,416 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:08,431 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:49:08,431 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:49:08,431 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 2516
2011-11-25 09:49:08,431 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:49:08,448 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:49:08,448 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:49:08,573 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:49:08,573 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:49:08,573 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:49:08,573 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  		  AND A.YYMM = '201110'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:49:08,807 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 234msec> Success to execute query.
2011-11-25 09:49:08,807 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 0rows, 0msec> data-binding complete.
2011-11-25 09:49:08,807 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:49:08,807 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:49:08,807 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:49:08,807 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:49:08,807 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:49:08,807 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:49:08,807 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:16,924 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:16,924 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:16,924 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:49:16,924 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:16,924 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:49:16,924 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:49:16,924 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:16,924 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:16,924 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:16,924 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:49:16,924 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 2516
2011-11-25 09:49:16,939 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:16,939 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:16,939 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:49:16,939 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:49:16,939 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:49:16,956 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:49:16,956 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:49:16,956 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:49:16,956 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:49:16,956 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:49:16,956 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:49:17,237 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:49:17,237 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:49:17,237 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:49:17,252 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  		  AND A.YYMM = '201108'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:49:17,564 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 312msec> Success to execute query.
2011-11-25 09:49:17,564 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 6rows, 0msec> data-binding complete.
2011-11-25 09:49:17,564 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:49:17,580 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:49:17,580 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:49:17,580 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:49:17,580 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:49:17,580 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:49:17,580 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:01,338 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:01,338 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:01,338 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 09:51:01,338 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:01,338 [http-w06 [container2-17]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 09:51:01,338 [http-w06 [container2-17]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 09:51:01,338 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,290 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,290 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,290 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:51:02,290 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,290 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:51:02,290 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 09:51:02,290 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,306 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,306 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,306 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 09:51:02,306 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,306 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 09:51:02,306 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 09:51:02,306 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZStream  - read Item size = 2521
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:02,321 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 09:51:02,321 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,337 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:51:02,337 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:51:02,353 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:02,353 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 09:51:02,353 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:02,353 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 09:51:02,353 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:02,353 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 09:51:02,353 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 09:51:02,353 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:19,514 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:51:19,514 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:19,514 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:51:19,514 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:19,514 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:51:19,514 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:51:19,514 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:19,514 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:51:19,514 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:19,514 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:19,514 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:19,514 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG OZStream  - write Item zip size = 2521
2011-11-25 09:51:19,529 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:19,529 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:51:19,529 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:51:19,529 [http-w08 [container2-20]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:51:19,529 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:51:19,545 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:51:19,546 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:51:19,546 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:51:19,546 [http-w08 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:51:19,546 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:51:19,546 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:51:19,702 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:51:19,702 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:51:19,702 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:51:19,717 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH, X.YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ,X.YYMM  ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:51:20,061 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 344msec> Success to execute query.
2011-11-25 09:51:20,170 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 23rows, 109msec> data-binding complete.
2011-11-25 09:51:20,170 [http-w08 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:51:20,170 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:51:20,170 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:51:20,170 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:51:20,170 [http-w08 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:51:20,170 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:51:20,170 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:52:56,874 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:52:56,874 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:52:56,874 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:52:56,874 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:52:56,874 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:52:56,874 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:52:56,874 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:52:56,874 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:52:56,874 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:52:56,874 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:52:56,874 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG OZStream  - write Item zip size = 2521
2011-11-25 09:52:56,890 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:52:56,890 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:52:56,890 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:52:56,890 [http-w03 [container2-21]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:52:56,906 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:52:56,907 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:52:56,907 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:52:56,907 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:52:56,907 [http-w03 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:52:56,907 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:52:56,907 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:52:57,000 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:52:57,000 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:52:57,000 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:52:57,016 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH, X.YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ,X.YYMM  ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:52:57,297 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 281msec> Success to execute query.
2011-11-25 09:52:57,406 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 23rows, 109msec> data-binding complete.
2011-11-25 09:52:57,406 [http-w03 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:52:57,406 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:52:57,406 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:52:57,406 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:52:57,406 [http-w03 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:52:57,406 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:52:57,406 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:53:02,632 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:53:02,632 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:53:02,632 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:53:02,632 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:53:02,632 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:53:02,632 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:53:02,632 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:53:02,632 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:53:02,632 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:53:02,632 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:53:02,632 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG OZStream  - write Item zip size = 2521
2011-11-25 09:53:02,647 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:53:02,647 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:53:02,647 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:53:02,647 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:53:02,663 [http-w03 [container2-21]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:53:02,664 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:53:02,664 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:53:02,664 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:53:02,664 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:53:02,664 [http-w03 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:53:02,664 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:53:02,664 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:53:02,820 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:53:02,820 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:53:02,820 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:53:02,836 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH, X.YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')             AND A.YYMM < '201108' AND A.SGBBCD = '044')           OR (A.YYMM = '201108' ))         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ,X.YYMM  ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:53:03,288 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 452msec> Success to execute query.
2011-11-25 09:53:04,630 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 173rows, 1342msec> data-binding complete.
2011-11-25 09:53:04,630 [http-w03 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:53:04,630 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:53:04,630 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:53:04,630 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:53:04,630 [http-w03 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:53:04,630 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:53:04,630 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:21,379 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:21,379 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:21,379 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:56:21,379 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:21,379 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:56:21,379 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:56:21,379 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:21,379 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:21,379 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:21,379 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:56:21,379 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG OZStream  - write Item zip size = 2521
2011-11-25 09:56:21,395 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:21,395 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:21,395 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:56:21,395 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:56:21,410 [http-w04 [container2-14]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:56:21,410 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:21,411 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:21,411 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:56:21,411 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:56:21,411 [http-w04 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:56:21,411 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:56:21,411 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:56:21,505 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:56:21,505 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:56:21,505 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:56:21,521 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')             AND A.YYMM < '201108' AND A.SGBBCD = '044')           OR (A.YYMM = '201108' ))         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:56:21,895 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 374msec> Success to execute query.
2011-11-25 09:56:22,722 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 131rows, 827msec> data-binding complete.
2011-11-25 09:56:22,722 [http-w04 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:56:22,722 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:56:22,722 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:56:22,722 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:56:22,722 [http-w04 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:56:22,722 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:56:22,722 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:36,700 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:36,700 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:36,700 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 09:56:36,700 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:36,700 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 09:56:36,700 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 09:56:36,700 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:36,700 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:36,700 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:36,700 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:56:36,700 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG OZStream  - write Item zip size = 2521
2011-11-25 09:56:36,716 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:36,716 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:36,716 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 09:56:36,716 [http-w04 [container2-14]] DEBUG OZStream  - write Item size = 1493
2011-11-25 09:56:36,716 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 09:56:36,732 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 09:56:36,732 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 09:56:36,732 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 09:56:36,733 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 09:56:36,733 [http-w04 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 09:56:36,733 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 09:56:36,733 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 09:56:36,826 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 09:56:36,826 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 09:56:36,826 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 09:56:36,842 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 09:56:37,045 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 203msec> Success to execute query.
2011-11-25 09:56:37,045 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 4rows, 0msec> data-binding complete.
2011-11-25 09:56:37,045 [http-w04 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 09:56:37,045 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 09:56:37,045 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 09:56:37,045 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 09:56:37,045 [http-w04 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 09:56:37,045 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 09:56:37,045 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:45,434 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:45,434 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:45,434 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:19:45,434 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:45,434 [http-w05 [container2-22]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:19:45,434 [http-w05 [container2-22]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:19:45,450 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,761 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,761 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,761 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:19:46,761 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,761 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:19:46,761 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:19:46,761 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,761 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,761 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,761 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:19:46,761 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:19:46,777 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,777 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,777 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:19:46,777 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,777 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,777 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:19:46,777 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:19:46,777 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZStream  - read Item size = 2520
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,793 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:19:46,793 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:19:46,809 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:19:46,809 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:19:46,825 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:19:46,825 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:19:46,825 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:19:46,825 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:47,762 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:47,762 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:47,762 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:21:47,762 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:47,762 [http-w09 [container2-16]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:21:47,762 [http-w09 [container2-16]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:21:47,762 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,637 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,637 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,637 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:21:48,637 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,637 [http-w09 [container2-16]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:21:48,637 [http-w09 [container2-16]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:21:48,637 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,637 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,637 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,637 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:21:48,637 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,637 [http-w09 [container2-16]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,653 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,653 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZStream  - read Item size = 2520
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:21:48,668 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:21:48,668 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:21:48,684 [http-w09 [container2-16]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:21:48,684 [http-w09 [container2-16]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:22:00,321 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:22:00,321 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:22:00,321 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:22:00,321 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:22:00,321 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:22:00,321 [http-w01 [container2-19]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:22:00,337 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:22:00,337 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:22:00,337 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG OZStream  - write Item zip size = 2520
2011-11-25 10:22:00,337 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:22:00,337 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:22:00,337 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:22:00,337 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:22:00,353 [http-w01 [container2-19]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:22:00,354 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:22:00,354 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:22:00,354 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:22:00,354 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:22:00,354 [http-w01 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:22:00,354 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:22:00,354 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:22:00,400 [http-w01 [container2-19]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-25 10:22:00,400 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-25 10:22:00,400 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 10:22:00,400 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 10:22:01,742 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 10:22:01,742 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:22:01,742 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:22:01,742 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:22:01,758 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:22:01,977 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 219msec> Success to execute query.
2011-11-25 10:22:01,977 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 4rows, 0msec> data-binding complete.
2011-11-25 10:22:01,977 [http-w01 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:22:01,977 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:22:01,977 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:22:01,977 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:22:01,977 [http-w01 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:22:01,977 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:22:01,977 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:21,838 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:21,838 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:21,838 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:23:21,838 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:21,838 [http-w03 [container2-21]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:23:21,838 [http-w03 [container2-21]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:23:21,838 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,853 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,868 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:23:22,868 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,868 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,868 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:23:22,868 [http-w03 [container2-21]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:22,884 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:23:22,884 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZStream  - read Item size = 2522
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,900 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,900 [http-w03 [container2-21]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:23:22,916 [http-w03 [container2-21]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:23:22,916 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:22,916 [http-w03 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:23:22,916 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:22,916 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:23:22,916 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:22,916 [http-w03 [container2-21]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:23:22,916 [http-w03 [container2-21]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:23:22,916 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:28,563 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:23:28,563 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:28,563 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:23:28,563 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:28,563 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:23:28,563 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:23:28,563 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:28,563 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:23:28,563 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:28,563 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:28,563 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 2522
2011-11-25 10:23:28,579 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:28,579 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:23:28,579 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:23:28,579 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:23:28,579 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:23:28,595 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:23:28,595 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:23:28,595 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:23:28,595 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:23:28,595 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:23:28,595 [http-w02 [container2-15]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-25 10:23:28,595 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 10:23:28,595 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 10:23:29,329 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 10:23:29,329 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:23:29,329 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:23:29,329 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:23:29,344 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:23:29,407 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 63msec> Success to execute query.
2011-11-25 10:23:29,407 [http-w02 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 4rows, 0msec> data-binding complete.
2011-11-25 10:23:29,407 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:23:29,407 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:23:29,407 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:23:29,407 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:23:29,407 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:23:29,407 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:23:29,407 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:44,061 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:44,061 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:44,061 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:27:44,061 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:44,061 [http-w04 [container2-14]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:27:44,061 [http-w04 [container2-14]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:27:44,061 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,061 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,061 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,061 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:27:45,061 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,061 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:27:45,061 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:27:45,061 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,061 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,076 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,076 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:27:45,076 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,076 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:27:45,076 [http-w04 [container2-14]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:27:45,076 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,076 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,076 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,076 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:45,076 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZStream  - read Item size = 2517
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:45,139 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:27:45,139 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,155 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,155 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:27:45,155 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:45,155 [http-w04 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:27:45,155 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:27:45,155 [http-w04 [container2-14]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:27:45,155 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:53,829 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:27:53,829 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:53,829 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:27:53,829 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:53,829 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:27:53,829 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:27:53,829 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:53,829 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:27:53,829 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:53,829 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:53,829 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:53,829 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG OZStream  - write Item zip size = 2517
2011-11-25 10:27:53,845 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:53,845 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:27:53,845 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:27:53,845 [http-w08 [container2-20]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:27:53,845 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:27:53,845 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:27:53,860 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:27:53,860 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:27:53,860 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:27:53,860 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:27:53,860 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:27:53,860 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:27:53,861 [http-w08 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:27:53,861 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:27:53,861 [http-w08 [container2-20]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-25 10:27:53,861 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 10:27:53,861 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 10:27:54,704 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 10:27:54,704 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:27:54,704 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:27:54,704 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:27:54,719 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:27:54,922 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 203msec> Success to execute query.
2011-11-25 10:27:54,922 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 4rows, 0msec> data-binding complete.
2011-11-25 10:27:54,922 [http-w08 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:27:54,922 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:27:54,922 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:27:54,922 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:27:54,922 [http-w08 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:27:54,922 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:27:54,922 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:28:00,119 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:28:00,119 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:28:00,119 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:28:00,119 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:28:00,119 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:28:00,119 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:28:00,119 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:28:00,119 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:28:00,119 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:28:00,119 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:28:00,119 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG OZStream  - write Item zip size = 2517
2011-11-25 10:28:00,135 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:28:00,135 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:28:00,135 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:28:00,135 [http-w08 [container2-20]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:28:00,135 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:28:00,151 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:28:00,151 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:28:00,151 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:28:00,151 [http-w08 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:28:00,151 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:28:00,151 [http-w08 [container2-20]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-25 10:28:00,151 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 10:28:00,151 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 10:28:00,448 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 10:28:00,448 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:28:00,448 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:28:00,448 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:28:00,463 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:28:00,682 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 219msec> Success to execute query.
2011-11-25 10:28:00,682 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 9rows, 0msec> data-binding complete.
2011-11-25 10:28:00,682 [http-w08 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:28:00,682 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:28:00,682 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:28:00,682 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:28:00,682 [http-w08 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:28:00,682 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:28:00,682 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:14,849 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:14,849 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:14,849 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:32:14,849 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:14,849 [http-w01 [container2-19]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:32:14,849 [http-w01 [container2-19]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:32:14,849 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,754 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,754 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,754 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:32:15,754 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,754 [http-w01 [container2-19]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:32:15,754 [http-w01 [container2-19]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:32:15,754 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:15,770 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:32:15,770 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZStream  - read Item size = 2515
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,786 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:15,786 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:32:15,801 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,801 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,801 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:32:15,801 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,801 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,801 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:32:15,801 [http-w01 [container2-19]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:32:15,801 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:15,817 [http-w01 [container2-19]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:32:15,817 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:15,817 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:32:15,817 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:15,817 [http-w01 [container2-19]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:32:15,817 [http-w01 [container2-19]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:32:15,817 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:20,294 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:32:20,294 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:20,294 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:32:20,294 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:20,294 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:32:20,294 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:32:20,294 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:20,294 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:32:20,294 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:20,294 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:20,294 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG OZStream  - write Item zip size = 2515
2011-11-25 10:32:20,310 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:20,310 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:32:20,310 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:32:20,310 [http-w06 [container2-17]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:32:20,310 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:32:20,545 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:32:20,545 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:32:20,545 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:32:20,545 [http-w06 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:32:20,545 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:32:20,545 [http-w06 [container2-17]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-25 10:32:20,545 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 10:32:20,545 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 10:32:21,387 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 10:32:21,387 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:32:21,387 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:32:21,387 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:32:21,403 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:32:21,700 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 297msec> Success to execute query.
2011-11-25 10:32:21,716 [http-w06 [container2-17]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 9rows, 16msec> data-binding complete.
2011-11-25 10:32:21,716 [http-w06 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:32:21,716 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:32:21,716 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:32:21,716 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:32:21,716 [http-w06 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:32:21,716 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:32:21,716 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,108 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,108 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,108 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:34:19,108 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,108 [http-w02 [container2-15]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:34:19,108 [http-w02 [container2-15]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:34:19,108 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,951 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,951 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,951 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:34:19,951 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,951 [http-w02 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:19,967 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:34:19,967 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZStream  - read Item size = 2516
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:19,982 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:34:19,982 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:34:19,998 [http-w02 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:34:19,998 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:51,120 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:34:51,120 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:51,120 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:34:51,120 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:51,120 [http-w05 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:34:51,120 [http-w05 [container2-22]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:34:51,120 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:51,136 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:34:51,136 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG OZStream  - write Item zip size = 2516
2011-11-25 10:34:51,136 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:51,136 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:34:51,136 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:34:51,136 [http-w05 [container2-22]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:34:51,136 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:34:51,152 [http-w05 [container2-22]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:34:51,152 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:34:51,152 [http-w05 [container2-22]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:34:51,152 [http-w05 [container2-22]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:34:51,152 [http-w05 [container2-22]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:34:51,152 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:34:51,230 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:34:51,246 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:34:51,246 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:34:51,246 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:34:51,573 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 327msec> Success to execute query.
2011-11-25 10:34:51,573 [http-w05 [container2-22]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 9rows, 0msec> data-binding complete.
2011-11-25 10:34:51,573 [http-w05 [container2-22]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:34:51,573 [http-w05 [container2-22]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:34:51,573 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:34:51,573 [http-w05 [container2-22]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:34:51,573 [http-w05 [container2-22]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:34:51,573 [http-w05 [container2-22]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:34:51,573 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:04,829 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:04,829 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:04,829 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:37:04,829 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:04,844 [http-w08 [container2-20]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:37:04,844 [http-w08 [container2-20]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:37:04,844 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,828 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,828 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,828 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:37:05,828 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,828 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:37:05,828 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:37:05,844 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,844 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,844 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,844 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:37:05,844 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,844 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:37:05,844 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:37:05,844 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,844 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,844 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,844 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:05,859 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,859 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,875 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,875 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:05,875 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,875 [http-w08 [container2-20]] DEBUG OZStream  - read Item size = 2520
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:05,876 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,876 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:37:05,892 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:05,892 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:37:05,892 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:37:05,892 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:37:05,892 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:10,322 [http-w00 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:37:10,322 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:10,322 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:37:10,322 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:10,322 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:37:10,322 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:37:10,322 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:10,322 [http-w00 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:37:10,322 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:10,322 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:10,322 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:10,322 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG OZStream  - write Item zip size = 2520
2011-11-25 10:37:10,338 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:10,338 [http-w00 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:37:10,338 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:37:10,338 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:37:10,338 [http-w00 [container2-13]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:37:10,338 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:37:10,338 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:37:10,353 [http-w00 [container2-13]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:37:10,353 [http-w00 [container2-13]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:37:10,353 [http-w00 [container2-13]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:37:10,353 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:37:10,353 [http-w00 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:37:10,354 [http-w00 [container2-13]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:37:10,354 [http-w00 [container2-13]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:37:10,354 [http-w00 [container2-13]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:37:10,354 [http-w00 [container2-13]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:37:10,354 [http-w00 [container2-13]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:37:10,354 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:37:10,354 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:37:10,354 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:37:10,619 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:37:10,619 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:37:10,619 [http-w00 [container2-13]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:37:10,635 [http-w00 [container2-13]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:37:11,945 [http-w00 [container2-13]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 1310msec> Success to execute query.
2011-11-25 10:37:11,945 [http-w00 [container2-13]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 9rows, 0msec> data-binding complete.
2011-11-25 10:37:11,945 [http-w00 [container2-13]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:37:11,945 [http-w00 [container2-13]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:37:11,945 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:37:11,945 [http-w00 [container2-13]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:37:11,945 [http-w00 [container2-13]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:37:11,945 [http-w00 [container2-13]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:37:11,945 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:32,803 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:32,803 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:32,803 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 10:38:32,819 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:32,819 [http-w06 [container2-17]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 10:38:32,819 [http-w06 [container2-17]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 10:38:32,819 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,787 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,787 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,787 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:38:33,787 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,787 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:38:33,787 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,803 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:33,803 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:38:33,818 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,818 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,818 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,818 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:33,818 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,818 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:33,818 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:38:33,818 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,818 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,818 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,818 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZStream  - read Item size = 2519
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,834 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:38:33,834 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,850 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:38:33,850 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:38:33,851 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:33,851 [http-w06 [container2-17]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 10:38:33,851 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:33,851 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 10:38:33,851 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:33,851 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 10:38:33,851 [http-w06 [container2-17]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 10:38:33,851 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:39,794 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:38:39,794 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:39,794 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:38:39,794 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:39,794 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:38:39,794 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:38:39,794 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:39,794 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:38:39,794 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:39,794 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:39,794 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:39,794 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:38:39,810 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:39,810 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:38:39,810 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:38:39,810 [http-w03 [container2-21]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:38:39,810 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:38:39,825 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:38:39,825 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:38:39,825 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:38:39,825 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:38:39,826 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:38:39,826 [http-w03 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:38:39,826 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:38:39,826 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:38:40,092 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:38:40,092 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:38:40,092 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:38:40,107 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:38:40,591 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 484msec> Success to execute query.
2011-11-25 10:38:40,591 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 9rows, 0msec> data-binding complete.
2011-11-25 10:38:40,591 [http-w03 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:38:40,591 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:38:40,591 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:38:40,591 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:38:40,591 [http-w03 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:38:40,591 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:38:40,591 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:42:10,505 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:42:10,505 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:42:10,505 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:42:10,505 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:42:10,505 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:42:10,505 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:42:10,505 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:42:10,505 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:42:10,505 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:42:10,505 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:42:10,505 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:42:10,520 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:42:10,520 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:42:10,520 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:42:10,520 [http-w04 [container2-14]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:42:10,520 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:42:10,536 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:42:10,536 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:42:10,536 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:42:10,536 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:42:10,536 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:42:10,536 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:42:10,536 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:42:10,537 [http-w04 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:42:10,537 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:42:10,537 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:42:11,364 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:42:11,364 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:42:11,364 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:42:11,379 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH, X.YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '03') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201108' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ,X.YYMM  ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:42:12,050 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 671msec> Success to execute query.
2011-11-25 10:42:12,722 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 22rows, 672msec> data-binding complete.
2011-11-25 10:42:12,722 [http-w04 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:42:12,722 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:42:12,722 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:42:12,722 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:42:12,722 [http-w04 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:42:12,722 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:42:12,722 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:25,489 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:25,489 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:25,489 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:43:25,489 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:25,489 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:43:25,489 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:43:25,489 [http-w08 [container2-20]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:43:25,489 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:43:25,505 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:43:25,505 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:43:25,786 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:43:25,786 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:43:25,786 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:43:25,802 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  		  AND A.YYMM = '201108'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:43:26,988 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 1186msec> Success to execute query.
2011-11-25 10:43:26,988 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 5rows, 0msec> data-binding complete.
2011-11-25 10:43:26,988 [http-w08 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:43:26,988 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:43:26,988 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:43:26,988 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:43:26,988 [http-w08 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:43:26,988 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:43:26,988 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:37,690 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:37,690 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:37,690 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:43:37,690 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:37,690 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:43:37,690 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:43:37,690 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:37,690 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:37,690 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:37,690 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:43:37,706 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:37,706 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:37,706 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:43:37,706 [http-w08 [container2-20]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:43:37,706 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:37,722 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:37,722 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:43:37,722 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:43:37,722 [http-w08 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:43:37,722 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:43:37,722 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:43:38,003 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:43:38,003 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:43:38,003 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:43:38,003 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  		  AND A.YYMM = '201108'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:43:38,346 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 343msec> Success to execute query.
2011-11-25 10:43:38,346 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 5rows, 0msec> data-binding complete.
2011-11-25 10:43:38,346 [http-w08 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:43:38,346 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:43:38,346 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:43:38,346 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:43:38,346 [http-w08 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:43:38,346 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:43:38,362 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:56,084 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:56,084 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:56,084 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:43:56,084 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:56,084 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:43:56,084 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:43:56,084 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:56,084 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:56,084 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:56,084 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:43:56,084 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:43:56,099 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:56,099 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:56,099 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:43:56,099 [http-w08 [container2-20]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:43:56,099 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:43:56,115 [http-w08 [container2-20]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:43:56,115 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:43:56,116 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:43:56,116 [http-w08 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:43:56,116 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:43:56,116 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:43:56,397 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:43:56,397 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:43:56,397 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:43:56,397 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  		  AND A.YYMM = '201108'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:43:56,740 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 343msec> Success to execute query.
2011-11-25 10:43:56,740 [http-w08 [container2-20]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 5rows, 0msec> data-binding complete.
2011-11-25 10:43:56,740 [http-w08 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:43:56,740 [http-w08 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:43:56,740 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:43:56,740 [http-w08 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:43:56,740 [http-w08 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:43:56,740 [http-w08 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:43:56,740 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:03,959 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:03,959 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:03,959 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:45:03,959 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:03,959 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:45:03,959 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:45:03,959 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:03,959 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:03,959 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:03,959 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:03,959 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:45:03,974 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:03,974 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:03,974 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:45:03,974 [http-w03 [container2-21]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:45:03,974 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:03,974 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:03,974 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:03,990 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:45:03,990 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:03,990 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:45:03,990 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:45:03,990 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:45:03,990 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:45:03,990 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:45:03,991 [http-w03 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:45:03,991 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:45:03,991 [http-w03 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:45:03,991 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:45:03,991 [http-w03 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:45:03,991 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:45:03,991 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:45:03,991 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:45:04,272 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:45:04,272 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:45:04,272 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:45:04,287 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -10), 'YYYYMM')  AND A.YYMM < '201110'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:45:06,206 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 1919msec> Success to execute query.
2011-11-25 10:45:07,346 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 40rows, 1140msec> data-binding complete.
2011-11-25 10:45:07,346 [http-w03 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:45:07,346 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:45:07,346 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:45:07,346 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:45:07,346 [http-w03 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:45:07,346 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:45:07,346 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:11,309 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:11,309 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:11,309 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:45:11,309 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:11,309 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:45:11,309 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:45:11,309 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:11,309 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:11,309 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:11,309 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:11,309 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:45:11,325 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:11,325 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:11,325 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:45:11,325 [http-w03 [container2-21]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:45:11,325 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:11,341 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:11,341 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:11,341 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:45:11,341 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:11,341 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:45:11,341 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:45:11,341 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:45:11,342 [http-w03 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:45:11,342 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:45:11,342 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:45:11,607 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:45:11,607 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:45:11,607 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:45:11,622 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -10), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:45:12,340 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 718msec> Success to execute query.
2011-11-25 10:45:14,088 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 40rows, 1748msec> data-binding complete.
2011-11-25 10:45:14,088 [http-w03 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:45:14,088 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:45:14,088 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:45:14,088 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:45:14,088 [http-w03 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:45:14,088 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:45:14,088 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:34,445 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:34,445 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:34,445 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:45:34,445 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:34,445 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:45:34,445 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:45:34,445 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:34,445 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:34,445 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:34,445 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:34,445 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:45:34,460 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:34,460 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:34,460 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:45:34,460 [http-w03 [container2-21]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:45:34,460 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:34,477 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:34,477 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:45:34,477 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:45:34,477 [http-w03 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:45:34,477 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:45:34,477 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:45:34,758 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:45:34,758 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:45:34,758 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:45:34,758 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -10), 'YYYYMM')  AND A.YYMM < '201110'           AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:45:35,179 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 421msec> Success to execute query.
2011-11-25 10:45:38,096 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 40rows, 2917msec> data-binding complete.
2011-11-25 10:45:38,096 [http-w03 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:45:38,096 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:45:38,096 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:45:38,096 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:45:38,096 [http-w03 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:45:38,096 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:45:38,096 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:50,858 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:50,858 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:50,858 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:45:50,858 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:50,858 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:45:50,858 [http-w03 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:45:50,858 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:50,858 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:50,858 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:50,858 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:50,858 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:45:50,873 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:50,873 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:50,873 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:45:50,873 [http-w03 [container2-21]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:45:50,873 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:45:50,890 [http-w03 [container2-21]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:45:50,890 [http-w03 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:45:50,890 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:45:50,890 [http-w03 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:45:50,890 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:45:50,890 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:45:51,140 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:45:51,140 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:45:51,140 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:45:51,155 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  		  AND A.YYMM = '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:45:51,686 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 531msec> Success to execute query.
2011-11-25 10:45:52,076 [http-w03 [container2-21]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 11rows, 390msec> data-binding complete.
2011-11-25 10:45:52,076 [http-w03 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:45:52,076 [http-w03 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:45:52,076 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:45:52,076 [http-w03 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:45:52,076 [http-w03 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:45:52,076 [http-w03 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:45:52,076 [http-w03 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:53:18,532 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:53:18,532 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:53:18,532 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 10:53:18,532 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:53:18,532 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 10:53:18,532 [http-w04 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 10:53:18,532 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:53:18,532 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:53:18,532 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:53:18,532 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:53:18,532 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:53:18,548 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:53:18,548 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:53:18,548 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:53:18,548 [http-w04 [container2-14]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:53:18,548 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:53:18,564 [http-w04 [container2-14]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:53:18,564 [http-w04 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:53:18,564 [http-w04 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:53:18,565 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:53:18,565 [http-w04 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:53:18,565 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:53:18,565 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:53:18,830 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:53:18,830 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:53:18,830 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:53:18,845 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201108') LASTBILL,  		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '02') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201108',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','101','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','012','013','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '107' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '108' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '130' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '131' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '132' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '135' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '152' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '17' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '171' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '172' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '174' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '175' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '176' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '177' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '178' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201108','YYYYMM'), -10), 'YYYYMM')             AND A.YYMM < '201108' AND A.SGBBCD = '044')           OR (A.YYMM = '201108' ))         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:53:20,109 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 1264msec> Success to execute query.
2011-11-25 10:53:26,288 [http-w04 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 314rows, 6179msec> data-binding complete.
2011-11-25 10:53:26,288 [http-w04 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:53:26,288 [http-w04 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:53:26,288 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:53:26,288 [http-w04 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:53:26,288 [http-w04 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:53:26,288 [http-w04 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:53:26,288 [http-w04 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:59:07,249 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:59:07,249 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:59:07,249 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:59:07,249 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:59:07,249 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:59:07,249 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:59:07,249 [http-w01 [container2-19]] DEBUG OZStream  - write Item zip size = 2519
2011-11-25 10:59:07,249 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG OZStream  - write Item size = 1493
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  MessageHandler  - Start Message Handing
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 10:59:07,265 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 10:59:07,265 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 10:59:07,359 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 10:59:07,359 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 10:59:07,359 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 10:59:07,359 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '01') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512003'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '111' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '112' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 10:59:07,625 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 266msec> Success to execute query.
2011-11-25 10:59:07,625 [http-w01 [container2-19]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 8rows, 0msec> data-binding complete.
2011-11-25 10:59:07,625 [http-w01 [container2-19]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 10:59:07,625 [http-w01 [container2-19]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 10:59:07,625 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 10:59:07,625 [http-w01 [container2-19]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 10:59:07,625 [http-w01 [container2-19]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 10:59:07,625 [http-w01 [container2-19]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-25 10:59:07,625 [http-w01 [container2-19]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:01:30,618 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:01:30,618 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:01:30,618 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 11:01:30,618 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:01:30,618 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 11:01:30,618 [http-w02 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 11:01:30,618 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:01:30,634 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:01:30,634 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:01:30,634 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:01:30,634 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:01:30,634 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:01:30,634 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 11:01:30,651 [http-w02 [container2-15]] DEBUG OZStream  - write Item zip size = 3687
2011-11-25 11:01:30,651 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:01:30,651 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:01:30,651 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:01:30,651 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:01:30,651 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:01:30,651 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:01:30,651 [http-w02 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 11:01:30,651 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-25 11:01:30,729 [http-w02 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-25 11:01:30,729 [http-w02 [container2-15]] DEBUG OZStream  - write Item size = 1119
2011-11-25 11:01:30,729 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:01:30,729 [http-w02 [container2-15]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:01:30,729 [http-w02 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:01:30,729 [http-w02 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 11:01:30,729 [http-w02 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:01:30,729 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 11:01:30,729 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-25 11:01:30,729 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 11:01:30,744 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 11:01:30,744 [http-w02 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 11:01:30,760 [http-w02 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 11:01:30,760 [http-w02 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 11:01:30,760 [http-w02 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-25 11:01:30,760 [http-w02 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 11:01:30,760 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 11:01:30,760 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 11:01:30,760 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 11:01:30,760 [http-w02 [container2-15]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:595)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:536)
	at oz.framework.cp.message.FrameworkRequestDataModule.a(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1350)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-25 11:01:30,760 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-25 11:01:30,760 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 11:01:30,760 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 11:01:41,758 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 11:01:41,758 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 11:01:41,758 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 11:01:41,758 [http-w02 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-25 11:01:41,758 [http-w02 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512003'     AND A.NEWSCD IN('100','')             AND ((GNO = '111' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('740', 3, '0') ) OR(GNO = '112' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('200', 3, '0') ) OR(GNO = '116' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('256', 3, '0') ) OR (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-25 11:01:41,977 [http-w02 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 219msec> Success to execute query.
2011-11-25 11:01:49,294 [http-w02 [container2-15]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 1163rows, 7317msec> data-binding complete.
2011-11-25 11:01:49,294 [http-w02 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 11:01:49,294 [http-w02 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 11:01:49,294 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 11:01:49,294 [http-w02 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 11:01:49,294 [http-w02 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 11:01:49,294 [http-w02 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-25 11:01:49,309 [http-w02 [container2-15]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-25 11:01:49,309 [http-w02 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:34,292 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:34,292 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:34,292 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 11:03:34,292 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:34,292 [http-w05 [container2-22]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 11:03:34,292 [http-w05 [container2-22]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 11:03:34,292 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,775 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,775 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,775 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 11:03:35,775 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,775 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 11:03:35,775 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 11:03:35,775 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,775 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,775 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,775 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 11:03:35,775 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,831 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 11:03:35,831 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZStream  - read Item size = 2417
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,832 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 11:03:35,832 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,847 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,847 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZStream  - read Item size = 2519
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,863 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,863 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 11:03:35,879 [http-w05 [container2-22]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 11:03:35,879 [http-w05 [container2-22]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:04:34,082 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:04:34,082 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:04:34,082 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 11:04:34,082 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:04:34,082 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 11:04:34,082 [http-w06 [container2-17]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 11:04:34,082 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:04:34,082 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:04:34,082 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:04:34,082 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:04:34,082 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:04:34,082 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:04:34,098 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 11:04:34,115 [http-w06 [container2-17]] DEBUG OZStream  - write Item zip size = 2236
2011-11-25 11:04:34,115 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:04:34,115 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:04:34,115 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:04:34,115 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 11:04:34,115 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:04:34,115 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 11:04:34,115 [http-w06 [container2-17]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-25 11:04:34,130 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-25 11:04:34,130 [http-w06 [container2-17]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/giroBill.odi
2011-11-25 11:04:34,130 [http-w06 [container2-17]] DEBUG OZStream  - write Item size = 1394
2011-11-25 11:04:34,130 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 11:04:34,130 [http-w06 [container2-17]] INFO  server  - client IP:[ 203.238.59.38] A handler is started. Active handler count is 1
2011-11-25 11:04:34,130 [http-w06 [container2-17]] INFO  MessageHandler  - Start Message Handing
2011-11-25 11:04:34,130 [http-w06 [container2-17]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-25 11:04:34,130 [http-w06 [container2-17]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 11:04:34,130 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-25 11:04:34,130 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-25 11:04:34,130 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-25 11:04:34,146 [http-w06 [container2-17]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-25 11:04:34,146 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-25 11:04:34,146 [http-w06 [container2-17]] ERROR ConnectionPool-mkcrm  - Pooled Connection is not okay
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CStatement.executeForDescribe(T4CStatement.java:806)
	at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1037)
	at oracle.jdbc.driver.T4CStatement.executeMaybeDescribe(T4CStatement.java:830)
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1132)
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:1687)
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:1653)
	at oz.framework.db.cozbr.b(DashoA12957:624)
	at oz.framework.db.cozbr.a(DashoA12957:591)
	at oz.framework.db.cozbr.g(DashoA12957:528)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:126)
	at oz.framework.db.cozi9.getConnectionByAlias(DashoA12957:102)
	at oz.dm.meta.OZDBMS.init(DashoA12957:357)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:771)
	at oz.dm.meta.OZDataModuleImpl.getBCDataModule(DashoA12957:725)
	at oz.framework.cp.message.FrameworkRequestDataModule.b(DashoA12957:827)
	at oz.framework.cp.message.FrameworkRequestDataModule.fetchMessage(DashoA12957:1356)
	at oz.server.cozct.a(DashoA12957:246)
	at oz.server.cozct.a(DashoA12957:150)
	at oz.server.OZServlet.a(DashoA12957:824)
	at oz.server.OZServlet.doPost(DashoA12957:164)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:818)
	at jeus.servlet.engine.ServletWrapper.executeServlet(ServletWrapper.java:329)
	at jeus.servlet.engine.ServletWrapper.execute(ServletWrapper.java:223)
	at jeus.servlet.engine.HttpRequestProcessor.run(HttpRequestProcessor.java:278)
2011-11-25 11:04:34,146 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Re-connect selected bad connection from connection-pool
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-25 11:04:34,146 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-25 11:04:34,317 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-25 11:04:34,317 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-25 11:04:34,317 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-25 11:04:34,317 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-25 11:04:34,333 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+' || SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '01') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-25 11:04:34,427 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 94msec> Success to execute query.
2011-11-25 11:04:34,442 [http-w06 [container2-17]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 17rows, 15msec> data-binding complete.
2011-11-25 11:04:34,442 [http-w06 [container2-17]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-25 11:04:34,442 [http-w06 [container2-17]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-25 11:04:34,442 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-25 11:04:34,442 [http-w06 [container2-17]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-25 11:04:34,442 [http-w06 [container2-17]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-25 11:04:34,442 [http-w06 [container2-17]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-25 11:04:34,442 [http-w06 [container2-17]] INFO  MessageHandler  - End Message Handing
2011-11-25 13:31:42,674 [http-w00 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 13:31:42,684 [http-w00 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-25 13:31:42,684 [http-w00 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 13:31:42,684 [http-w00 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 13:31:42,684 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 13:31:42,714 [http-w00 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Function Type [189 : LOGOUT_USER]
2011-11-25 13:31:42,895 [http-w00 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:25,553 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:25,553 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:25,553 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestUSL]
2011-11-25 16:18:25,553 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:25,553 [http-w08 [container2-20]] DEBUG FrameworkRequestUSL  - Reading Message is successfully completed
2011-11-25 16:18:25,553 [http-w08 [container2-20]] DEBUG FrameworkRequestUSL  - Function Type [900 : GET_USL]
2011-11-25 16:18:25,553 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:25,584 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:25,585 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:25,585 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 16:18:25,585 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:25,585 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 16:18:25,585 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-25 16:18:25,585 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:25,585 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:25,585 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:25,585 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-25 16:18:25,616 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:25,616 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-25 16:18:25,616 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUser  - Function Type [256 : ACCESS_GET_IS_CHECK_ADMIN]
2011-11-25 16:18:25,616 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:25,647 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:25,647 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:25,647 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-25 16:18:25,647 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:25,647 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-25 16:18:25,647 [http-w08 [container2-20]] DEBUG OZRepositoryRequestUser  - Function Type [64 : ACCESS_CHECK_USER_PWD]
2011-11-25 16:18:25,663 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:25,678 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:25,678 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:25,678 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 16:18:25,678 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:25,678 [http-w08 [container2-20]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 16:18:25,678 [http-w08 [container2-20]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 16:18:25,678 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:25,678 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:25,678 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:25,678 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 16:18:25,678 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:25,678 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 16:18:25,710 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 16:18:25,741 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:25,756 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:25,756 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:25,788 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 16:18:25,788 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:25,788 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 16:18:25,788 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 16:18:25,788 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:28,939 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:28,939 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:28,971 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-25 16:18:28,971 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:28,971 [http-w08 [container2-20]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-25 16:18:28,987 [http-w08 [container2-20]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-25 16:18:28,987 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,001 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,001 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,001 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 16:18:30,001 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,016 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 16:18:30,016 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 16:18:30,016 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,033 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,033 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,033 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 16:18:30,033 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,033 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 16:18:30,033 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 16:18:30,033 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,048 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,048 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,048 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,048 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,048 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,048 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,080 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,080 [http-w08 [container2-20]] DEBUG OZStream  - read Item size = 2210
2011-11-25 16:18:30,111 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,111 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 16:18:30,111 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,111 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,111 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,111 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,111 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,111 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-25 16:18:30,126 [http-w08 [container2-20]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-25 16:18:30,126 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZStream  - read Item size = 2267
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,142 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,142 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,158 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,158 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-25 16:18:30,158 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,158 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,158 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,158 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,158 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,158 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,158 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,158 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 16:18:30,173 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,173 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,189 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 16:18:30,189 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:18:30,189 [http-w08 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:18:30,189 [http-w08 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-25 16:18:30,189 [http-w08 [container2-20]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-25 16:18:30,189 [http-w08 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:21:22,126 [http-w07 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-25 16:21:22,126 [http-w07 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-25 16:21:22,126 [http-w07 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-25 16:21:22,126 [http-w07 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-25 16:21:22,126 [http-w07 [container2-18]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-25 16:21:22,126 [http-w07 [container2-18]] DEBUG OZRepositoryRequestUserLogin  - Function Type [189 : LOGOUT_USER]
2011-11-25 16:21:22,299 [http-w07 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-25 16:24:43,106 [JMXMP-6 [container2-23]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-25 16:24:43,106 [JMXMP-6 [container2-23]] INFO  ConnectionPool  - Start release pool...
2011-11-25 16:24:43,153 [JMXMP-6 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-25 16:24:43,153 [JMXMP-6 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-25 16:24:43,184 [JMXMP-6 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-25 16:24:43,607 [JMXMP-6 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-25 16:24:43,607 [JMXMP-6 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-25 16:24:43,638 [JMXMP-6 [container2-23]] INFO  ConnectionPool  - End release pool.
2011-11-25 16:25:03,809 [JMXMP-6 [container2-23]] INFO  server  - Released all resources
2011-11-25 16:25:03,809 [JMXMP-6 [container2-23]] INFO  server  - Fine.
2011-11-30 13:46:38,150 [http-w08 [container2-12]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-30 13:46:38,150 [http-w08 [container2-12]] INFO  server  - Set XML parser properties.
2011-11-30 13:46:38,150 [http-w08 [container2-12]] INFO  XML-License-Loader  - [.xml] loader
2011-11-30 13:46:38,150 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 13:46:38,150 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 13:46:38,244 [http-w08 [container2-12]] INFO  resource  - Start initialize OZ
2011-11-30 13:46:38,244 [http-w08 [container2-12]] DEBUG resource  - Send mail function is not activated.
2011-11-30 13:46:38,244 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 13:46:38,244 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 13:46:38,244 [http-w08 [container2-12]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-30 13:46:38,244 [http-w08 [container2-12]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-30 13:46:38,244 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 13:46:38,244 [http-w08 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-30 13:46:38,275 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-30 13:46:38,275 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-30 13:46:38,275 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-30 13:46:38,275 [http-w08 [container2-12]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-30 13:46:38,275 [http-w08 [container2-12]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-30 13:46:38,275 [http-w08 [container2-12]] INFO  ConnectionPool  - Start initialize...
2011-11-30 13:46:38,291 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-30 13:46:38,369 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-30 13:46:38,369 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 13:46:38,369 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 13:46:40,490 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 13:46:40,490 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 13:46:40,490 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 13:46:42,285 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 13:46:42,285 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 13:46:42,285 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 13:46:49,415 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 13:46:49,415 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 13:46:49,415 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 13:46:51,086 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 13:46:51,086 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 13:46:51,086 [http-w08 [container2-12]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 13:46:52,709 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 13:46:52,709 [http-w08 [container2-12]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 13:46:52,709 [http-w08 [container2-12]] INFO  ConnectionPool  - End initialize.
2011-11-30 13:46:52,804 [http-w08 [container2-12]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-30 13:46:52,835 [http-w08 [container2-12]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-30 13:46:52,835 [http-w08 [container2-12]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-30 13:46:52,882 [http-w08 [container2-12]] DEBUG OZCachManager  - Delete cache file : C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF\cache\.svn\all-wcprops
2011-11-30 13:46:52,882 [http-w08 [container2-12]] DEBUG OZCachManager  - Delete cache file : C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF\cache\.svn\entries
2011-11-30 13:46:52,882 [http-w08 [container2-12]] DEBUG OZCachManager  - Delete cache file : C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF\cache\.svn\format
2011-11-30 13:46:52,897 [http-w08 [container2-12]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-30 13:46:52,897 [http-w08 [container2-12]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-30 13:46:52,897 [http-w08 [container2-12]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-30 13:46:52,897 [http-w08 [container2-12]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-30 13:46:52,897 [http-w08 [container2-12]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-30 13:46:52,913 [http-w08 [container2-12]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-30 13:46:52,913 [http-w08 [container2-12]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-30 13:46:52,913 [http-w08 [container2-12]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-30 13:46:52,913 [http-w08 [container2-12]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-30 13:46:52,913 [http-w08 [container2-12]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-30 13:46:52,913 [http-w08 [container2-12]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-30 13:46:52,913 [http-w08 [container2-12]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-30 13:46:52,913 [http-w08 [container2-12]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-30 13:46:52,928 [http-w08 [container2-12]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-30 13:46:52,928 [http-w08 [container2-12]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-30 13:46:52,928 [http-w08 [container2-12]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-30 13:46:52,928 [http-w08 [container2-12]] DEBUG resource  - java script init loading.
2011-11-30 13:46:53,022 [http-w08 [container2-12]] INFO  resource  - Loading REPORT frameworks ....
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG server  - OS Name            : Windows 7
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG server  - OS Version         : 6.1
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG server  - CPU Count          : 8
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -   ------------------------------------------------  
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -   OZ Version Info.
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -   ------------------------------------------------  
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -    OZ Common Protocol
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -       Protocol              : 2007
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -    OZ DataModule
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -       Streaming Protocol    : 2040
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  -   ------------------------------------------------  
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  - 
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  - This product includes Hypersonic SQL.
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  - 
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  - OZ Servlet is ready up.
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:46:53,147 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestUSL]
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:46:53,147 [http-w08 [container2-12]] DEBUG FrameworkRequestUSL  - Reading Message is successfully completed
2011-11-30 13:46:53,162 [http-w08 [container2-12]] DEBUG FrameworkRequestUSL  - Function Type [900 : GET_USL]
2011-11-30 13:46:53,162 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUser  - Function Type [256 : ACCESS_GET_IS_CHECK_ADMIN]
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-30 13:46:53,178 [http-w08 [container2-12]] DEBUG OZRepositoryRequestUser  - Function Type [64 : ACCESS_CHECK_USER_PWD]
2011-11-30 13:46:53,178 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:46:53,194 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:46:53,194 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-30 13:46:53,194 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:46:53,194 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:46:53,194 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:46:53,194 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:46:53,194 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:46:53,334 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:46:53,334 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:46:53,334 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:46:53,334 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:46:53,334 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:46:53,334 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:46:53,334 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:07,561 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:07,561 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:07,561 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-30 13:47:07,561 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:07,561 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-30 13:47:07,561 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-30 13:47:07,561 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,076 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,076 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,076 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:09,076 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,076 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:09,076 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-30 13:47:09,076 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,076 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,076 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,076 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:09,076 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:47:09,091 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,091 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,091 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-30 13:47:09,091 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,091 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,091 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,091 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 1148
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:09,123 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-30 13:47:09,123 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,139 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,139 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:47:09,139 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,139 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,139 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,139 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 2059
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,155 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:09,155 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 2142
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,170 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:09,170 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:09,186 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,186 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,186 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:09,186 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,186 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,186 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:09,186 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:09,201 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:09,201 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:09,201 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:09,201 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:09,201 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:09,201 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:09,201 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:09,201 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:12,493 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:12,493 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:12,493 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-30 13:47:12,493 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:12,493 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-30 13:47:12,493 [http-w08 [container2-12]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-30 13:47:12,493 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,711 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,711 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,711 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,711 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,711 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,711 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-30 13:47:13,726 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,726 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,726 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,726 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,726 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,742 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,742 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,758 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 2210
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,759 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,759 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,774 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,774 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 2267
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,790 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,790 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,805 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,805 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,805 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,837 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,837 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 2417
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,852 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,852 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,868 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,868 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZStream  - read Item size = 2519
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,883 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:13,883 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:13,899 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:13,899 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:13,899 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:13,899 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:13,899 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:13,899 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:13,899 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:13,899 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:15,787 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:15,787 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:15,787 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:15,787 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:15,787 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:15,787 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:15,787 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:15,802 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:15,802 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:15,802 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:15,802 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:15,818 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:15,818 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:15,818 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:17,925 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:17,925 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:17,925 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:17,925 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:17,925 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:17,925 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:17,940 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:17,940 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:17,940 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:17,940 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:17,940 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:17,956 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:17,956 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:17,956 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:20,047 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:20,047 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:20,047 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:20,047 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:20,047 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:20,047 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:20,047 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 13:47:20,063 [http-w08 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 13:47:20,063 [http-w08 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 13:47:20,063 [http-w08 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 13:47:20,063 [http-w08 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 13:47:20,063 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 13:47:20,063 [http-w08 [container2-12]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 13:47:20,063 [http-w08 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:03:31,543 [http-w04] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:03:31,543 [http-w04 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:03:31,543 [http-w04 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 14:03:31,543 [http-w04 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:03:31,543 [http-w04 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 14:03:31,543 [http-w04 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 14:03:31,543 [http-w04 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:03:31,543 [http-w04 [container2-18]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:03:31,543 [http-w04 [container2-18]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:03:31,543 [http-w04 [container2-18]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-11-30 14:03:31,543 [http-w04 [container2-18]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:03:31,553 [http-w04 [container2-18]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-11-30 14:03:31,553 [http-w04 [container2-18]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-11-30 14:03:31,553 [http-w04 [container2-18]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:10:27,279 [http-w03] DEBUG server  - doGet Login.
2011-11-30 14:10:27,279 [http-w03 [container2-22]] DEBUG server  - doGet Server Info Start.
2011-11-30 14:10:27,279 [http-w03 [container2-22]] DEBUG server  - Login OZ Server...
2011-11-30 14:10:31,260 [http-w03 [container2-22]] INFO  server  - client IP:[ 203.238.59.39] A handler is started. Active handler count is 1
2011-11-30 14:10:31,260 [http-w03 [container2-22]] DEBUG server  - doGet Server Info Start.
2011-11-30 14:10:31,260 [http-w03 [container2-22]] DEBUG server  - The OZ Simplet Test handler was Start.
2011-11-30 14:15:36,250 [http-w03 [container2-13]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-30 14:15:36,250 [http-w03 [container2-13]] INFO  server  - Set XML parser properties.
2011-11-30 14:15:36,266 [http-w03 [container2-13]] INFO  XML-License-Loader  - [.xml] loader
2011-11-30 14:15:36,266 [http-w03 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 14:15:36,266 [http-w03 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 14:15:36,344 [http-w03 [container2-13]] INFO  resource  - Start initialize OZ
2011-11-30 14:15:36,344 [http-w03 [container2-13]] DEBUG resource  - Send mail function is not activated.
2011-11-30 14:15:36,344 [http-w03 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 14:15:36,344 [http-w03 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 14:15:36,344 [http-w03 [container2-13]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-30 14:15:36,344 [http-w03 [container2-13]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-30 14:15:36,344 [http-w03 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 14:15:36,344 [http-w03 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-30 14:15:36,375 [http-w03 [container2-13]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-30 14:15:36,375 [http-w03 [container2-13]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-30 14:15:36,375 [http-w03 [container2-13]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-30 14:15:36,375 [http-w03 [container2-13]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-30 14:15:36,375 [http-w03 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-30 14:15:36,375 [http-w03 [container2-13]] INFO  ConnectionPool  - Start initialize...
2011-11-30 14:15:36,375 [http-w03 [container2-13]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-30 14:15:36,391 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-30 14:15:36,391 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:15:36,391 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:15:37,841 [http-w03 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:15:37,841 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:15:37,857 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:15:38,685 [http-w03 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:15:38,685 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:15:38,685 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:15:39,496 [http-w03 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:15:39,496 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:15:39,496 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:15:40,277 [http-w03 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:15:40,277 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:15:40,277 [http-w03 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:15:41,229 [http-w03 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:15:41,229 [http-w03 [container2-13]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:15:41,229 [http-w03 [container2-13]] INFO  ConnectionPool  - End initialize.
2011-11-30 14:15:41,276 [http-w03 [container2-13]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-30 14:15:41,292 [http-w03 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-30 14:15:41,292 [http-w03 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-30 14:15:41,323 [http-w03 [container2-13]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-30 14:15:41,323 [http-w03 [container2-13]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-30 14:15:41,323 [http-w03 [container2-13]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-30 14:15:41,323 [http-w03 [container2-13]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-30 14:15:41,339 [http-w03 [container2-13]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-30 14:15:41,339 [http-w03 [container2-13]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-30 14:15:41,339 [http-w03 [container2-13]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-30 14:15:41,339 [http-w03 [container2-13]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-30 14:15:41,339 [http-w03 [container2-13]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-30 14:15:41,339 [http-w03 [container2-13]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-30 14:15:41,354 [http-w03 [container2-13]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-30 14:15:41,354 [http-w03 [container2-13]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-30 14:15:41,354 [http-w03 [container2-13]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-30 14:15:41,354 [http-w03 [container2-13]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-30 14:15:41,354 [http-w03 [container2-13]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-30 14:15:41,354 [http-w03 [container2-13]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-30 14:15:41,354 [http-w03 [container2-13]] DEBUG resource  - java script init loading.
2011-11-30 14:15:41,464 [http-w03 [container2-13]] INFO  resource  - Loading REPORT frameworks ....
2011-11-30 14:15:41,604 [http-w03 [container2-13]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG server  - OS Name            : Windows 7
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG server  - OS Version         : 6.1
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG server  - CPU Count          : 8
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -   OZ Version Info.
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -    OZ Common Protocol
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -       Protocol              : 2007
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -    OZ DataModule
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -       Streaming Protocol    : 2040
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  - 
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  - This product includes Hypersonic SQL.
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  - 
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  - OZ Servlet is ready up.
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:15:41,620 [http-w03 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-30 14:15:41,620 [http-w03 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:15:41,635 [http-w03 [container2-13]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-30 14:15:41,635 [http-w03 [container2-13]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-30 14:15:41,635 [http-w03 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:15:41,635 [http-w03 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:15:41,635 [http-w03 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:15:41,635 [http-w03 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-30 14:15:41,635 [http-w03 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:15:41,635 [http-w03 [container2-13]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-30 14:15:41,635 [http-w03 [container2-13]] DEBUG FrameworkRequestRepository  - Function Type [704 : GET_AVAILABLE_SEARCH_OPTIONS]
2011-11-30 14:15:41,651 [http-w03 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:15:41,713 [http-w03 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:15:41,713 [http-w03 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:15:41,713 [http-w03 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-11-30 14:15:41,713 [http-w03 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:15:41,713 [http-w03 [container2-13]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-11-30 14:15:41,713 [http-w03 [container2-13]] DEBUG OZRepositoryRequestUser  - Function Type [256 : ACCESS_GET_IS_CHECK_ADMIN]
2011-11-30 14:15:41,713 [http-w03 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:15:49,092 [http-w03 [container2-13]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:15:49,092 [http-w03 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:15:49,108 [http-w03 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-11-30 14:15:49,108 [http-w03 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:15:49,108 [http-w03 [container2-13]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-11-30 14:15:49,108 [http-w03 [container2-13]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-11-30 14:15:49,108 [http-w03 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:26:25,962 [http-w01] DEBUG server  - doGet Login.
2011-11-30 14:26:25,962 [http-w01 [container2-18]] DEBUG server  - doGet Server Info Start.
2011-11-30 14:26:25,962 [http-w01 [container2-18]] DEBUG server  - Login OZ Server...
2011-11-30 14:26:28,740 [http-w06] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:26:28,740 [http-w06 [container2-19]] DEBUG server  - doGet Server Info Start.
2011-11-30 14:26:28,740 [http-w06 [container2-19]] DEBUG server  - The OZ Simplet Test handler was Start.
2011-11-30 14:27:27,292 [JMXMP-6 [container2-20]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-30 14:27:27,292 [JMXMP-6 [container2-20]] INFO  ConnectionPool  - Start release pool...
2011-11-30 14:27:27,479 [JMXMP-6 [container2-20]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-30 14:27:27,589 [JMXMP-6 [container2-20]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-30 14:27:27,699 [JMXMP-6 [container2-20]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-30 14:27:27,808 [JMXMP-6 [container2-20]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-30 14:27:27,933 [JMXMP-6 [container2-20]] INFO  ConnectionPool-mkcrm  - Closed connection.
2011-11-30 14:27:27,933 [JMXMP-6 [container2-20]] INFO  ConnectionPool  - End release pool.
2011-11-30 14:27:28,338 [JMXMP-6 [container2-20]] INFO  server  - Released all resources
2011-11-30 14:27:28,338 [JMXMP-6 [container2-20]] INFO  server  - Fine.
2011-11-30 14:29:54,899 [http-w03 [container2-15]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-30 14:29:54,899 [http-w03 [container2-15]] INFO  server  - Set XML parser properties.
2011-11-30 14:29:54,899 [http-w03 [container2-15]] INFO  XML-License-Loader  - [.xml] loader
2011-11-30 14:29:54,899 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 14:29:54,899 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 14:29:54,977 [http-w03 [container2-15]] INFO  resource  - Start initialize OZ
2011-11-30 14:29:54,977 [http-w03 [container2-15]] DEBUG resource  - Send mail function is not activated.
2011-11-30 14:29:54,977 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 14:29:54,977 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 14:29:54,977 [http-w03 [container2-15]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-30 14:29:54,977 [http-w03 [container2-15]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-30 14:29:54,977 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 14:29:54,977 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-30 14:29:55,008 [http-w03 [container2-15]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-30 14:29:55,008 [http-w03 [container2-15]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-30 14:29:55,008 [http-w03 [container2-15]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-30 14:29:55,008 [http-w03 [container2-15]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-30 14:29:55,008 [http-w03 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-30 14:29:55,008 [http-w03 [container2-15]] INFO  ConnectionPool  - Start initialize...
2011-11-30 14:29:55,008 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-30 14:29:55,023 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-30 14:29:55,023 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:29:55,023 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:29:56,771 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:29:56,771 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:29:56,771 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:29:58,191 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:29:58,191 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:29:58,191 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:29:59,518 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:29:59,518 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:29:59,518 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:30:00,580 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:30:00,580 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 14:30:00,580 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 14:30:01,517 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 14:30:01,517 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:30:01,517 [http-w03 [container2-15]] INFO  ConnectionPool  - End initialize.
2011-11-30 14:30:01,564 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-30 14:30:01,579 [http-w03 [container2-15]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-30 14:30:01,579 [http-w03 [container2-15]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-30 14:30:01,626 [http-w03 [container2-15]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-30 14:30:01,626 [http-w03 [container2-15]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-30 14:30:01,626 [http-w03 [container2-15]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-30 14:30:01,626 [http-w03 [container2-15]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-30 14:30:01,626 [http-w03 [container2-15]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-30 14:30:01,642 [http-w03 [container2-15]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-30 14:30:01,642 [http-w03 [container2-15]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-30 14:30:01,642 [http-w03 [container2-15]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-30 14:30:01,642 [http-w03 [container2-15]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-30 14:30:01,642 [http-w03 [container2-15]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-30 14:30:01,642 [http-w03 [container2-15]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-30 14:30:01,642 [http-w03 [container2-15]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-30 14:30:01,658 [http-w03 [container2-15]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-30 14:30:01,658 [http-w03 [container2-15]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-30 14:30:01,658 [http-w03 [container2-15]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-30 14:30:01,658 [http-w03 [container2-15]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-30 14:30:01,658 [http-w03 [container2-15]] DEBUG resource  - java script init loading.
2011-11-30 14:30:01,752 [http-w03 [container2-15]] INFO  resource  - Loading REPORT frameworks ....
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG server  - OS Name            : Windows 7
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG server  - OS Version         : 6.1
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG server  - CPU Count          : 8
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -   ------------------------------------------------  
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -   OZ Version Info.
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -   ------------------------------------------------  
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -    OZ Common Protocol
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -       Protocol              : 2007
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -    OZ DataModule
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -       Streaming Protocol    : 2040
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  -   ------------------------------------------------  
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  - 
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  - This product includes Hypersonic SQL.
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  - 
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  - OZ Servlet is ready up.
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:30:01,877 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:30:01,877 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:30:01,892 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:30:01,892 [http-w01 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:30:01,892 [http-w01 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:30:01,892 [http-w01 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:30:01,892 [http-w01 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:30:01,892 [http-w01 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:30:01,892 [http-w01 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:30:01,892 [http-w01 [container2-14]] DEBUG OZStream  - write Item zip size = 2519
2011-11-30 14:30:01,892 [http-w01 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:30:01,908 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:30:01,908 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:30:01,908 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:30:01,908 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:30:01,908 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:30:01,908 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:30:01,908 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-30 14:30:01,908 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /output/visitBill.odi
2011-11-30 14:30:01,924 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:30:01,924 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:30:01,955 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:30:01,970 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-30 14:30:01,986 [http-w03 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-30 14:30:01,986 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:30:01,986 [http-w01 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:30:01,986 [http-w01 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:30:01,986 [http-w01 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:30:01,986 [http-w01 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:30:01,986 [http-w01 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:30:01,986 [http-w01 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-30 14:30:01,986 [http-w01 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:30:01,986 [http-w01 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:30:01,986 [http-w01 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:30:01,986 [http-w01 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:30:02,002 [http-w01 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 14:30:02,002 [http-w01 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:30:02,033 [http-w01 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:30:02,033 [http-w01 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:30:02,033 [http-w01 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:30:02,033 [http-w01 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:30:02,080 [http-w01 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:30:02,267 [http-w01 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:30:02,267 [http-w01 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:30:02,267 [http-w01 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-30 14:30:02,407 [http-w01 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = '106' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR  (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-30 14:30:02,735 [http-w01 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 328msec> Success to execute query.
2011-11-30 14:30:02,829 [http-w01 [container2-14]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 14rows, 94msec> data-binding complete.
2011-11-30 14:30:02,829 [http-w01 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:30:02,829 [http-w01 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:30:02,829 [http-w01 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:30:02,829 [http-w01 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:30:02,845 [http-w01 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:30:02,845 [http-w01 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-30 14:30:02,845 [http-w01 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:09,332 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:09,332 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:09,332 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:31:09,348 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:09,348 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:09,348 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG OZStream  - write Item zip size = 2519
2011-11-30 14:31:09,348 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:09,348 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:09,348 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:09,348 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:31:09,363 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:31:09,363 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-30 14:31:09,364 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:09,364 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:09,364 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:31:09,364 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 14:31:09,364 [http-w03 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:31:09,364 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:31:09,364 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:31:09,536 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:31:09,536 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:31:09,536 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-30 14:31:09,552 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR  (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-30 14:31:09,910 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 358msec> Success to execute query.
2011-11-30 14:31:10,004 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 13rows, 94msec> data-binding complete.
2011-11-30 14:31:10,004 [http-w03 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:31:10,004 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:31:10,004 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:31:10,004 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:31:10,004 [http-w03 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:31:10,004 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-30 14:31:10,004 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:43,576 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:43,576 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:31:43,576 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:43,576 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:43,576 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:31:43,576 [http-w03 [container2-15]] DEBUG OZStream  - write Item zip size = 2267
2011-11-30 14:31:43,576 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:43,592 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:43,592 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/giroBill.odi
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /output/giroBill.odi
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG OZStream  - write Item size = 1403
2011-11-30 14:31:43,592 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:43,592 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:43,592 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:31:43,592 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [giroBill.odi, null]
2011-11-30 14:31:43,592 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 14:31:43,608 [http-w03 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG DataModule  - </output/giroBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:31:43,608 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:31:43,608 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:31:43,732 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:31:43,748 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:31:43,748 [http-w03 [container2-15]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,";

if (#OZParam.misuSum# == "'1'") {
	query = query + "X.YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0) ";             
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(X.YYMM  ,3,2) || SUBSTR(X.YYMM  ,6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(X.YYMM  , 'YYYY-MM'), TO_DATE(X.YYMM  , 'YYYY-MM'))+1),2,0))  ";
	query = query + "        || '+' READBAND1,";
	query = query + "         SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
	query = query + "       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)";
	query = query + "        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)) ";
	query = query + "        || '+'  READBAND1,";
	query = query + "         SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT) ";
	query = query + "        || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,";
}

query = query + "       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.SGBBCD = '044'";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " AND A.YYMM = " + #OZParam.prtCb#;
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
}else{
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM <= " + #OZParam.prtCb#;
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";
query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";

if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-30 14:31:43,748 [http-w03 [container2-15]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY||' 부' BILLQTY,        SUM(X.BILLAMT) BILLAMT,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       '<' || X.GIRO_NO || '+ +99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0)        || FUNC_CHECK_DIGIT_CUST('99' || SUBSTR(X.NEWSCD,2,2) || X.READNO || SUBSTR(MIN(X.YYMM),3,2) || SUBSTR(MIN(X.YYMM),6,2) || LPAD(TRUNC(MONTHS_BETWEEN(TO_DATE(MAX(X.YYMM), 'YYYY-MM'), TO_DATE(MIN(X.YYMM), 'YYYY-MM'))+1),2,0))         || '+'  READBAND1,         SUBSTR(LPAD(TRIM(SUM(X.BILLAMT)),11,' '),1,11-LENGTH(TRIM(SUM(X.BILLAMT)))) || '+' || SUM(X.BILLAMT)         || FUNC_CHECK_DIGIT_BILLAMT(SUM(X.BILLAMT))||'< <11<' READBAND,       (SELECT GIRO FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.SGBBCD = '044'           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('011','012','013','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR(B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = ''))  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')  AND A.YYMM <= '201110'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO, X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-30 14:31:44,700 [http-w03 [container2-15]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 952msec> Success to execute query.
2011-11-30 14:31:44,779 [http-w03 [container2-15]] DEBUG DataModule  - </output/giroBill.odi Set Name : SQL_1, 17rows, 79msec> data-binding complete.
2011-11-30 14:31:44,779 [http-w03 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:31:44,779 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:31:44,779 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:31:44,779 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:31:44,779 [http-w03 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:31:44,779 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [giroBill.odi]
2011-11-30 14:31:44,779 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:56,199 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:56,199 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:56,199 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:31:56,214 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:56,214 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:56,214 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG OZStream  - write Item zip size = 2519
2011-11-30 14:31:56,214 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:56,214 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:56,214 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:31:56,214 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/visitBill.odi
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/visitBill.odi
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG OZStream  - write Item size = 1493
2011-11-30 14:31:56,230 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:31:56,230 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:31:56,230 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:31:56,230 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [visitBill.odi, null]
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 14:31:56,230 [http-w03 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:31:56,230 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:31:56,230 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:31:56,370 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:31:56,370 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:31:56,370 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY, ";
query = query + "       SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,";

if (#OZParam.misuSum# == "'1'") {
	query = query + " X.YYMM,";
}else{
	query = query + "       DECODE(MIN(X.YYMM),MAX(X.YYMM)";
	query = query + "             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,";
}
query = query + "       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";             
query = query + "       FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,"+ #OZParam.prtCb# +") LASTBILL,  ";
if (#OZParam.remkPrt# == "'1'") {
	query = query + "		(SELECT NVL2(TRIM(REMK),'비고: '||REMK,'') FROM TM_READER_NEWS WHERE BOSEQ = X.BOSEQ AND NEWSCD = X.NEWSCD AND READNO = X.READNO AND GNO = X.GNO AND TRIM(REMK) IS NOT NULL AND ROWNUM = 1) REMK,";
}else{
	query = query + "       '' REMK,";
}
query = query + "       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = " + #OZParam.noti# + ") NOTI";
query = query + "  FROM (SELECT A.BOSEQ,        ";
query = query + "               C.NAME,        ";
query = query + "               NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL, ";
query = query + "               C.GIRO_NO,    ";
query = query + "               B.NEWSCD,";
query = query + "               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM, ";
query = query + "               SUM(B.QTY) BILLQTY,  ";
query = query + "               A.READNO,      ";
query = query + "               B.GNO,           ";
query = query + "               MIN(B.BNO) BNO,     ";
query = query + "               B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,      ";
query = query + "               NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,     ";
query = query + "               LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,     ";
query = query + "               UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR("+ #OZParam.prtCb# +",1,4))) CLAMLISTTY,     ";
query = query + "               B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,  ";
query = query + "               TRIM(B.READNM) READNM,  ";
query = query + "               TRIM(B.DLVADRS1) DLVADRS1,  ";
query = query + "               TRIM(B.DLVADRS2) DLVADRS2, ";
query = query + "               TRIM(B.DLVSTRNM) DLVSTRNM,  ";
query = query + "               NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,";
query = query + "               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,";
query = query + "               SUM(A.BILLAMT) BILLAMT  ";
query = query + "          FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C";
query = query + "         WHERE A.READNO = B.READNO";
query = query + "           AND A.NEWSCD = B.NEWSCD";
query = query + "           AND A.SEQ = B.SEQ";
query = query + "           AND A.BOSEQ = C.USERID";
query = query + "           AND A.BOSEQ = " + #OZParam.userId#;
query = query + "           AND B.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           AND A.SGGBCD IN("+ #OZParam.sugm# +")";
query = query + "           AND B.READTYPECD IN("+ #OZParam.reader# +")";
query = query + "           " +  #OZParam.guyukSql#;

if (#OZParam.misuPrt# == "'1'") {
	query = query + " 		  AND A.YYMM = " + #OZParam.prtCb#;
	if (#OZParam.all# != "'1'") {
		query = query + "           AND A.SGBBCD = '044'";
	}
}else if (#OZParam.misuOnly# != "") {
	query = query + " AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
	query = query + " AND A.YYMM < " + #OZParam.prtCb#;
	query = query + "           AND A.SGBBCD = '044'";
}else{
	if (#OZParam.all# != "'1'") {
		query = query + "  AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "  AND A.YYMM <= " + #OZParam.prtCb# +" AND A.SGBBCD = '044'";
	}else{
		query = query + "  AND ((A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE("+ #OZParam.prtCb# +",'YYYYMM'), -"+ #OZParam.month# +"), 'YYYYMM') ";
		query = query + "            AND A.YYMM < " + #OZParam.prtCb# +" AND A.SGBBCD = '044')";
		query = query + "           OR (A.YYMM = " + #OZParam.prtCb# +" ))";
	}
}

query = query + "         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO, ";
query = query + "                  B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,  ";
query = query + "                  NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),  ";
query = query + "                  TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM ";

query = query + "        ) X";
query = query + " GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,  ";
query = query + "                   X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY, ";
query = query + "                   X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY";
if (#OZParam.misuSum# == "'1'") {
	query = query + " ,X.YYMM ";
}

query = query + " ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO";


setQueryString(query);
2011-11-30 14:31:56,370 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1> Query to run:SELECT X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSNM, X.READNO,  X.GNO, X.BNO, X.READER_NO, X.READNM,  X.ADDR, X.BILLQTY,        SUM(X.BILLAMT) BILLAMT,  COUNT(X.YYMM) BILLMONTH,       DECODE(MIN(X.YYMM),MAX(X.YYMM)             ,MAX(X.YYMM),SUBSTR(MIN(X.YYMM),3,5)||'~'||SUBSTR(MAX(X.YYMM),3,5)) YYMM,       X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,        FUNC_LAST_MONTH_BILL(X.BOSEQ,X.NEWSCD,X.READNO, X.GNO,'201110') LASTBILL,         '' REMK,       (SELECT VISIT FROM TM_CUST_NOTICE WHERE SERIAL = X.BOSEQ AND CODE = '선택') NOTI  FROM (SELECT A.BOSEQ,                       C.NAME,                       NVL(C.JIKUK_TEL, JIKUK_HANDY) JIKUK_TEL,                C.GIRO_NO,                   B.NEWSCD,               FUNC_COMMON_CDNM('100',B.NEWSCD) NEWSNM,                SUM(B.QTY) BILLQTY,                 A.READNO,                     B.GNO,                          MIN(B.BNO) BNO,                    B.HJDT, TRIM(B.HJPSNM) HJPSNM, B.SGBGMM,                     NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)) PHONE,                    LOWER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYY'))) CLAMLISTLY,                    UPPER(FUNC_GET_CLAMLIST2(A.READNO, B.NEWSCD, MIN(B.SEQ), SUBSTR('201110',1,4))) CLAMLISTTY,                    B.GNO||'-'||A.READNO||'-'||MIN(B.BNO) READER_NO,                 TRIM(B.READNM) READNM,                 TRIM(B.DLVADRS1) DLVADRS1,                 TRIM(B.DLVADRS2) DLVADRS2,                TRIM(B.DLVSTRNM) DLVSTRNM,                 NVL2(TRIM(B.DLVSTRNM),TRIM(B.DLVSTRNM)||' '||TRIM(B.DLVADRS2),TRIM(B.DLVADRS1)||' '||TRIM(B.DLVADRS2)) ADDR,               SUBSTR(A.YYMM,1,4)||'-'||SUBSTR(A.YYMM,5,6) YYMM,               SUM(A.BILLAMT) BILLAMT            FROM TM_READER_SUGM A, TM_READER_NEWS B, TM_AGENCY C         WHERE A.READNO = B.READNO           AND A.NEWSCD = B.NEWSCD           AND A.SEQ = B.SEQ           AND A.BOSEQ = C.USERID           AND A.BOSEQ = '512009'           AND B.NEWSCD IN('100','')            AND A.SGGBCD IN('012','')           AND B.READTYPECD IN('011','')            AND ((B.GNO = '104' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR (B.GNO = '105' AND B.BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('999', 3, '0') ) OR  (B.GNO = ''))   AND A.YYMM >= TO_CHAR(ADD_MONTHS(TO_DATE('201110','YYYYMM'), -12), 'YYYYMM')   AND A.YYMM <= '201110' AND A.SGBBCD = '044'         GROUP BY A.BOSEQ, C.NAME, NVL(C.JIKUK_TEL, JIKUK_HANDY), C.GIRO_NO, B.NEWSCD, A.READNO,                   B.GNO, B.HJDT, TRIM(B.HJPSNM), B.SGBGMM,                    NVL(TRIM(B.MOBILE1)||TRIM(B.MOBILE2)||TRIM(B.MOBILE3),TRIM(B.HOMETEL1)||TRIM(B.HOMETEL2)||TRIM(B.HOMETEL3)),                    TRIM(B.READNM), TRIM(B.DLVADRS1), TRIM(B.DLVADRS2), TRIM(B.DLVSTRNM), A.YYMM         ) X GROUP BY X.BOSEQ, X.NAME, X.JIKUK_TEL, X.GIRO_NO, X.NEWSCD, X.NEWSNM, X.READNO, X.GNO,                     X.HJDT, X.HJPSNM, X.SGBGMM, X.PHONE, X.CLAMLISTLY, X.CLAMLISTTY,                    X.BNO, X.READER_NO, X.READNM, X.ADDR, X.BILLQTY ORDER BY X.BOSEQ, X.NEWSCD, X.READNO, X.GNO, X.BNO
2011-11-30 14:31:56,651 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 281msec> Success to execute query.
2011-11-30 14:31:56,729 [http-w03 [container2-15]] DEBUG DataModule  - </output/visitBill.odi Set Name : SQL_1, 13rows, 78msec> data-binding complete.
2011-11-30 14:31:56,729 [http-w03 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:31:56,729 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:31:56,729 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:31:56,729 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:31:56,729 [http-w03 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:31:56,729 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [visitBill.odi]
2011-11-30 14:31:56,729 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:32:23,764 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:32:23,764 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:32:23,764 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:32:23,764 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:32:23,764 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:32:23,764 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:32:23,764 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:32:23,764 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:32:23,764 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:32:23,764 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:32:23,764 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG OZStream  - write Item zip size = 2059
2011-11-30 14:32:23,780 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:32:23,780 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:32:23,780 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/eachBill.odi
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - Rebuilding obj stream; /output/eachBill.odi
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:32:23,780 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - New objstream file was created
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG OZStream  - write Item size = 1210
2011-11-30 14:32:23,796 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:32:23,796 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:32:23,796 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:32:23,796 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [eachBill.odi, null]
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 14:32:23,796 [http-w03 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:32:23,796 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:32:23,796 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:32:23,905 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:32:23,905 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:32:23,905 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill> Query to run:SELECT BOSEQ, NAME,JIKUK_TEL,GIRO_NO,NEWSNM,READER_NO,READNM,ADDR,AMOUNT, HJDT,HJPSNM,
    	       SUBSTR(SGBGMM,1,4) || '-' || SUBSTR(SGBGMM,5,2) SGBGMM, PHONE,
   		CLAMLISTLY,CLAMLISTTY,LASTBILL,REMK,NOTI_G,NOTI_V,YYMM,READBAND1,READBAND
FROM TMP_BILL_PRT
WHERE BOSEQ = '512009'
2011-11-30 14:32:24,030 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 125msec> Success to execute query.
2011-11-30 14:32:24,139 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 28rows, 109msec> data-binding complete.
2011-11-30 14:32:24,139 [http-w03 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:32:24,139 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:32:24,139 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:32:24,139 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:32:24,139 [http-w03 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:32:24,139 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [eachBill.odi]
2011-11-30 14:32:24,139 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:33:00,661 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:33:00,661 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:33:00,661 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:33:00,661 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:33:00,661 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:33:00,661 [http-w03 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:33:00,661 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:33:00,661 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:33:00,661 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:33:00,661 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:33:00,661 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG OZStream  - write Item zip size = 2142
2011-11-30 14:33:00,677 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:33:00,677 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:33:00,677 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - obj stream itemID : /output/eachBill.odi
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/eachBill.odi
2011-11-30 14:33:00,677 [http-w03 [container2-15]] DEBUG OZStream  - write Item size = 1210
2011-11-30 14:33:00,677 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:33:00,692 [http-w03 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:33:00,692 [http-w03 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:33:00,692 [http-w03 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:33:00,693 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [eachBill.odi, null]
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 14:33:00,693 [http-w03 [container2-15]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:33:00,693 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:33:00,693 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:33:00,834 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:33:00,834 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:33:00,834 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill> Query to run:SELECT BOSEQ, NAME,JIKUK_TEL,GIRO_NO,NEWSNM,READER_NO,READNM,ADDR,AMOUNT, HJDT,HJPSNM,
    	       SUBSTR(SGBGMM,1,4) || '-' || SUBSTR(SGBGMM,5,2) SGBGMM, PHONE,
   		CLAMLISTLY,CLAMLISTTY,LASTBILL,REMK,NOTI_G,NOTI_V,YYMM,READBAND1,READBAND
FROM TMP_BILL_PRT
WHERE BOSEQ = '512009'
2011-11-30 14:33:00,990 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 156msec> Success to execute query.
2011-11-30 14:33:01,146 [http-w03 [container2-15]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 28rows, 156msec> data-binding complete.
2011-11-30 14:33:01,146 [http-w03 [container2-15]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:33:01,146 [http-w03 [container2-15]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:33:01,146 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:33:01,146 [http-w03 [container2-15]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:33:01,146 [http-w03 [container2-15]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:33:01,146 [http-w03 [container2-15]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [eachBill.odi]
2011-11-30 14:33:01,146 [http-w03 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:08,314 [http-w02 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:08,314 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:08,314 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:35:08,314 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:08,314 [http-w02 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:35:08,314 [http-w02 [container2-20]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:35:08,314 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:08,314 [http-w08 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:08,314 [http-w08 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:08,314 [http-w08 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:35:08,314 [http-w08 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:08,329 [http-w08 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:35:08,329 [http-w08 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:35:08,329 [http-w08 [container2-21]] DEBUG OZStream  - write Item zip size = 3687
2011-11-30 14:35:08,329 [http-w08 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:08,329 [http-w02 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:08,329 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:08,329 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:35:08,329 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:08,329 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:35:08,329 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:35:08,329 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-30 14:35:08,329 [http-w02 [container2-20]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-30 14:35:08,329 [http-w02 [container2-20]] DEBUG OZStream  - write Item size = 1119
2011-11-30 14:35:08,329 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:08,329 [http-w08 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:08,329 [http-w08 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:08,329 [http-w08 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:35:08,345 [http-w08 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:08,345 [http-w08 [container2-21]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:35:08,345 [http-w08 [container2-21]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-30 14:35:08,345 [http-w08 [container2-21]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:35:08,345 [http-w08 [container2-21]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:35:08,345 [http-w08 [container2-21]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:35:08,346 [http-w08 [container2-21]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:35:08,346 [http-w08 [container2-21]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:35:08,346 [http-w08 [container2-21]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:35:08,346 [http-w08 [container2-21]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:35:08,346 [http-w08 [container2-21]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:35:08,346 [http-w08 [container2-21]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:35:08,346 [http-w08 [container2-21]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:35:08,502 [http-w08 [container2-21]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:35:08,502 [http-w08 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:35:08,502 [http-w08 [container2-21]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-30 14:35:08,502 [http-w08 [container2-21]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR (GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR  (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-30 14:35:08,673 [http-w08 [container2-21]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 171msec> Success to execute query.
2011-11-30 14:35:12,152 [http-w08 [container2-21]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 388rows, 3479msec> data-binding complete.
2011-11-30 14:35:12,152 [http-w08 [container2-21]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:35:12,152 [http-w08 [container2-21]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:35:12,152 [http-w08 [container2-21]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:35:12,152 [http-w08 [container2-21]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:35:12,152 [http-w08 [container2-21]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:35:12,152 [http-w08 [container2-21]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-30 14:35:12,168 [http-w08 [container2-21]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-30 14:35:12,168 [http-w08 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:52,574 [http-w08 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:52,574 [http-w08 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:52,574 [http-w08 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:35:52,574 [http-w08 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:52,574 [http-w08 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:35:52,574 [http-w08 [container2-21]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:35:52,574 [http-w08 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:52,574 [http-w02 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:52,574 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:52,574 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:35:52,574 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:52,574 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:35:52,574 [http-w02 [container2-20]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:35:52,574 [http-w02 [container2-20]] DEBUG OZStream  - write Item zip size = 3555
2011-11-30 14:35:52,574 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:52,589 [http-w08 [container2-21]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:52,589 [http-w08 [container2-21]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:52,589 [http-w08 [container2-21]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:35:52,589 [http-w08 [container2-21]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:52,589 [http-w08 [container2-21]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:35:52,589 [http-w08 [container2-21]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:35:52,589 [http-w08 [container2-21]] DEBUG RepositoryAdapter  - obj stream itemID : /reader/deliveryList.odi
2011-11-30 14:35:52,589 [http-w08 [container2-21]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /reader/deliveryList.odi
2011-11-30 14:35:52,589 [http-w08 [container2-21]] DEBUG OZStream  - write Item size = 1119
2011-11-30 14:35:52,589 [http-w08 [container2-21]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:35:52,589 [http-w02 [container2-20]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:35:52,589 [http-w02 [container2-20]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:35:52,589 [http-w02 [container2-20]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [deliveryList.odi, null]
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:35:52,589 [http-w02 [container2-20]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:35:52,589 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:35:52,589 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:35:52,745 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:35:52,745 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:35:52,745 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Compiling script : string query;
query = "";

query = query + "  SELECT A.READNO,";
query = query + "         TRIM(A.READNM) READNM, ";
query = query + "         A.GNO, ";
query = query + "         A.BNO, ";
query = query + "         NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,";
query = query + "         B.YNAME NEWS,";
query = query + "         SUM(A.QTY) QTY,";
query = query + "         B.YNAME||':'||SUM(A.QTY) NEWSQTY";
query = query + "    FROM TM_READER_NEWS A,";
query = query + "         TC_COMMON B";
query = query + "   WHERE A.NEWSCD = B.CODE(+)";
query = query + "     AND B.CDCLSF(+) = '100'";
query = query + "     AND A.BOSEQ = " + #OZParam.userId#;
query = query + "     AND A.NEWSCD IN("+ #OZParam.newsCd# +") ";
query = query + "           " +  #OZParam.guyukSql#;
query = query + "     AND A.STDT IS NULL";
query = query + "     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO, ";
query = query + "              TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME ";
query = query + "   ORDER BY A.GNO, A.BNO, A.SNO";

setQueryString(query);
2011-11-30 14:35:52,745 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1> Query to run:  SELECT A.READNO,         TRIM(A.READNM) READNM,          A.GNO,          A.BNO,          NVL2(TRIM(A.DLVSTRNM),TRIM(A.DLVSTRNM)||' '||TRIM(A.DLVADRS2),TRIM(A.DLVADRS1)||' '||TRIM(A.DLVADRS2)) ADDR,         B.YNAME NEWS,         SUM(A.QTY) QTY,         B.YNAME||':'||SUM(A.QTY) NEWSQTY    FROM TM_READER_NEWS A,         TC_COMMON B   WHERE A.NEWSCD = B.CODE(+)     AND B.CDCLSF(+) = '100'     AND A.BOSEQ = '512009'     AND A.NEWSCD IN('100','')             AND ((GNO = '104' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('174', 3, '0') ) OR (GNO = '105' AND BNO BETWEEN LPAD('001', 3, '0')  AND LPAD('259', 3, '0') ) OR  (GNO = ''))      AND A.STDT IS NULL     GROUP BY A.READNO, TRIM(A.READNM), A.GNO, A.BNO, A.SNO,               TRIM(A.DLVADRS1), TRIM(A.DLVADRS2), TRIM(A.DLVSTRNM), B.YNAME    ORDER BY A.GNO, A.BNO, A.SNO
2011-11-30 14:35:52,886 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 141msec> Success to execute query.
2011-11-30 14:35:55,475 [http-w02 [container2-20]] DEBUG DataModule  - </reader/deliveryList.odi Set Name : SQL_1, 388rows, 2589msec> data-binding complete.
2011-11-30 14:35:55,475 [http-w02 [container2-20]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:35:55,475 [http-w02 [container2-20]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:35:55,475 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:35:55,475 [http-w02 [container2-20]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:35:55,475 [http-w02 [container2-20]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:35:55,475 [http-w02 [container2-20]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed: [deliveryList.odi]
2011-11-30 14:35:55,475 [http-w02 [container2-20]] DEBUG FrameworkRequestDataModule  - FrameworkRequestDataModule fetching process is completed
2011-11-30 14:35:55,475 [http-w02 [container2-20]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:38:33,477 [http-w01 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:38:33,477 [http-w01 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:38:33,477 [http-w01 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 14:38:33,477 [http-w01 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:38:33,477 [http-w01 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 14:38:33,477 [http-w01 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 14:38:33,477 [http-w01 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:38:33,477 [http-w00 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:38:33,477 [http-w00 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:38:33,477 [http-w00 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:38:33,477 [http-w00 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:38:33,492 [http-w00 [container2-12]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:38:33,492 [http-w00 [container2-12]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:38:33,492 [http-w00 [container2-12]] DEBUG OZStream  - write Item zip size = 2142
2011-11-30 14:38:33,492 [http-w00 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:38:33,492 [http-w01 [container2-14]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:38:33,492 [http-w01 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:38:33,492 [http-w01 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 14:38:33,492 [http-w01 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:38:33,492 [http-w01 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 14:38:33,492 [http-w01 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 14:38:33,492 [http-w01 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/eachBill.odi
2011-11-30 14:38:33,492 [http-w01 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/eachBill.odi
2011-11-30 14:38:33,492 [http-w01 [container2-14]] DEBUG OZStream  - write Item size = 1210
2011-11-30 14:38:33,492 [http-w01 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 14:38:33,509 [http-w00 [container2-12]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-11-30 14:38:33,509 [http-w00 [container2-12]] INFO  MessageHandler  - Start Message Handing
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 14:38:33,509 [http-w00 [container2-12]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [eachBill.odi, null]
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 14:38:33,509 [http-w00 [container2-12]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG DataModule  - </output/eachBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 14:38:33,509 [http-w00 [container2-12]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 14:38:33,509 [http-w00 [container2-12]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 14:38:33,665 [http-w00 [container2-12]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 14:38:33,665 [http-w00 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 14:38:33,665 [http-w00 [container2-12]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill> Query to run:SELECT BOSEQ, NAME,JIKUK_TEL,GIRO_NO,NEWSNM,READER_NO,READNM,ADDR,AMOUNT, HJDT,HJPSNM,
    	       SUBSTR(SGBGMM,1,4) || '-' || SUBSTR(SGBGMM,5,2) SGBGMM, PHONE,
   		CLAMLISTLY,CLAMLISTTY,LASTBILL,REMK,NOTI_G,NOTI_V,YYMM,READBAND1,READBAND
FROM TMP_BILL_PRT
WHERE BOSEQ = '512003'
2011-11-30 14:38:33,868 [http-w00 [container2-12]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 203msec> Success to execute query.
2011-11-30 14:38:33,868 [http-w00 [container2-12]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 0rows, 0msec> data-binding complete.
2011-11-30 14:38:33,868 [http-w00 [container2-12]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 14:38:33,868 [http-w00 [container2-12]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 14:38:33,868 [http-w00 [container2-12]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 14:38:33,868 [http-w00 [container2-12]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 14:38:33,868 [http-w00 [container2-12]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 14:38:33,868 [http-w00 [container2-12]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [eachBill.odi]
2011-11-30 14:38:33,868 [http-w00 [container2-12]] INFO  MessageHandler  - End Message Handing
2011-11-30 15:08:20,069 [JMXMP-1 [container2-23]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-30 15:08:20,069 [JMXMP-1 [container2-23]] INFO  ConnectionPool  - Start release pool...
2011-11-30 15:08:20,084 [JMXMP-1 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 15:08:20,084 [JMXMP-1 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 15:08:20,084 [JMXMP-1 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 15:08:20,084 [JMXMP-1 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 15:08:20,084 [JMXMP-1 [container2-23]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 15:08:20,084 [JMXMP-1 [container2-23]] INFO  ConnectionPool  - End release pool.
2011-11-30 15:08:20,521 [JMXMP-1 [container2-23]] INFO  server  - Released all resources
2011-11-30 15:08:20,521 [JMXMP-1 [container2-23]] INFO  server  - Fine.
2011-11-30 17:05:51,178 [http-w06 [container2-13]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-11-30 17:05:51,178 [http-w06 [container2-13]] INFO  server  - Set XML parser properties.
2011-11-30 17:05:51,178 [http-w06 [container2-13]] INFO  XML-License-Loader  - [.xml] loader
2011-11-30 17:05:51,178 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 17:05:51,178 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 17:05:51,256 [http-w06 [container2-13]] INFO  resource  - Start initialize OZ
2011-11-30 17:05:51,256 [http-w06 [container2-13]] DEBUG resource  - Send mail function is not activated.
2011-11-30 17:05:51,256 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 17:05:51,256 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 17:05:51,256 [http-w06 [container2-13]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-11-30 17:05:51,256 [http-w06 [container2-13]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-11-30 17:05:51,256 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-11-30 17:05:51,256 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-11-30 17:05:51,303 [http-w06 [container2-13]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-11-30 17:05:51,303 [http-w06 [container2-13]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-11-30 17:05:51,303 [http-w06 [container2-13]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-11-30 17:05:51,303 [http-w06 [container2-13]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-11-30 17:05:51,303 [http-w06 [container2-13]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-11-30 17:05:51,303 [http-w06 [container2-13]] INFO  ConnectionPool  - Start initialize...
2011-11-30 17:05:51,303 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-11-30 17:05:51,318 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-11-30 17:05:51,318 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 17:05:51,318 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 17:05:51,646 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 17:05:51,646 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 17:05:51,646 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 17:05:51,755 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 17:05:51,755 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 17:05:51,755 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 17:05:51,864 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 17:05:51,864 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 17:05:51,864 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 17:05:51,989 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 17:05:51,989 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-11-30 17:05:51,989 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-11-30 17:05:52,098 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-11-30 17:05:52,098 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 17:05:52,098 [http-w06 [container2-13]] INFO  ConnectionPool  - End initialize.
2011-11-30 17:05:52,130 [http-w06 [container2-13]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-11-30 17:05:52,146 [http-w06 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-11-30 17:05:52,146 [http-w06 [container2-13]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-11-30 17:05:52,162 [http-w06 [container2-13]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-11-30 17:05:52,162 [http-w06 [container2-13]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-11-30 17:05:52,162 [http-w06 [container2-13]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-11-30 17:05:52,177 [http-w06 [container2-13]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-11-30 17:05:52,177 [http-w06 [container2-13]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-11-30 17:05:52,177 [http-w06 [container2-13]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-11-30 17:05:52,177 [http-w06 [container2-13]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-11-30 17:05:52,177 [http-w06 [container2-13]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-11-30 17:05:52,193 [http-w06 [container2-13]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-11-30 17:05:52,193 [http-w06 [container2-13]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-11-30 17:05:52,193 [http-w06 [container2-13]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-11-30 17:05:52,193 [http-w06 [container2-13]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-11-30 17:05:52,193 [http-w06 [container2-13]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-11-30 17:05:52,193 [http-w06 [container2-13]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-11-30 17:05:52,193 [http-w06 [container2-13]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-11-30 17:05:52,193 [http-w06 [container2-13]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-11-30 17:05:52,193 [http-w06 [container2-13]] DEBUG resource  - java script init loading.
2011-11-30 17:05:52,286 [http-w06 [container2-13]] INFO  resource  - Loading REPORT frameworks ....
2011-11-30 17:05:52,411 [http-w06 [container2-13]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-11-30 17:05:52,411 [http-w06 [container2-13]] DEBUG server  - OS Name            : Windows 7
2011-11-30 17:05:52,411 [http-w06 [container2-13]] DEBUG server  - OS Version         : 6.1
2011-11-30 17:05:52,411 [http-w06 [container2-13]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-11-30 17:05:52,411 [http-w06 [container2-13]] DEBUG server  - Java Version       : 1.6.0_27
2011-11-30 17:05:52,411 [http-w06 [container2-13]] DEBUG server  - Hostname           : ADMIN-PC
2011-11-30 17:05:52,411 [http-w06 [container2-13]] DEBUG server  - CPU Count          : 8
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -   OZ Version Info.
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -    OZ Common Protocol
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -       Protocol              : 2007
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -    OZ DataModule
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -       Streaming Protocol    : 2040
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  -   ------------------------------------------------  
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  - 
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  - This product includes Hypersonic SQL.
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  - 
2011-11-30 17:05:52,411 [http-w06 [container2-13]] INFO  server  - OZ Servlet is ready up.
2011-11-30 17:05:52,427 [http-w06 [container2-13]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:05:52,427 [http-w06 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:05:52,427 [http-w06 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 17:05:52,427 [http-w06 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:05:52,427 [http-w06 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 17:05:52,427 [http-w06 [container2-13]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 17:05:52,442 [http-w06 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:05:52,442 [http-w08 [container2-14]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:05:52,442 [http-w08 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:05:52,442 [http-w08 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 17:05:52,442 [http-w08 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:05:52,442 [http-w08 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 17:05:52,442 [http-w08 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 17:05:52,442 [http-w08 [container2-14]] DEBUG OZStream  - write Item zip size = 2142
2011-11-30 17:05:52,442 [http-w08 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:05:52,458 [http-w06 [container2-13]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:05:52,458 [http-w06 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:05:52,458 [http-w06 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 17:05:52,458 [http-w06 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:05:52,458 [http-w06 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 17:05:52,458 [http-w06 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 17:05:52,458 [http-w06 [container2-13]] DEBUG RepositoryAdapter  - obj stream itemID : /output/eachBill.odi
2011-11-30 17:05:52,458 [http-w06 [container2-13]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/eachBill.odi
2011-11-30 17:05:52,458 [http-w06 [container2-13]] DEBUG OZStream  - write Item size = 1210
2011-11-30 17:05:52,458 [http-w06 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:05:52,458 [http-w08 [container2-14]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:05:52,458 [http-w08 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:05:52,458 [http-w08 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 17:05:52,474 [http-w08 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:05:52,474 [http-w08 [container2-14]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 17:05:52,474 [http-w08 [container2-14]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [eachBill.odi, null]
2011-11-30 17:05:52,474 [http-w08 [container2-14]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 17:05:52,489 [http-w08 [container2-14]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 17:05:52,489 [http-w08 [container2-14]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 17:05:52,505 [http-w08 [container2-14]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 17:05:52,520 [http-w08 [container2-14]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 17:05:52,520 [http-w08 [container2-14]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 17:05:52,552 [http-w08 [container2-14]] DEBUG DataModule  - </output/eachBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 17:05:52,552 [http-w08 [container2-14]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 17:05:52,552 [http-w08 [container2-14]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 17:05:52,552 [http-w08 [container2-14]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 17:05:52,598 [http-w08 [container2-14]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 17:05:52,630 [http-w08 [container2-14]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 17:05:52,630 [http-w08 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 17:05:52,630 [http-w08 [container2-14]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill> Query to run:SELECT BOSEQ, NAME,JIKUK_TEL,GIRO_NO,NEWSNM,READER_NO,READNM,ADDR,AMOUNT, HJDT,HJPSNM,
    	       SUBSTR(SGBGMM,1,4) || '-' || SUBSTR(SGBGMM,5,2) SGBGMM, PHONE,
   		CLAMLISTLY,CLAMLISTTY,LASTBILL,REMK,NOTI_G,NOTI_V,YYMM,READBAND1,READBAND
FROM TMP_BILL_PRT
WHERE BOSEQ = '512009'
2011-11-30 17:05:52,661 [http-w08 [container2-14]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 31msec> Success to execute query.
2011-11-30 17:05:52,692 [http-w08 [container2-14]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 28rows, 31msec> data-binding complete.
2011-11-30 17:05:52,692 [http-w08 [container2-14]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 17:05:52,692 [http-w08 [container2-14]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 17:05:52,692 [http-w08 [container2-14]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 17:05:52,692 [http-w08 [container2-14]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 17:05:52,692 [http-w08 [container2-14]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 17:05:52,692 [http-w08 [container2-14]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [eachBill.odi]
2011-11-30 17:05:52,692 [http-w08 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:06:02,114 [http-w08 [container2-14]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:06:02,114 [http-w08 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:06:02,114 [http-w08 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-11-30 17:06:02,114 [http-w08 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:06:02,114 [http-w08 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-11-30 17:06:02,114 [http-w08 [container2-14]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-11-30 17:06:02,114 [http-w08 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:06:02,114 [http-w06 [container2-13]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:06:02,114 [http-w06 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:06:02,114 [http-w06 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 17:06:02,114 [http-w06 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:06:02,130 [http-w06 [container2-13]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 17:06:02,130 [http-w06 [container2-13]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 17:06:02,130 [http-w06 [container2-13]] DEBUG OZStream  - write Item zip size = 2059
2011-11-30 17:06:02,130 [http-w06 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:06:02,147 [http-w08 [container2-14]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:06:02,147 [http-w08 [container2-14]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:06:02,147 [http-w08 [container2-14]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-11-30 17:06:02,147 [http-w08 [container2-14]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:06:02,147 [http-w08 [container2-14]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-11-30 17:06:02,147 [http-w08 [container2-14]] DEBUG OZRepositoryRequestItem  - Function Type [256 : ACCESS_GET_ITEMS]
2011-11-30 17:06:02,147 [http-w08 [container2-14]] DEBUG RepositoryAdapter  - obj stream itemID : /output/eachBill.odi
2011-11-30 17:06:02,147 [http-w08 [container2-14]] DEBUG RepositoryAdapter  - Cached obj stream is valid; /output/eachBill.odi
2011-11-30 17:06:02,147 [http-w08 [container2-14]] DEBUG OZStream  - write Item size = 1210
2011-11-30 17:06:02,147 [http-w08 [container2-14]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:06:02,147 [http-w06 [container2-13]] INFO  server  - client IP:[ 127.0.0.1] A handler is started. Active handler count is 1
2011-11-30 17:06:02,147 [http-w06 [container2-13]] INFO  MessageHandler  - Start Message Handing
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestDataModule]
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG FrameworkRequestDataModule  - Reading Message is successfully completed
2011-11-30 17:06:02,147 [http-w06 [container2-13]] INFO  FrameworkRequestDataModule  - fetch DataModule start: [eachBill.odi, null]
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG FrameworkRequestDataModule  - Function Type [ GET_DATAMODULE ]
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - try to get SAX10_SUN parser factory...
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.SAXParserFactoryImpl).newInstance()
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG DataModule  - TargetDB=OZDBSTORE
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG FrameworkRequestDataModule  - CONCURRENT_FETCH_SIZE :4096
2011-11-30 17:06:02,147 [http-w06 [container2-13]] INFO  DataModule  - Start Datamodule-Binding.
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG DataModule  - </output/eachBill.odi Set Name : OZParam> data-binding complete.
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG StoredPool  - Request for connection has alias 'mkcrm'
2011-11-30 17:06:02,147 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Request for connection received.
2011-11-30 17:06:02,147 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - Pooled Connection checking
2011-11-30 17:06:02,162 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - executing test query for pooled connection
2011-11-30 17:06:02,162 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - Delivered connection from pool []
2011-11-30 17:06:02,162 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 4 Checked-out: 1
2011-11-30 17:06:02,162 [http-w06 [container2-13]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill> Query to run:SELECT BOSEQ, NAME,JIKUK_TEL,GIRO_NO,NEWSNM,READER_NO,READNM,ADDR,AMOUNT, HJDT,HJPSNM,
    	       SUBSTR(SGBGMM,1,4) || '-' || SUBSTR(SGBGMM,5,2) SGBGMM, PHONE,
   		CLAMLISTLY,CLAMLISTTY,LASTBILL,REMK,NOTI_G,NOTI_V,YYMM,READBAND1,READBAND
FROM TMP_BILL_PRT
WHERE BOSEQ = '512009'
2011-11-30 17:06:02,162 [http-w06 [container2-13]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 0msec> Success to execute query.
2011-11-30 17:06:02,178 [http-w06 [container2-13]] DEBUG DataModule  - </output/eachBill.odi Set Name : eachBill, 28rows, 16msec> data-binding complete.
2011-11-30 17:06:02,178 [http-w06 [container2-13]] INFO  DataModule  - Datamodule-Binding Complete.
2011-11-30 17:06:02,178 [http-w06 [container2-13]] INFO  ConnectionPool-mkcrm  - Start free a connection. []
2011-11-30 17:06:02,178 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - Returned connection to pool
2011-11-30 17:06:02,178 [http-w06 [container2-13]] DEBUG ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-11-30 17:06:02,178 [http-w06 [container2-13]] DEBUG StoredPool  - removed item from pool [ size : 0 ]
2011-11-30 17:06:02,178 [http-w06 [container2-13]] INFO  FrameworkRequestDataModule  - Making DataModule is successfully completed [eachBill.odi]
2011-11-30 17:06:02,178 [http-w06 [container2-13]] INFO  MessageHandler  - End Message Handing
2011-11-30 17:25:50,954 [JMXMP-10 [container2-15]] INFO  server  - Stopping OZ Servlet ..... 
2011-11-30 17:25:50,954 [JMXMP-10 [container2-15]] INFO  ConnectionPool  - Start release pool...
2011-11-30 17:25:50,969 [JMXMP-10 [container2-15]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 17:25:50,969 [JMXMP-10 [container2-15]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 17:25:50,969 [JMXMP-10 [container2-15]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 17:25:50,969 [JMXMP-10 [container2-15]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 17:25:50,969 [JMXMP-10 [container2-15]] WARN  ConnectionPool-mkcrm  - Couldn't close connection.
java.sql.SQLException: IO 예외 상황: Connection reset by peer: socket write error
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:112)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:146)
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:255)
	at oracle.jdbc.driver.T4CConnection.logoff(T4CConnection.java:480)
	at oracle.jdbc.driver.PhysicalConnection.close(PhysicalConnection.java:1184)
	at oz.framework.db.cozbr.a(DashoA12957:735)
	at oz.framework.db.cozbr.e(DashoA12957:371)
	at oz.framework.db.PoolManager.release(DashoA12957:366)
	at oz.server.ResourceManager.release(DashoA12957:266)
	at oz.server.OZServlet.b(DashoA12957:1543)
	at oz.server.OZServlet.destroy(DashoA12957:91)
	at jeus.servlet.loader.ServletReloader.doDestroyInstance(ServletReloader.java:90)
	at jeus.servlet.loader.PrivateReloader.destroyInstance(PrivateReloader.java:271)
	at jeus.servlet.loader.PrivateReloader.destroy(PrivateReloader.java:300)
	at jeus.servlet.loader.ContextLoader.removeServlet(ContextLoader.java:799)
	at jeus.servlet.engine.ServletManager.removeServlet(ServletManager.java:821)
	at jeus.servlet.engine.ServletManager.terminateServlets(ServletManager.java:852)
	at jeus.servlet.engine.ServletManager.destroy(ServletManager.java:1231)
	at jeus.servlet.engine.Context.doStop(Context.java:1847)
	at jeus.servlet.engine.Context.execTerminate(Context.java:1124)
	at jeus.servlet.engine.ContextGroup.undeployContext(ContextGroup.java:1212)
	at jeus.servlet.common.WebContainerControlImpl.undeployContext(WebContainerControlImpl.java:881)
	at jeus.management.j2ee.servlet.WebEngineMo.undeployContext(WebEngineMo.java:209)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy38.undeployContext(Unknown Source)
	at jeus.management.j2ee.WebModule.executeUnDeploy(WebModule.java:881)
	at jeus.management.j2ee.WebModule.undeployInternal(WebModule.java:252)
	at jeus.management.j2ee.J2EEDeployedObject.doUndeploy(J2EEDeployedObject.java:379)
	at jeus.management.j2ee.J2EEDeployedObject.undeploy(J2EEDeployedObject.java:339)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at javax.management.MBeanServerInvocationHandler.invoke(MBeanServerInvocationHandler.java:288)
	at $Proxy37.undeploy(Unknown Source)
	at jeus.server.enginecontainer.EngineContainer.shutdownApplications(EngineContainer.java:725)
	at jeus.server.enginecontainer.EngineContainer.down(EngineContainer.java:938)
	at jeus.management.j2ee.J2EEServer.down(J2EEServer.java:294)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:93)
	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:27)
	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:208)
	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:120)
	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:262)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)
	at jeus.management.JeusMBeanServerAccessController.invoke(JeusMBeanServerAccessController.java:681)
	at javax.management.remote.generic.ServerIntermediary.handleRequest(ServerIntermediary.java:270)
	at javax.management.remote.generic.ServerIntermediary$PrivilegedRequestJob.run(ServerIntermediary.java:941)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.handleMBSReqMessage(ServerIntermediary.java:717)
	at javax.management.remote.generic.ServerIntermediary$RequestHandler.execute(ServerIntermediary.java:619)
	at jeus.management.remote.generic.ServerSynchroMessageNonblockingConnectionImpl.readMessage(ServerSynchroMessageNonblockingConnectionImpl.java:168)
	at jeus.management.remote.jeusmp.SocketNonblockingConnection$1.run(SocketNonblockingConnection.java:448)
	at jeus.util.StatisticThreadPoolExecutor$StatisticRunnable.run(StatisticThreadPoolExecutor.java:119)
	at jeus.util.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:981)
	at jeus.util.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:1017)
	at java.lang.Thread.run(Thread.java:662)
2011-11-30 17:25:50,969 [JMXMP-10 [container2-15]] INFO  ConnectionPool  - End release pool.
2011-11-30 17:25:51,437 [JMXMP-10 [container2-15]] INFO  server  - Released all resources
2011-11-30 17:25:51,437 [JMXMP-10 [container2-15]] INFO  server  - Fine.
2011-12-08 16:48:39,781 [http-w07 [container2-15]] INFO  Log-Manager  - - Loging START ----------------------------------
2011-12-08 16:48:39,796 [http-w07 [container2-15]] INFO  server  - Set XML parser properties.
2011-12-08 16:48:39,796 [http-w07 [container2-15]] INFO  XML-License-Loader  - [.xml] loader
2011-12-08 16:48:39,796 [http-w07 [container2-15]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-12-08 16:48:39,796 [http-w07 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-12-08 16:48:39,890 [http-w07 [container2-15]] INFO  resource  - Start initialize OZ
2011-12-08 16:48:39,890 [http-w07 [container2-15]] DEBUG resource  - Send mail function is not activated.
2011-12-08 16:48:39,890 [http-w07 [container2-15]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-12-08 16:48:39,890 [http-w07 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-12-08 16:48:39,890 [http-w07 [container2-15]] INFO  OZItemEncryptionManager  - Cannot find product key file
2011-12-08 16:48:39,906 [http-w07 [container2-15]] INFO  OZDBConfigManager  - Loading dbconfig.xml
2011-12-08 16:48:39,906 [http-w07 [container2-15]] DEBUG XML-Parser-Configurator  - try to get DOM10_SUN parser factory...
2011-12-08 16:48:39,906 [http-w07 [container2-15]] DEBUG XML-Parser-Configurator  - Class.forName(com.sun.xml.parser.DocumentBuilderFactoryImpl).newInstance()
2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ORACLE
                 Driver Format : oracle.jdbc.driver.OracleDriver
                 Key Format    : ORACLE^{user}^{serverAddress}^{portNo}^{sid}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], sid=[key=sid,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATE}
                 Support Fun.  : true
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY/@MM/@DD @hh:@mm:@ss', 'YYYY/MM/DD hh24:mi:ss'), LIKE_DELEMETER=%, LIKE_QUERY=like}

2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL
                 Driver Format : com.microsoft.jdbc.sqlserver.SQLServerDriver
                 Key Format    : MSSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2005
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2005^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-12-08 16:48:39,937 [http-w07 [container2-15]] WARN  OZDBConfigManager  - [MSSQL2005_MARS] DRIVER is null.
2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MSSQL2008
                 Driver Format : com.microsoft.sqlserver.jdbc.SQLServerDriver
                 Key Format    : MSSQL2008^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZMSSQLHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CAST('@YYYY.@MM.@DD @hh:@mm:@ss' AS DATETIME)}

2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : DB2
                 Driver Format : COM.ibm.db2.jdbc.net.DB2Driver
                 Key Format    : DB2^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {DATE=TIMESTAMP}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=TO_DATE('@YYYY-@MM-@DD @hh:@mm:@ss', 'YYYY-MM-DD HH24:MI:SS')}

2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : ODBC
                 Driver Format : sun.jdbc.odbc.JdbcOdbcDriver
                 Key Format    : ODBC^{user}^{dsn}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : INFORMIX
                 Driver Format : com.informix.jdbc.IfxDriver
                 Key Format    : INFORMIX^{user}^{serverAddress}^{portNo}^{serverName}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], serverName=[key=serverName,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-12-08 16:48:39,937 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : SYBASE
                 Driver Format : com.sybase.jdbc2.jdbc.SybDriver
                 Key Format    : SYBASE^{user}^{dsn}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false], dsn=[key=dsn,useProperty=false]}
                 FieldTypeConv : {DATE=DATETIME}
                 Support Fun.  : false
                 AddInfo       : {DATE_EXPRESSION=CONVERT(DATETIME, '@YYYY.@MM.@DD @hh:@mm:@ss')}

2011-12-08 16:48:39,952 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : UNISQL
                 Driver Format : unisql.jdbc.driver.UniSQLDriver
                 Key Format    : UNISQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-12-08 16:48:39,952 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : MYSQL
                 Driver Format : com.mysql.jdbc.Driver
                 Key Format    : MYSQL^{user}^{serverAddress}^{portNo}^{dbName}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], dbName=[key=dbName,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-12-08 16:48:39,952 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : USER
                 Driver Format : {driver}
                 Key Format    : USER^{user}^{driver}^{url}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {driver=[key=driver,useProperty=false], url=[key=url,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : false
                 AddInfo       : {}

2011-12-08 16:48:39,952 [http-w07 [container2-15]] WARN  OZDBConfigManager  - [MSSQL-OLEDB] DRIVER is null.
2011-12-08 16:48:39,952 [http-w07 [container2-15]] WARN  OZDBConfigManager  - [ORACLE-OLEDB] DRIVER is null.
2011-12-08 16:48:39,952 [http-w07 [container2-15]] WARN  OZDBConfigManager  - [SYBASE-OLEDB] DRIVER is null.
2011-12-08 16:48:39,952 [http-w07 [container2-15]] WARN  OZDBConfigManager  - [DB2-OLEDB] DRIVER is null.
2011-12-08 16:48:39,952 [http-w07 [container2-15]] WARN  OZDBConfigManager  - [INFORMIX-OLEDB] DRIVER is null.
2011-12-08 16:48:39,952 [http-w07 [container2-15]] DEBUG OZDBConfigManager  - 
          Vendor Name          : TIBERO
                 Driver Format : com.tmax.tibero.jdbc.TbDriver
                 Key Format    : TIBERO^{user}^{serverAddress}^{portNo}
                 HandlerClass  : com.forcs.db.OZGeneralHandler
                 ParamFlag     : ?
                 ITEMS         : {portNo=[key=portNo,useProperty=false], serverAddress=[key=serverAddress,useProperty=false]}
                 FieldTypeConv : {}
                 Support Fun.  : true
                 AddInfo       : {}

2011-12-08 16:48:39,952 [http-w07 [container2-15]] INFO  ConnectionPool  - Start initialize...
2011-12-08 16:48:39,952 [http-w07 [container2-15]] INFO  ConnectionPool-mkcrm  - Loading properties is done.
2011-12-08 16:48:39,968 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - loading driver: 'oracle.jdbc.driver.OracleDriver'
2011-12-08 16:48:39,968 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-12-08 16:48:39,968 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-12-08 16:48:40,280 [http-w07 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-12-08 16:48:40,280 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-12-08 16:48:40,280 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-12-08 16:48:40,389 [http-w07 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-12-08 16:48:40,389 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-12-08 16:48:40,389 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-12-08 16:48:40,514 [http-w07 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-12-08 16:48:40,514 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-12-08 16:48:40,514 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-12-08 16:48:40,623 [http-w07 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-12-08 16:48:40,623 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - newConnectionByURL.... url: jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(HOST=218.144.58.97)(PROTOCOL=tcp)(PORT=1521))(CONNECT_DATA=(SID=NBSERP)))
2011-12-08 16:48:40,623 [http-w07 [container2-15]] DEBUG ConnectionPool-mkcrm  - oracle.jdbc.driver.OracleDriver is acceptsURL :true
2011-12-08 16:48:40,780 [http-w07 [container2-15]] INFO  ConnectionPool-mkcrm  - Opened a new connection by URL.
2011-12-08 16:48:40,780 [http-w07 [container2-15]] INFO  ConnectionPool-mkcrm  - Total connections: 5 Available: 5 Checked-out: 0
2011-12-08 16:48:40,780 [http-w07 [container2-15]] INFO  ConnectionPool  - End initialize.
2011-12-08 16:48:40,858 [http-w07 [container2-15]] DEBUG RepositoryAdapter  - Repository Manager init...
2011-12-08 16:48:40,905 [http-w07 [container2-15]] DEBUG LocalRepositoryAdapter  - Repository Root path is C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/repository_files/
2011-12-08 16:48:40,905 [http-w07 [container2-15]] DEBUG LocalRepositoryAdapter  - Repository Temp directory: 'C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/temp' 
2011-12-08 16:48:40,952 [http-w07 [container2-15]] DEBUG DataBindInfo  - ConcurrentFetchSize : 4096byte.
2011-12-08 16:48:40,952 [http-w07 [container2-15]] DEBUG DataBindInfo  - ConcurrentFirstRow : 0row.
2011-12-08 16:48:40,952 [http-w07 [container2-15]] DEBUG DataBindInfo  - Numeric/Decimal Type zero display  : default
2011-12-08 16:48:40,952 [http-w07 [container2-15]] DEBUG SAPClientManager  - oz.sap.jco.OZSAPClientManager class loading error : oz.sap.jco.OZSAPClientManager
2011-12-08 16:48:40,967 [http-w07 [container2-15]] DEBUG monitor  - monitor log time pattern : yyyy-MM-dd HH:mm:ss.SSS
2011-12-08 16:48:40,983 [http-w07 [container2-15]] DEBUG securitypolicy  - guest session key is null. guest users http session does not checked.
2011-12-08 16:48:40,983 [http-w07 [container2-15]] DEBUG securitypolicy  - show browser secure level attribute not exist. show browser secure level is middle
2011-12-08 16:48:40,983 [http-w07 [container2-15]] WARN  Main-Configuration  - Can't find 'path.clientinfo.properties.file'. So use default value '%OZ_HOME%/conf/clientlist.xml'
2011-12-08 16:48:40,983 [http-w07 [container2-15]] INFO  OZClientInfoManager  - Loading clientlist.xml...
2011-12-08 16:48:40,983 [http-w07 [container2-15]] WARN  OZClientInfoManager  - clientlist.xml is not found. client info check is not used
2011-12-08 16:48:40,983 [http-w07 [container2-15]] INFO  udl  - Disable OZ_USER_DEFINED_LOG oz user defined log service.
2011-12-08 16:48:40,983 [http-w07 [container2-15]] INFO  udl  - Disable OZ_UDL_MONITOR oz user defined log service.
2011-12-08 16:48:40,983 [http-w07 [container2-15]] INFO  DataSourceManager  - Loading data source properties from C:/MK_Reader/workspace/MK_Reader/oz51/WEB-INF/conf/datasource.properties
2011-12-08 16:48:40,999 [http-w07 [container2-15]] WARN  Main-Configuration  - Can't find 'path.externalmodule.properties.file'. So use default value '%OZ_HOME%/conf/external.properties'
2011-12-08 16:48:40,999 [http-w07 [container2-15]] INFO  ExternalModuleManager  - Loading external module properties from C:\MK_Reader\workspace\MK_Reader\oz51\WEB-INF/conf/external.properties
2011-12-08 16:48:40,999 [http-w07 [container2-15]] INFO  ExternalModuleManager  - External module file is not found. Loading process is excluded. 
2011-12-08 16:48:40,999 [http-w07 [container2-15]] DEBUG resource  - java script init loading.
2011-12-08 16:48:41,108 [http-w07 [container2-15]] INFO  resource  - Loading REPORT frameworks ....
2011-12-08 16:48:41,233 [http-w07 [container2-15]] DEBUG resource  - Registered 42 frameworks for REPORT
2011-12-08 16:48:41,233 [http-w07 [container2-15]] DEBUG server  - OS Name            : Windows 7
2011-12-08 16:48:41,233 [http-w07 [container2-15]] DEBUG server  - OS Version         : 6.1
2011-12-08 16:48:41,233 [http-w07 [container2-15]] DEBUG server  - Java Vendor        : Sun Microsystems Inc.
2011-12-08 16:48:41,233 [http-w07 [container2-15]] DEBUG server  - Java Version       : 1.6.0_27
2011-12-08 16:48:41,233 [http-w07 [container2-15]] DEBUG server  - Hostname           : ADMIN-PC
2011-12-08 16:48:41,233 [http-w07 [container2-15]] DEBUG server  - CPU Count          : 8
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -   ------------------------------------------------  
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -   OZ Version Info.
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -    OZ Server                : 5.1.0101.20111011 17:24.184
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -   ------------------------------------------------  
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -    OZ Common Protocol
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -       Protocol              : 2007
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -    OZ DataModule
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -       Streaming Protocol    : 2040
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  -   ------------------------------------------------  
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  - 
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  - This product includes Hypersonic SQL.
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  - 
2011-12-08 16:48:41,233 [http-w07 [container2-15]] INFO  server  - OZ Servlet is ready up.
2011-12-08 16:48:41,248 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:41,248 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:41,248 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestUSL]
2011-12-08 16:48:41,264 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:41,264 [http-w07 [container2-15]] DEBUG FrameworkRequestUSL  - Reading Message is successfully completed
2011-12-08 16:48:41,264 [http-w07 [container2-15]] DEBUG FrameworkRequestUSL  - Function Type [900 : GET_USL]
2011-12-08 16:48:41,264 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:41,264 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:41,264 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:41,264 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repository.OZRepositoryRequestUserLogin]
2011-12-08 16:48:41,264 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:41,264 [http-w07 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Reading Message is successfully completed
2011-12-08 16:48:41,264 [http-w07 [container2-15]] DEBUG OZRepositoryRequestUserLogin  - Function Type [176 : LOGIN_TO_SERVER]
2011-12-08 16:48:41,264 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG OZRepositoryRequestUser  - Function Type [256 : ACCESS_GET_IS_CHECK_ADMIN]
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestUser]
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG OZRepositoryRequestUser  - Reading Message is successfully completed
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG OZRepositoryRequestUser  - Function Type [64 : ACCESS_CHECK_USER_PWD]
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:41,279 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:41,279 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:41,295 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-12-08 16:48:41,295 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:42,730 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:42,730 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:42,730 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-12-08 16:48:42,730 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:42,730 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-12-08 16:48:42,730 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-12-08 16:48:42,746 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:42,762 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:42,762 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:42,762 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-12-08 16:48:42,762 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:42,762 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-12-08 16:48:42,762 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-12-08 16:48:42,762 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:45,383 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:45,399 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:45,399 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:45,399 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:45,399 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:45,399 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-12-08 16:48:45,399 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:45,399 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:45,399 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:45,399 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-12-08 16:48:45,399 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:45,414 [http-w07 [container2-15]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-12-08 16:48:45,414 [http-w07 [container2-15]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-12-08 16:48:45,414 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,398 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,398 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,398 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:46,414 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,414 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:46,414 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-12-08 16:48:46,414 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,414 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,414 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,414 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:46,414 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,414 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:46,429 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-12-08 16:48:46,429 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,429 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,429 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,429 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,429 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,445 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,445 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-12-08 16:48:46,445 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,445 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,445 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,445 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,445 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,445 [http-w07 [container2-15]] DEBUG OZStream  - read Item size = 1917
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:46,477 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-12-08 16:48:46,477 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZStream  - read Item size = 4894
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [1 : ACCESS_CREATE_ITEM]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,493 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-12-08 16:48:46,493 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,508 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-12-08 16:48:46,508 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [131072 : ACCESS_TYPE_GET_CATEGORYLIST_AUTH_TO_USER_IN_CATEGORY]
2011-12-08 16:48:46,508 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:46,508 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:46,508 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:46,508 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestAuth]
2011-12-08 16:48:46,508 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:46,508 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Reading Message is successfully completed
2011-12-08 16:48:46,508 [http-w07 [container2-15]] DEBUG OZRepositoryRequestAuth  - Function Type [2048 : ACCESS_TYPE_GET_ITEMLIST_AUTH_TO_USER_IN_CATEGORY]
2011-12-08 16:48:46,508 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:49,207 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:49,207 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:49,223 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:49,223 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:49,223 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:49,223 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-12-08 16:48:49,223 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:49,223 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:49,223 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:49,223 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.FrameworkRequestRepository]
2011-12-08 16:48:49,223 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:49,238 [http-w07 [container2-15]] DEBUG FrameworkRequestRepository  - Reading Message is successfully completed
2011-12-08 16:48:49,238 [http-w07 [container2-15]] DEBUG FrameworkRequestRepository  - Function Type [703 : GET_REPOSITORY_TYPE]
2011-12-08 16:48:49,238 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,129 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,129 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,129 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:50,129 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,129 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [512 : ACCESS_GET_CATEGORY_INFO]
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,144 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,144 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG OZStream  - read Item size = 1181
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,160 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,160 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,175 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,175 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZStream  - read Item size = 2086
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,191 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,191 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZStream  - read Item size = 2137
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [1024 : ACCESS_CHECKIN_ITEM]
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,207 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,207 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [4096 : ACCESS_IS_CHECKOUT_USER]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestCategory]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Reading Message is successfully completed
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestCategory  - Function Type [2 : ACCESS_CREATE_CATEGORY]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [32 : ACCESS_HAS_THE_ITEM]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,222 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
2011-12-08 16:48:50,222 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Function Type [64 : ACCESS_GET_ITEM_INFO]
2011-12-08 16:48:50,238 [http-w07 [container2-15]] INFO  MessageHandler  - End Message Handing
2011-12-08 16:48:50,238 [http-w07 [container2-15]] INFO  server  - client IP:[ 0:0:0:0:0:0:0:1] A handler is started. Active handler count is 1
2011-12-08 16:48:50,238 [http-w07 [container2-15]] INFO  MessageHandler  - Start Message Handing
2011-12-08 16:48:50,238 [http-w07 [container2-15]] DEBUG MessageHandler  - [version:10001][className:oz.framework.cp.message.repositoryex.OZRepositoryRequestItem]
2011-12-08 16:48:50,238 [http-w07 [container2-15]] DEBUG MessageHandler  - Request Message starts fetching for Response
2011-12-08 16:48:50,238 [http-w07 [container2-15]] DEBUG OZStream  - read Item size = 2170
2011-12-08 16:48:50,238 [http-w07 [container2-15]] DEBUG OZRepositoryRequestItem  - Reading Message is successfully completed
